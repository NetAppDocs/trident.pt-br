<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="17c5eeb01739643b5aef94fe18b6c849" category="summary">Você pode usar o seletor de versão para navegar entre a versão mais recente e as quatro versões anteriores ou usar os links abaixo.</block>
  <block id="ba09ee47d11962c1ccd13d7e1f10e6c5" category="doc">Versões anteriores da documentação</block>
  <block id="af2a4d2810d86aa0169c117f82682f9a" category="doc">Perguntas frequentes</block>
  <block id="96ab491ef73d5db0cd15f55e1552cc22" category="section-title">Questões gerais</block>
  <block id="b4f83b03956523a39e8bbbd0895f0f29" category="inline-link-macro">Cloud Insights</block>
  <block id="3c70f31b6cfd2fccfef3e715c4c4cabb" category="inline-link-macro">Personalize a instalação do tridentctl</block>
  <block id="3a766ef0e7ab8dbf17dc86487efd5fbf" category="paragraph">O instalador do Trident cria um ClusterRole Kubernetes, que tem acesso específico aos recursos Persistentvolume, PersistentVolumeClaim, StorageClass e segredo do cluster do Kubernetes. <block ref="118dd7a3d307a499ad0f9c547981393b" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="92d1656d06303733c5e1398fb273a17e" category="section-title">Solução de problemas e suporte</block>
  <block id="a3d907947129a58ee6f9e23074840c8f" category="section-title">Como faço para levantar um caso de suporte?</block>
  <block id="0265687df6c09d532b03477776c6d075" category="paragraph">Para levantar um caso de suporte, execute um dos seguintes procedimentos:</block>
  <block id="5dab8cca21a0ff4e72d4e2a1ee5156ea" category="list-text">Entre em Contato com seu gerente de conta de suporte e obtenha ajuda para levantar um ticket.</block>
  <block id="09ea0908fbfc4cde85bf416e35dc55c8" category="inline-link">Suporte à NetApp</block>
  <block id="a13956d424374973d31e5883b8bf8b6a" category="list-text">Envie um caso de suporte entrando em Contato<block ref="116f7ad90a3c7441981f82d8f8fba4d5" category="inline-link-rx"></block>com .</block>
  <block id="3e77e87e5ee8fb4f6f910f4cf0594fc2" category="section-title">Como gerar um pacote de log de suporte?</block>
  <block id="7938aed248d09a5120eaf414e6c1d574" category="paragraph">Você pode criar um pacote de suporte executando<block ref="7466d048454007a33a6e078578c48a86" prefix=" " category="inline-code"></block>o . Além dos logs capturados no pacote, capture o log do kubelet para diagnosticar os problemas de montagem no lado do Kubernetes. As instruções para obter o log do kubelet variam de acordo com a forma como o Kubernetes é instalado.</block>
  <block id="2c3543f339dc749a508ed5e5e5aaae23" category="section-title">O que devo fazer se for necessário enviar uma solicitação para um novo recurso?</block>
  <block id="0aa1d7a95d75c0faa8302a803356b7b7" category="section-title">Onde posso levantar um defeito?</block>
  <block id="a7cfd917113a9ee9c1e789887d1d809f" category="inline-link-macro">Canal discord</block>
  <block id="a988578d4c176cf950a2211099db7d92" category="paragraph">Atualize a senha do backend com<block ref="00a81aa9b1d406861879017de885e0fb" prefix=" " category="inline-code"></block>o . Substitua<block ref="3d9fd17a5232cc24eeeaec2b07af5417" prefix=" " category="inline-code"></block> no exemplo pelo nome do backend e<block ref="27ab7e8dbd45daf638f3144d4891ef3b" prefix=" " category="inline-code"></block> pelo caminho para o arquivo correto<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>.</block>
  <block id="bcd549c9f0199c5b8d0b55f782bff9e8" category="section-title">Se o pod Trident for destruído, eu perderei os dados?</block>
  <block id="8cb93d7a514e5569b46cba45dedc7daf" category="paragraph">Os dados não serão perdidos se o pod Trident for destruído. Os metadados do Trident são armazenados em objetos CRD. Todos os PVS que foram provisionados pelo Trident funcionarão normalmente.</block>
  <block id="3de05f78e401869f4630ec8cabf339df" category="section-title">Posso atualizar de uma versão mais antiga diretamente para uma versão mais recente (ignorando algumas versões)?</block>
  <block id="0399b9e6348e554937a4d65efc97a1b8" category="section-title">É possível fazer o downgrade do Trident para uma versão anterior?</block>
  <block id="ba9c59aa9d07b25e124dcf6ca88d689a" category="section-title">Gerenciar backends e volumes</block>
  <block id="25edde63e4922bb316018c25888e64a6" category="inline-link-macro">Mapa de LUN seletivo da ONTAP</block>
  <block id="eb89f16d07a93fa10a31ec6309045fe9" category="inline-link-macro">Exemplos e opções de configuração de SAN ONTAP</block>
  <block id="7d8058d93ec1d95c673d83bf303326ff" category="inline-link-macro">Exemplos e opções de configuração do ONTAP nas</block>
  <block id="a24e915be64ce870d285c6e28a6df3f5" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> E<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> para backends ONTAP nas.</block>
  <block id="fb250da700173f245f4c10d2970cfba8" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> Para backends ONTAP SAN. Não é possível especificar<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> em um back-end de SAN ONTAP.</block>
  <block id="4c0e813a0bfed033d75bbfd8b18f556c" category="section-title">É possível atualizar o LIF de gerenciamento no back-end?</block>
  <block id="66d8fee83a94421ca416a2bdb33703b4" category="paragraph">Sim, é possível atualizar o backend Management LIF usando o<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block> comando.</block>
  <block id="c6e9fbb586ad55ddf4bbda9814c6adc9" category="paragraph">Se os atributos de back-end não puderem ser usados para selecionar automaticamente os pools corretos para uma classe, os<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> parâmetros e<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> serão usados para selecionar um conjunto específico de pools.</block>
  <block id="b127099c71415d532da3a26ed73eb041" category="paragraph">Sim.</block>
  <block id="abbdd4298bb3e525fd172b2bbe5a451c" category="section-title">Como posso definir permissões Unix para volumes provisionados no ONTAP nas?</block>
  <block id="094ef47e6456d60b656401b0f2bbfcbd" category="section-title">Como posso configurar um conjunto explícito de opções de montagem ONTAP NFS enquanto provisiono um volume?</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link-macro">aqui</block>
  <block id="ae6bc3659bb0be0a7d9f98a63775b7c2" category="section-title">Como faço para definir os volumes provisionados para uma política de exportação específica?</block>
  <block id="700a2008fea63d02c24b85f2f75d357e" category="paragraph">Para permitir que os hosts apropriados acessem um volume, use o<block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix=" " category="inline-code"></block> parâmetro configurado no arquivo de definição de back-end.</block>
  <block id="f412d672b51ea3c57812ebf3be0ddccb" category="paragraph"><block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>Use para implementar QoS para ONTAP.</block>
  <block id="0d97afe7a571dc39db1c810013844332" category="paragraph">Os drivers ONTAP oferecem suporte ao provisionamento thin ou thick. Os drivers do ONTAP são padrão para thin Provisioning. Se o provisionamento espesso for desejado, você deverá configurar o arquivo de definição de back-end ou o<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>. Se ambos estiverem configurados,<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> tem precedência. Configure o seguinte para o ONTAP:</block>
  <block id="2d0384de8b72e53c3476a478a5d4ec53" category="list-text">On<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>, defina o<block ref="b713baf75bcf13859037b5274d27d4b8" prefix=" " category="inline-code"></block> atributo como thick (espesso).</block>
  <block id="3764067c4b14276efb241c511c8b0cc2" category="list-text">No arquivo de definição de back-end, ative volumes espessos definindo<block ref="f78b8fc8b3b9f77533234c7f4a240613" prefix=" " category="inline-code"></block> como volume.</block>
  <block id="d4391b26a81fead46afc74243c4029aa" category="section-title">Como posso garantir que os volumes que estão a ser utilizados não sejam eliminados mesmo que elimine acidentalmente o PVC?</block>
  <block id="e58a684cd1a44d4879defbb2ec06b9a4" category="paragraph">A proteção de PVC é ativada automaticamente no Kubernetes a partir da versão 1,10.</block>
  <block id="3319194e0ba07a6aa327aefa1ab1e41f" category="section-title">Posso importar um volume enquanto estiver no modo de proteção de dados (DP) da SnapMirror ou offline?</block>
  <block id="0b10afe39923054016a71caf423fdec6" category="paragraph">A importação de volume falha se o volume externo estiver no modo DP ou estiver offline. Você recebe a seguinte mensagem de erro:</block>
  <block id="eed67b2d196c61d9c6cf4a50878ba446" category="section-title">Como a cota de recursos é traduzida para um cluster NetApp?</block>
  <block id="804a6c22698fe4782c44f1e8d446964e" category="paragraph">A partir de hoje, o suporte a snapshot sob demanda está disponível para o nosso<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block><block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>,<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>, , ,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>, e<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> drivers de back-end.</block>
  <block id="0bdcd128fab544a7df404bc496a4126e" category="paragraph">Isso está disponível nos<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers ,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> . Você também pode especificar um<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> para o<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> driver no nível FlexVol.</block>
  <block id="6b0d34d8a0749198a6b80eec69479c86" category="section-title">Posso acessar diretamente o diretório instantâneo do volume e copiar arquivos?</block>
  <block id="eb3a2d1eb3c4022269f4c6837332311a" category="paragraph">Sim, você pode acessar o diretório instantâneo no volume provisionado pelo Trident definindo o<block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix=" " category="inline-code"></block> parâmetro no arquivo de definição de back-end.</block>
  <block id="64dd4ea74b402889a9c341da491f4933" category="paragraph">Atualmente, o SnapMirror precisa ser definido externamente usando a CLI ou o OnCommand System Manager do ONTAP.</block>
  <block id="e321bf6d54ded18df56a41ea51223a2a" category="section-title">Como faço para restaurar volumes persistentes para um snapshot específico do ONTAP?</block>
  <block id="5325f5d2cf63aaaa6610f09e8aa4dc35" category="paragraph">Para restaurar um volume para um instantâneo do ONTAP, execute as seguintes etapas:</block>
  <block id="4e789db936072df2058e9f271a9b8db8" category="list-text">Quiesce o pod do aplicativo que está usando o volume persistente.</block>
  <block id="b34baa75f4f799a23b19de9b94e86868" category="list-text">Reverter para o snapshot necessário por meio da CLI ou OnCommand System Manager do ONTAP.</block>
  <block id="08754f2800804f1fe3673c858b4b56e0" category="list-text">Reinicie o pod de aplicativos.</block>
  <block id="5a333b18a215ecfd4457ba0e1732654b" category="section-title">O Trident provisiona volumes em SVMs que têm um espelhamento de compartilhamento de carga configurado?</block>
  <block id="0e7629426b9d7596800cd5d72f558a7f" category="paragraph">Os espelhos de compartilhamento de carga podem ser criados para volumes raiz de SVMs que fornecem dados por NFS. O ONTAP atualiza automaticamente os espelhos de compartilhamento de carga para volumes criados pelo Trident. Isso pode resultar em atrasos nos volumes de montagem. Quando vários volumes são criados usando o Trident, o provisionamento de um volume depende da atualização do espelhamento de compartilhamento de carga do ONTAP.</block>
  <block id="0d3ef54a4cc337b5d907b6639e51c6d4" category="section-title">Como posso separar o uso da classe de storage para cada cliente/locatário?</block>
  <block id="fda1b35892cb6f61447f0e49415937d9" category="paragraph">O Kubernetes não permite classes de storage em namespaces. No entanto, você pode usar o Kubernetes para limitar o uso de uma classe de armazenamento específica por namespace usando cotas de recursos de armazenamento, que são por namespace. Para negar acesso a um namespace específico a um armazenamento específico, defina a cota de recurso como 0 para essa classe de armazenamento.</block>
  <block id="c217b0ac2dd5504f79ba78b220a9c358" category="summary">O NetApp fornece suporte para Trident de várias maneiras. Amplas opções gratuitas de auto-suporte estão disponíveis 24 horas por dia, 7 dias por semana, como um canal discord.</block>
  <block id="db5eb84117d06047c97c9a0191b5fffe" category="doc">Suporte</block>
  <block id="8327052a054aaa112ecf4f19369899c9" category="inline-link-macro">Suporte à versão do software NetApp para definições</block>
  <block id="34678ee868eeabce720fc4a0fd60c17a" category="list-text">Suporte completo</block>
  <block id="d397c85f7e5c9820b73839b4255bab4e" category="list-text">Suporte limitado</block>
  <block id="57b81b24dfc6e0b0f8ce342d0f7250d3" category="list-text">Auto-suporte</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">Versão</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="38999be4c01ec9d8c11d4405b7dc50e0" category="inline-link-macro">24,06</block>
  <block id="94d267f658e04734eb2e098127293a89" category="cell">Junho de 2025</block>
  <block id="c21446b3ecfb30ed6c2760d686bd4578" category="cell">Junho de 2026</block>
  <block id="2f57a6988da045d1c26e2c5016ad0900" category="cell">Junho de 2027</block>
  <block id="4e9b156e7e2788c8cd4b0877fd922657" category="inline-link-macro">24,02</block>
  <block id="6cc5c9e930ea3d3b8bff4367c60ceea4" category="cell">Fevereiro de 2025</block>
  <block id="be90349da04be71a620e68314d810f7f" category="cell">Fevereiro de 2026</block>
  <block id="4b7cb6c36399bdd4e8724de18a1c079b" category="cell">Fevereiro de 2027</block>
  <block id="766995a062c6503acd7ac4752fbb865d" category="inline-link-macro">23,10</block>
  <block id="bcb8f00239af2cecd5a6b534dabea922" category="paragraph"><block ref="bcb8f00239af2cecd5a6b534dabea922" category="inline-link-macro-rx"></block></block>
  <block id="99dfa28920a40a7be0858c50f989a3e5" category="cell">Outubro de 2025</block>
  <block id="78c875172f37f031a2632dc008815ee1" category="cell">Outubro de 2026</block>
  <block id="217af7d1776d22530d98be04d104fd49" category="inline-link-macro">23,07</block>
  <block id="62bc04158f931e9b0a26f5676c8ab043" category="paragraph"><block ref="62bc04158f931e9b0a26f5676c8ab043" category="inline-link-macro-rx"></block></block>
  <block id="928f12ce7e1197fe962e09f979b98d0d" category="cell">Julho de 2025</block>
  <block id="a257f7f4b2f6e07845ce567df142ad00" category="cell">Julho de 2026</block>
  <block id="1a3a2b5e6c52142797bb5c00594e2a3c" category="inline-link-macro">23,04</block>
  <block id="4f00a05b361ef580687832a6a48984db" category="paragraph"><block ref="4f00a05b361ef580687832a6a48984db" category="inline-link-macro-rx"></block></block>
  <block id="cfab1ba8c67c7c838db98d666f02a132" category="cell">--</block>
  <block id="42ce83dc3f5ef22d986311b267a5ac20" category="cell">Abril de 2025</block>
  <block id="fc7d05f9009e90b92a15aad926bca249" category="cell">Abril de 2026</block>
  <block id="8dfda84fc7f59655e20a770603bf9231" category="inline-link-macro">23,01</block>
  <block id="e0ed61e44672f0b6193055dd0719d240" category="paragraph"><block ref="e0ed61e44672f0b6193055dd0719d240" category="inline-link-macro-rx"></block></block>
  <block id="7022ed6df71cc12fbd0576cef4df23fd" category="cell">Janeiro de 2026</block>
  <block id="775d4bb28d257a6aa23992563a82c458" category="inline-link-macro">22,10</block>
  <block id="1d064e71d708bc66779c604db1339850" category="paragraph"><block ref="1d064e71d708bc66779c604db1339850" category="inline-link-macro-rx"></block></block>
  <block id="b321f6c1ada34a3fa850996d673e01ca" category="inline-link-macro">22,07</block>
  <block id="295e1f077ca9f1e68f56c558741bad74" category="paragraph"><block ref="295e1f077ca9f1e68f56c558741bad74" category="inline-link-macro-rx"></block></block>
  <block id="40e41fb2db11266b8f751c0d5c67cba0" category="inline-link">Base de Conhecimento NetApp (login necessário)</block>
  <block id="1cf7168782187634fbc408c66b895dbc" category="section-title">Apoio comunitário</block>
  <block id="965b11d07d6acceebc9efec23e5e74a9" category="section-title">Suporte técnico da NetApp</block>
  <block id="d13de4a83d7b44c2e65495def8ef1c7b" category="section-title">Para mais informações</block>
  <block id="874d8a5301794a9ca2aba132ac2460f3" category="inline-link-macro">Kubernetes Hub</block>
  <block id="8f4c1b75985ff2903107b7115115ea58" category="list-text"><block ref="8f4c1b75985ff2903107b7115115ea58" category="inline-link-macro-rx"></block></block>
  <block id="d59c00abbeaf33a9a094b3a69c563405" category="inline-link-macro">NetApp.io</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">Avisos legais</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="paragraph">Avisos legais fornecem acesso a declarações de direitos autorais, marcas registradas, patentes e muito mais.</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">Direitos de autor</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">Marcas comerciais</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp, o logotipo DA NetApp e as marcas listadas na página de marcas comerciais da NetApp são marcas comerciais da NetApp, Inc. Outros nomes de produtos e empresas podem ser marcas comerciais de seus respetivos proprietários.</block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">Patentes</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">Uma lista atual de patentes de propriedade da NetApp pode ser encontrada em:</block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">Política de privacidade</block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">Código aberto</block>
  <block id="89c3bcf0ecc1114f8d19734d9156cb40" category="doc">Provisionamento</block>
  <block id="7c14ddfe8f627e4786f4da7cd4cea9ba" category="section-title">Associação de classe de armazenamento</block>
  <block id="ab4589eca69db942d79a0dbbd9ec8399" category="section-title">Criação de volume</block>
  <block id="e9c3828cd06711f9036bb4ce862a32c5" category="doc">Instantâneos de volume</block>
  <block id="a6fbed601c3d014f6d8342990aeee0b5" category="section-title">Saiba mais sobre a criação de instantâneos de volume</block>
  <block id="5d4b9bc562ebe88c39d0e521b90fc54b" category="list-text">Para<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> o condutor, cada volume persistente (PV) é mapeado para um FlexGroup. Como resultado, os snapshots de volume são criados como snapshots do NetApp FlexGroup. A tecnologia Snapshot da NetApp oferece mais estabilidade, escalabilidade, capacidade de recuperação e desempenho do que as tecnologias de snapshot da concorrência. Essas cópias snapshot são extremamente eficientes no tempo necessário para criá-las e no espaço de storage.</block>
  <block id="9dbabbadda024bb7b1d0db43ab31b45f" category="list-text">Para<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> o driver, cada PV mapeia para um LUN criado no cluster do software/NetApp HCI do NetApp Element. VolumeSnapshots são representados por instantâneos de elementos do LUN subjacente. Esses snapshots são cópias pontuais e ocupam apenas um pequeno espaço e recursos do sistema.</block>
  <block id="aa3a2f2908114304b0a2fa7847f52c52" category="doc">Pools virtuais</block>
  <block id="c395d1a6e14d73fb73663b1198b0b134" category="section-title">Saiba mais sobre pools virtuais</block>
  <block id="6293784c303cb134632b85dc06f372df" category="image-alt">Mostra o diagrama conceitual de pools virtuais.</block>
  <block id="2a778cf7220cdde142651975e1bcd90f" category="paragraph">Qualquer aspeto especificado fora da lista de pools virtuais é global para o back-end e se aplicará a todos os pools virtuais, enquanto cada pool virtual pode especificar um ou mais aspetos individualmente (substituindo quaisquer aspetos globais de back-end).</block>
  <block id="e26346b2afab61526141ea7275a77ba3" category="list-text">Ao definir pools virtuais, não tente reorganizar a ordem dos pools virtuais existentes em uma definição de back-end.</block>
  <block id="92aa2031bb642a0c5c916142f725400d" category="list-text">Aconselhamos a não modificar atributos para um pool virtual existente. Você deve definir um novo pool virtual para fazer alterações.</block>
  <block id="43d41b472d09879b85f78a3b8e487fd1" category="paragraph">A maioria dos aspetos são especificados em termos específicos de back-end. Fundamentalmente, os valores de aspeto não são expostos fora do driver do back-end e não estão disponíveis para correspondência em<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>. em vez disso, o administrador define um ou mais rótulos para cada pool virtual. Cada rótulo é um par chave:valor, e os rótulos podem ser comuns em backends exclusivos. Assim como aspetos, os rótulos podem ser especificados por pool ou globais para o back-end. Ao contrário de aspetos, que têm nomes e valores predefinidos, o administrador tem total discrição para definir chaves de rótulo e valores conforme necessário. Por conveniência, os administradores de storage podem definir rótulos por pool virtual e volumes de grupo por rótulo.</block>
  <block id="e084f7ea866c7ad616e67a911925c850" category="paragraph">A<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> identifica qual pool virtual usar fazendo referência aos rótulos dentro de um parâmetro seletor. Os seletores de pool virtual suportam os seguintes operadores:</block>
  <block id="e1b3ec89ead7f83a9245ed5c9cacfdbf" category="cell">Operador</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="cell">Exemplo</block>
  <block id="3b64653c97a388d828849314b6a1b383" category="cell">O valor do rótulo de um pool deve:</block>
  <block id="499badcb6f450c7f46c51d873eb84286" category="cell"><block ref="43ec3e5dee6e706af7766fffea512721" prefix="" category="inline-code"></block></block>
  <block id="354653142ec321459dfd6d71444e992e" category="cell">desempenho superior</block>
  <block id="6da89265a9a8b0b28eb4946bb2ec0c6d" category="cell">Correspondência</block>
  <block id="5a5292b0a0d0379f0f1b12801b09b266" category="cell"><block ref="de0219f9333d57ea89a9ba235df098ba" prefix="" category="inline-code"></block></block>
  <block id="eccde6822783bd75209c9b6a2d357f6c" category="cell">performance! extrema</block>
  <block id="ecf92052d55345fee4602d9eb8c22063" category="cell">Não corresponde</block>
  <block id="ae2bef277194f73d24a36a78009aac1e" category="cell"><block ref="13b5bfe96f3e2fe411c9f66f4a582adf" prefix="" category="inline-code"></block></block>
  <block id="f8cf8c23afb5459dbf7c24b685caf85b" category="cell">localização em (leste, oeste)</block>
  <block id="c6c1caf73b0f83d807abe5a717014ab7" category="cell">Esteja no conjunto de valores</block>
  <block id="1a031eecbce49366e550273b9321b909" category="cell"><block ref="935f754ecc68ca688f61c154c404ed06" prefix="" category="inline-code"></block></block>
  <block id="b5585f3f9b45f391fee5dd15e6516450" category="cell">notificação de desempenho (prata, bronze)</block>
  <block id="8daf6b016f4033d59900c23f162c0f73" category="cell">Não estar no conjunto de valores</block>
  <block id="c6bfba38b789fec8271d1d1496a9ee59" category="cell"><block ref="42538adbdb6240b2b083a000a615d5bd" prefix="" category="inline-code"></block></block>
  <block id="152f5dc0f7ac734f8e8ee17d4a482462" category="cell">proteção</block>
  <block id="7b532e697a35209f3df3956577cc3d9c" category="cell">Existe com qualquer valor</block>
  <block id="eb0254f1d0a82e646c239d4d2e2f83ac" category="cell"><block ref="f65e5ff2a1bb1af969dccabe7dcd5cdd" prefix="" category="inline-code"></block></block>
  <block id="67a3b723b2d9024808eb2c6e686d00a0" category="cell">!proteção</block>
  <block id="1fde97909b90bb329db2062f7744bd45" category="cell">Não existe</block>
  <block id="b4621305109716b02eed0cf25fabab13" category="doc">Grupos de acesso de volume</block>
  <block id="33911b1eec54b4b5a7fbc504e6569989" category="inline-link">grupos de acesso de volume</block>
  <block id="99c850b82f45e568828f2a8c5ab8f94d" category="section-title">Saiba mais sobre grupos de acesso de volume</block>
  <block id="054e161b9c33938d4cac2bab4e4d46b8" category="paragraph">Para clusters de Kubernetes com mais de 64 nós, você deve usar vários grupos de acesso. Cada grupo de acesso pode conter até 64 IQNs e cada volume pode pertencer a quatro grupos de acesso. Com o máximo de quatro grupos de acesso configurados, qualquer nó em um cluster de até 256 nós de tamanho poderá acessar qualquer volume. Para obter os limites mais recentes dos grupos de acesso de volume,<block ref="ac4000c3a85e5909daa6593f9f0617fd" category="inline-link-rx"></block> consulte a .</block>
  <block id="ca3c25915a30bef4ec583f6082477acf" category="paragraph">Se você estiver modificando a configuração de uma que esteja usando o grupo de acesso padrão<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> para outra que também use outras, inclua a ID do<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> grupo de acesso na lista.</block>
  <block id="4cfa22b281cbd36e1a275d61ec23a9b4" category="summary">Você pode coletar Registros para obter ajuda com a solução de problemas. O método que você usa para coletar os logs varia de acordo com a forma como você está executando o plugin Docker.</block>
  <block id="fe1786b49549e8e06a89b9c57d7fc514" category="doc">Recolher registos</block>
  <block id="756909f99bc1a720d318a5f5b94eb094" category="section-title">Recolha registos para resolução de problemas</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">Passos</block>
  <block id="7f86daacf34c67c042470fa9d926ba49" category="paragraph">O nível de registo padrão deve permitir diagnosticar a maioria dos problemas. Se você achar que isso não é suficiente, você pode ativar o Registro de depuração.</block>
  <block id="c28722abec5c1daefa02916119bbff91" category="list-text">Para ativar o registo de depuração, instale o plug-in com o registo de depuração ativado:</block>
  <block id="b142025dd533fb27bf7df1a93c55e311" category="paragraph">Ou, ative o registo de depuração quando o plug-in já estiver instalado:</block>
  <block id="6bdfdbfc466bb6d93222dbf7b3a374fe" category="list-text">Se você estiver executando o binário em si no host, os logs estarão disponíveis no diretório do host<block ref="849fc2421f236e9c9b49a9d3fed2c404" prefix=" " category="inline-code"></block>. Para ativar o registo de depuração, especifique<block ref="9b945915b0cddbee22047fd529d642f6" prefix=" " category="inline-code"></block> quando executar o plugin.</block>
  <block id="2aa0797ce5da04d1c6f027c9b3276483" category="section-title">Dicas gerais de solução de problemas</block>
  <block id="94d799ff06bdb0aedb7b64151dac73d7" category="list-text">O problema mais comum em que novos usuários são executados é uma configuração incorreta que impede que o plugin seja inicializado. Quando isso acontecer, você provavelmente verá uma mensagem como esta quando você tentar instalar ou ativar o plugin:</block>
  <block id="fe6b4529e706ebc0f7e3668d3230d029" category="paragraph"><block ref="e10704aaf501d617a85e30884eb05c0b" prefix="" category="inline-code"></block></block>
  <block id="3d924bd43304301ed127cbbd303a4fa6" category="paragraph">Isto significa que o plugin falhou ao iniciar. Felizmente, o plugin foi construído com uma capacidade de Registro abrangente que deve ajudá-lo a diagnosticar a maioria dos problemas que você provavelmente encontrará.</block>
  <block id="79c820c2d64495c47651e58e73f97294" category="list-text">Se houver problemas com a montagem de um PV em um recipiente, certifique-se de que<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block> está instalado e funcionando. Use o gerenciador de pacotes necessário para o sistema operacional do host e verifique se<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block> está em execução. Você pode verificar o status do serviço rpcbind executando um<block ref="461bc51ac38341d1d2fdae2e84bc6e47" prefix=" " category="inline-code"></block> ou seu equivalente.</block>
  <block id="d59db7846bd10b6d60d21543df9faa9e" category="paragraph-title">O que você vai precisar</block>
  <block id="89bcbd8e4ba49b7310e9fa748e878c4b" category="inline-link-macro">pré-requisitos para implantação</block>
  <block id="88f0ab229fa9d759d74fcf6ab7cc17b1" category="section-title">Método de plug-in gerenciado Docker (versão 1,13/17,03 e posterior)</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="admonition-title">Antes de começar</block>
  <block id="7bf1ee8f4e093050c1cdf1842931af7d" category="list-text">Parar todas as instâncias em execução:</block>
  <block id="47b9ec5c8c4439980c63f4188bad5324" category="list-text">Reinicie o Docker.</block>
  <block id="5311ac4d72d5c91dcaa39b896d3b8027" category="list-text">Certifique-se de que tem o Docker Engine 17,03 (novo 1,13) ou posterior instalado.</block>
  <block id="07d6db5e99a0aa19fe76f15efed30ecf" category="inline-link">instale ou atualize a instalação</block>
  <block id="2c3bc9d0632e0cccc05fdd3c42467df9" category="paragraph">Se a sua versão estiver desatualizada,<block ref="ddebe10ca17c0276898872fa2632e8fb" category="inline-link-rx"></block>.</block>
  <block id="48afbcf494fc19ee409f5aff48ae32c3" category="list-text">Crie um arquivo de configuração e especifique as opções da seguinte forma:</block>
  <block id="9314e9bcd24c80b255fc3e9e697a2ada" category="list-text"><block ref="2245023265ae4cf87d02c8b6ba991139" prefix="" category="inline-code"></block>: O nome do arquivo padrão é<block ref="06b2d3b23dce96e1619d2b53d6c947ec" prefix=" " category="inline-code"></block>, no entanto, você pode usar qualquer nome que você escolher especificando a<block ref="2245023265ae4cf87d02c8b6ba991139" prefix=" " category="inline-code"></block> opção com o nome do arquivo. O arquivo de configuração deve estar localizado<block ref="82a4d1e835ca8dc19ea6a437e4af9493" prefix=" " category="inline-code"></block> no diretório no sistema host.</block>
  <block id="8798dc2a3b5e61873054923c9f170ac7" category="list-text"><block ref="6ab0f208312cdf3ab62b4b1061d4f7c0" prefix="" category="inline-code"></block>: Especifique o nível de registo <block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="(" category="inline-code"></block>,<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>,<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block><block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block> , ,<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block> ). A predefinição é<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>.</block>
  <block id="45ed67026a1141006588fcc698646141" category="list-text"><block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="" category="inline-code"></block>: Especifique se o log de depuração está ativado. O padrão é falso. Substitui o nível de log, se verdadeiro.</block>
  <block id="3bed6f89999b483af7f55024d9e7c02a" category="list-text">Crie um local para o arquivo de configuração:</block>
  <block id="28156615c51d4bad2ee47d0a9f43f404" category="list-text">Crie o arquivo de configuração:</block>
  <block id="a9c521f25a3bacb94ad1dd4705b3585f" category="list-text">Crie um volume chamado "firstvolume":</block>
  <block id="4fbca4f67cbe96bc7d7a16691d2912c2" category="list-text">Crie um volume padrão quando o contentor for iniciado:</block>
  <block id="b8e88709dbc4f2f80a96f53f83862704" category="list-text">Remover o volume "firstvolume":</block>
  <block id="0e68ac1d84bfedf203365a9fb37db9ed" category="section-title">Método tradicional (versão 1,12 ou anterior)</block>
  <block id="2c1107bda4c1ae7904ab1835c35973b7" category="list-text">Certifique-se de que você tem o Docker versão 1,10 ou posterior.</block>
  <block id="b6fdfa2eab3e357687eba5ddec2bea0c" category="paragraph">Se a sua versão estiver desatualizada, atualize a instalação.</block>
  <block id="45c61654258cfd16ceec15df7df02138" category="inline-link">siga as instruções para sua distribuição</block>
  <block id="07dff22faeb910f375341cfcbd4899fd" category="paragraph">Ou,<block ref="9ce989a7f7f995616a47f5dd291ed229" category="inline-link-rx"></block>.</block>
  <block id="588d2fe1c60271cde75dbeba32e0b25b" category="list-text">Certifique-se de que NFS e/ou iSCSI estão configurados para o seu sistema.</block>
  <block id="03fe5b0d58270efa87041677cac72ad7" category="list-text">Instale e configure o plug-in de volume do Docker do NetApp:</block>
  <block id="f45f5a64dae951d3e37c9bd382201b06" category="list-text">Baixe e descompacte o aplicativo:</block>
  <block id="b255d9e06a4ca8e9f5bc31c9198426ad" category="list-text">Mover para um local no caminho do compartimento:</block>
  <block id="b2edeceecc054572188ee3b08cd58c64" category="list-text">Depois de colocar o binário e criar o arquivo de configuração, inicie o daemon Trident usando o arquivo de configuração desejado.</block>
  <block id="4846d107d8ddb5051591d14dcbddba8c" category="admonition">A menos que especificado, o nome padrão para o driver de volume é "NetApp".</block>
  <block id="e3dec3f86b9a3b1be209ab63855ce432" category="list-text">Criar um volume:</block>
  <block id="5ff2e3e853922fdb84ef21b85ffdac2e" category="list-text">Provisione um volume Docker ao iniciar um contentor:</block>
  <block id="8f6a91f5f21d0478e3fd89095fc28ab9" category="list-text">Remover um volume Docker:</block>
  <block id="0350980c728940d67af063bb5d711f0f" category="paragraph">Um arquivo de unidade de exemplo para sistemas baseados em systemd pode ser encontrado<block ref="50a97f9b0dec64cc53ca48406c60fe4d" prefix=" " category="inline-code"></block> no repositório Git. Para usar o arquivo com RHEL, faça o seguinte:</block>
  <block id="5b51496da86e5a2073e0c618390c3d2a" category="list-text">Copie o arquivo para o local correto.</block>
  <block id="44103de0a164f687d305ad91e919d8ee" category="paragraph">Você deve usar nomes exclusivos para os arquivos de unidade se tiver mais de uma instância em execução.</block>
  <block id="3223aadc84a3ccb4a3473ba01c895184" category="list-text">Edite o arquivo, altere a descrição (linha 2) para corresponder ao nome do driver e ao caminho do arquivo de configuração (linha 9) para refletir seu ambiente.</block>
  <block id="1edae3931401a32d7dd7dd6e0a2ad563" category="list-text">Recarregue systemd para que ele ingere alterações:</block>
  <block id="db38a93e27eba57d507611d002ad612f" category="list-text">Ative o serviço.</block>
  <block id="c7e0a4deeebe264aa7d5f7f3ca3ef77f" category="paragraph">Esse nome varia dependendo do que você nomeou o arquivo no<block ref="dce2a9642217836d54f614dfd625b753" prefix=" " category="inline-code"></block> diretório.</block>
  <block id="baa04490a79e9e8de7fa4cd44e2c6fbb" category="list-text">Inicie o serviço.</block>
  <block id="93c7574cf83c1f01b04891cf2d826cea" category="list-text">Ver o estado.</block>
  <block id="f4f15418284ae7a01b27fccc1af0463a" category="admonition">Sempre que você modificar o arquivo unit, execute o<block ref="269b117015efb12595eebf74692e5cbc" prefix=" " category="inline-code"></block> comando para que ele esteja ciente das alterações.</block>
  <block id="3a3b7ac2e39541ea05707ccd6eb054d4" category="doc">Problemas e limitações conhecidos</block>
  <block id="8bb35988eac5a841d2af092365f1aa42" category="section-title">A atualização do plug-in de volume do Docker do Trident para 20,10 e posterior a partir de versões mais antigas resulta em falha de atualização com o erro de nenhum arquivo ou diretório.</block>
  <block id="7aebfa1e2291377e040de92d7f7f335f" category="list-title">Solução alternativa</block>
  <block id="f49f11bc5398ac13e500d16eac424e77" category="list-text">Desative o plugin.</block>
  <block id="cc3dae6dd6670606c41c62b10273605e" category="list-text">Remova o plugin.</block>
  <block id="6010901b5c4bb6ad671e6f07fcc038d8" category="list-text">Reinstale o plugin fornecendo o parâmetro extra<block ref="2245023265ae4cf87d02c8b6ba991139" prefix=" " category="inline-code"></block>.</block>
  <block id="e527ab8c1c51767e38a3603d51d2d6e5" category="section-title">Os nomes dos volumes devem ter um mínimo de 2 carateres.</block>
  <block id="45c9df594d13c8a5e5472503d5f14b01" category="inline-link">Veja o bug 25773</block>
  <block id="c167efd138e06a8ee59885983c5ddf69" category="admonition">Esta é uma limitação de cliente Docker. O cliente interpretará um único nome de caractere como sendo um caminho do Windows.<block ref="f082f49b923960d888c1d98a1e9f4fcb" category="inline-link-rx"></block>.</block>
  <block id="a7c3ff464b1ef4364de4df03d66bee5e" category="list-text">Docker Swarm atualmente faz uso do nome do volume em vez de ID do volume como seu identificador de volume exclusivo.</block>
  <block id="61ab6f5cff8de89cba95d9e3bbc4ff71" category="list-text">As solicitações de volume são enviadas simultaneamente para cada nó em um cluster Swarm.</block>
  <block id="48cbf13b390ff021b130d5f372147af5" category="paragraph">O NetApp forneceu feedback à equipe do Docker, mas não tem qualquer indicação de recurso futuro.</block>
  <block id="29cff148f43bc689eb14447b333f6f83" category="section-title">Se um FlexGroup estiver sendo provisionado, o ONTAP não provisiona um segundo FlexGroup se o segundo FlexGroup tiver um ou mais agregados em comum com o FlexGroup sendo provisionado.</block>
  <block id="8f327f2ceda84404290184a7454160ed" category="paragraph">Várias instâncias do Trident são necessárias quando você deseja ter várias configurações de storage disponíveis simultaneamente. A chave para várias instâncias é dar nomes diferentes usando a<block ref="14742efbfd1451d64cd78e6664734234" prefix=" " category="inline-code"></block> opção com o plug-in em contentor, ou<block ref="3462d72f00482b2e9f6fcfcdf665289b" prefix=" " category="inline-code"></block> opção ao instanciar o Trident no host.</block>
  <block id="52ef1c6ffefaba3249f208369424635d" category="section-title">Etapas para o plugin gerenciado do Docker (versão 1,13/17,03 ou posterior)</block>
  <block id="547c4a5f7c863aad85f5265c03ed72ea" category="list-text">Inicie a primeira instância especificando um alias e um arquivo de configuração.</block>
  <block id="991ac134f22efa2bb955362d95827ae5" category="list-text">Inicie a segunda instância, especificando um alias diferente e arquivo de configuração.</block>
  <block id="aa0dc0ac69e69c434317798e1aa9842b" category="list-text">Crie volumes especificando o alias como o nome do driver.</block>
  <block id="5ae25a45ab76de161f87fc41a84f746d" category="paragraph">Por exemplo, para o volume de ouro:</block>
  <block id="6dab7c53f6e3de2eae52e928dfe5b861" category="paragraph">Por exemplo, para o volume prateado:</block>
  <block id="67754cb209925946943e297b3a8be344" category="section-title">Passos para o tradicional (versão 1,12 ou anterior)</block>
  <block id="cbd128765e82966ed5e454a99b22e688" category="list-text">Inicie o plugin com uma configuração NFS usando um ID de driver personalizado:</block>
  <block id="51c923daa4caf6aea6d24201b73871b6" category="list-text">Inicie o plug-in com uma configuração iSCSI usando um ID de driver personalizado:</block>
  <block id="dd72ade865d731ba8f6a6fc4c8ccd86f" category="list-text">Provisione volumes Docker para cada instância de driver:</block>
  <block id="8e2044cc9d4e8f515ad4809a68d75465" category="paragraph">Por exemplo, para NFS:</block>
  <block id="d39eb6e4299503c5d451d19b9645be42" category="paragraph">Por exemplo, para iSCSI:</block>
  <block id="782bd8949cb40c80fd3f3126eccab35a" category="doc">Pré-requisitos para implantação</block>
  <block id="88825f48aa3e053d7df66897e8b63e38" category="section-title">Verifique os requisitos</block>
  <block id="b4851e92b19af0c5c82447fc0937709d" category="inline-link-macro">requisitos</block>
  <block id="6bee7851f8606d588c9122b234c202e3" category="list-text">Verifique se sua implantação atende a todos <block ref="6fc1811f5f9a8ae54793544600e2dff7" category="inline-link-macro-rx"></block>os .</block>
  <block id="d46ecc35447a8c17ef014ff6daf07bba" category="inline-link">instale ou atualize-o.</block>
  <block id="1035fa0ac2c3ed19f6ba56cafe7e121f" category="list-text">Verifique se você tem uma versão suportada do Docker instalada. Se a versão do Docker estiver desatualizada,<block ref="0b011811ae105895ca4da9769d7e6f99" category="inline-link-rx"></block>.</block>
  <block id="fdb5bcd69c8617adc24a528d074b060b" category="list-text">Verifique se os pré-requisitos do protocolo estão instalados e configurados no seu host.</block>
  <block id="2cb4ed05fbad97efb755e294c572862d" category="section-title">Ferramentas NFS</block>
  <block id="dc3c80fe7e62048ec7f179f78dd1d918" category="paragraph">Instale as ferramentas NFS usando os comandos do seu sistema operacional.</block>
  <block id="05a2712653dfbf7d695c18242d9848e6" category="open-title">RHEL 8 MAIS</block>
  <block id="3d945423f8e9496c429a5d8c65b4604f" category="open-title">Ubuntu</block>
  <block id="7b05c6f5db7b1690970d79c209e667fc" category="admonition">Reinicie seus nós de trabalho após instalar as ferramentas NFS para evitar falhas ao anexar volumes a contêineres.</block>
  <block id="0172151d0fbf6ae973feaaaf8a2c1b3a" category="section-title">Ferramentas iSCSI</block>
  <block id="10ff9e1b33974d06317ff739498154ce" category="paragraph">Instale as ferramentas iSCSI utilizando os comandos do seu sistema operativo.</block>
  <block id="8cd5b262d8d9950185128d052d55f7c8" category="list-text">Instale os seguintes pacotes de sistema:</block>
  <block id="1a5157a00ea5806f553766d5b3b114fd" category="list-text">Verifique se a versão iscsi-iniciador-utils é 6,2.0,874-2.el7 ou posterior:</block>
  <block id="19955b3c2d2c1cfc1c82c2fe0347a065" category="list-text">Definir a digitalização para manual:</block>
  <block id="d0b02d407fd5c75d0e7eac549a852191" category="list-text">Ativar multipathing:</block>
  <block id="60c268e00db3206011b54b01705d7211" category="admonition">Certifique-se de<block ref="7901fe536dc82e3cb12052c3fac7fef6" prefix=" " category="inline-code"></block> que contém<block ref="2a81b35478c9ccb4f9392dcc40edb8e6" prefix=" " category="inline-code"></block><block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> em .</block>
  <block id="8bec0eea71974a9138ccfa96983ddcfc" category="list-text">Certifique-se de que<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block> e<block ref="8732863da72605a20ed96b4eee87a5fb" prefix=" " category="inline-code"></block> estão a funcionar:</block>
  <block id="8018f5d6ddc4e67678d1659757828deb" category="list-text">Ativar e iniciar<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>:</block>
  <block id="a53508e75911225e5de8b5febc82cf12" category="list-text">Verifique se a versão Open-iscsi é 2,0.874-5ubuntu2.10 ou posterior (para bionic) ou 2,0.874-7.1ubuntu6.1 ou posterior (para focal):</block>
  <block id="b163c84ad8a4e55a17b51aad8074093e" category="list-text">Certifique-se de que<block ref="356cb36dc1c54ae3f8a7c332c76d7edd" prefix=" " category="inline-code"></block> e<block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block> estão ativados e em execução:</block>
  <block id="b00fd28ef92c5c525d66d12aa0d5e4dd" category="section-title">Ferramentas NVMe</block>
  <block id="cfd4e84c111973cbf00e30acfd3af3b1" category="paragraph">Instale as ferramentas NVMe usando os comandos do seu sistema operacional.</block>
  <block id="c5c04ab13d0b9dcc3187f7e5cdfb7a00" category="list-text">O NVMe requer o RHEL 9 ou posterior.</block>
  <block id="f961ae7e5a407c3c3df6f5facf3c1ef3" category="list-text">Se a versão do kernel do seu nó Kubernetes for muito antiga ou se o pacote NVMe não estiver disponível para a versão do kernel, talvez seja necessário atualizar a versão do kernel do nó para uma com o pacote NVMe.</block>
  <block id="38aef0bc7cf230dfcf5476915774aa95" category="open-title">RHEL 9</block>
  <block id="34e1f7eb303c0a150cd440611b3b5e24" category="doc">Opções de configuração de armazenamento</block>
  <block id="51f834b47bcd78a0f4f40fd8ca40446f" category="section-title">Opções de configuração global</block>
  <block id="054b4f3ea543c990f6b125f41af6ebf7" category="cell">Opção</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">Descrição</block>
  <block id="7877022c956918624cc0373ff564cad4" category="cell"><block ref="2af72f100c356273d46284f6fd1dfc08" prefix="" category="inline-code"></block></block>
  <block id="63b276a6c28274ed5e553d4ce3fe7eb1" category="paragraph">Número da versão do ficheiro de configuração</block>
  <block id="2fc042d3545f5ad7df1999c9e5486176" category="paragraph"><block ref="c4ca4238a0b923820dcc509a6f75849b" prefix="" category="inline-code"></block></block>
  <block id="868dff7060d78b6417dc8e065eca8374" category="cell"><block ref="d45aebe724c55b101f2ae8924ba3d486" prefix="" category="inline-code"></block></block>
  <block id="ac5eb8fcbd1ed9c85a98d91e10e26a38" category="paragraph">Nome do driver de armazenamento</block>
  <block id="bba4e1b8d8614fe9da2d67e2dcef4b52" category="paragraph"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, ,<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block><block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> , , ,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="c08068da3c5d19547544c4bd424a6b76" category="cell"><block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix="" category="inline-code"></block></block>
  <block id="7ff5348ddee6132fe7c166b8b7917cc0" category="paragraph">Prefixo opcional para nomes de volume. Padrão:<block ref="689ee6510c7f9ef9df1c263a08823d96" prefix=" " category="inline-code"></block>.</block>
  <block id="81998bdb6c3f52ba69dbecf0ec513180" category="paragraph"><block ref="46fa46eed970046d03e2dedc95cdc83b" prefix="" category="inline-code"></block></block>
  <block id="91590ee78f1b4751284f4f9ea80cfe86" category="cell"><block ref="e083f2ed1275af0ce4336a068ebee72a" prefix="" category="inline-code"></block></block>
  <block id="dfb6135042da6e8fbf367d9cf13431ef" category="paragraph">Restrição opcional nos tamanhos de volume. Padrão: "" (não aplicado)</block>
  <block id="5d8040f7ca409e3993359a877f675e59" category="paragraph"><block ref="75da9d6de91e782eca4fa00341367135" prefix="" category="inline-code"></block></block>
  <block id="0863f9e97e159e3ea1ce46bdb49b1254" category="paragraph">As opções padrão estão disponíveis para evitar ter que especificá-las em cada volume criado. A<block ref="f7bd60b75b29d79b660a2859395c1a24" prefix=" " category="inline-code"></block> opção está disponível para todos os tipos de controlador. Consulte a seção Configuração do ONTAP para obter um exemplo de como definir o tamanho padrão do volume.</block>
  <block id="a48a8458539e489328f4d6d3fc0ee288" category="cell"><block ref="f7bd60b75b29d79b660a2859395c1a24" prefix="" category="inline-code"></block></block>
  <block id="9548d4d33e26f6bbe564b4eb47a52e4b" category="paragraph">Tamanho padrão opcional para novos volumes. Predefinição:<block ref="7d0f45b4b1cf6603762c74ca39c833dd" prefix=" " category="inline-code"></block></block>
  <block id="dfda6aac7ee732ec79153da76a0e963a" category="paragraph"><block ref="08aa1584c9a5791fb64b0f7f1453f9eb" prefix="" category="inline-code"></block></block>
  <block id="0353522b39b87d54d40d3f09ec668851" category="section-title">Configuração ONTAP</block>
  <block id="cd536bce1bed61366e8d17a85fe6678a" category="paragraph">Além dos valores de configuração global acima, ao usar o ONTAP, as seguintes opções de nível superior estão disponíveis.</block>
  <block id="07c54fe26be1e43601e99cd9d4fbe262" category="cell"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block></block>
  <block id="464779f3491153dd1e79ddbd8a81e3f0" category="paragraph">Endereço IP do ONTAP Management LIF. Você pode especificar um nome de domínio totalmente qualificado (FQDN).</block>
  <block id="b6d628512c1127da9adb6c459c9f7c95" category="paragraph"><block ref="190dafab69706a67221c1226360de7dc" prefix="" category="inline-code"></block></block>
  <block id="bd81db53971fda3e688447b28c747d1a" category="cell"><block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix="" category="inline-code"></block></block>
  <block id="c95cada2a569592345ebc18e5ef4c7aa" category="paragraph">Endereço IP do protocolo LIF.</block>
  <block id="251296d0166ace97771b155156985b38" category="paragraph"><block ref="98a2cd7efa1ba950d42e42af495c4248" prefix="" category="inline-code"></block></block>
  <block id="afc423de2be5ca5ab3a6ae9548bbfcf3" category="cell"><block ref="924ff83ff1e671bacfb07ff12b845703" prefix="" category="inline-code"></block></block>
  <block id="11053eb2b6ac6e8802c67c054cf55ad9" category="paragraph">Máquina virtual de armazenamento a utilizar (necessária, se o LIF de gestão for um LIF de cluster)</block>
  <block id="9fcbfb18564773bb1604cf400912944c" category="paragraph"><block ref="b26399fddd6473c150b4e7528fb04fdc" prefix="" category="inline-code"></block></block>
  <block id="6d77646a2fd9ab65f8e3344d7dce661a" category="cell"><block ref="14c4b06b824ec593239362517f538b29" prefix="" category="inline-code"></block></block>
  <block id="723a179bbb9fc3c4f12cf296a8841b27" category="paragraph">Nome de utilizador para ligar ao dispositivo de armazenamento</block>
  <block id="8131d179a4284fbb0ed410bbbbcf1eb6" category="paragraph"><block ref="6173aa5206484b5224450952747c7148" prefix="" category="inline-code"></block></block>
  <block id="6aa91a7fbb8c9edcf4aa5f9411aec19c" category="cell"><block ref="5f4dcc3b5aa765d61d8327deb882cf99" prefix="" category="inline-code"></block></block>
  <block id="8cf10281cf3b9290d5988c57a7d19693" category="paragraph">Palavra-passe para ligar ao dispositivo de armazenamento</block>
  <block id="c4dc9cb5606cc8c0597a5c8f1f77b005" category="paragraph"><block ref="5ebe2294ecd0e0f08eab7690d2a6ee69" prefix="" category="inline-code"></block></block>
  <block id="7e6d207f2b120c6cc9caa98510aa51c6" category="cell"><block ref="39adbeb6bc21a3133e5fdcf1ec05d1a0" prefix="" category="inline-code"></block></block>
  <block id="fc3424ba1777889d0d49ea7f5a675c9e" category="paragraph"><block ref="70d2c7701d2837552c0a38c02a326592" prefix="" category="inline-code"></block></block>
  <block id="12d2394af47293b12d6b5f411f99a6d1" category="cell"><block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix="" category="inline-code"></block></block>
  <block id="925060a0c0a15f99ef1bee43f1660ea4" category="paragraph">Opcional, falha no provisionamento se o uso estiver acima dessa porcentagem</block>
  <block id="e84b7103384d0a3393c0847330716669" category="paragraph"><block ref="f819de81247be4a5428dc0e169de28b8" prefix="" category="inline-code"></block></block>
  <block id="2b45af5c768d7b2495ef631c991ecd78" category="cell"><block ref="e477739f39dbd2f1e1c5268912135e92" prefix="" category="inline-code"></block></block>
  <block id="876885770cf58d20ef5672cc5594e85d" category="inline-link">Consulte as informações de configuração do host NFS aqui</block>
  <block id="7dd39afeb1c0b05aac5f4bf6fbd94990" category="paragraph"><block ref="301c869c551e12d862ab0291837102a0" prefix="" category="inline-code"></block></block>
  <block id="3b890f58db76bb3003ada171cd18c4db" category="cell"><block ref="9d8592d88bbb76c68c01d830f091dacc" prefix="" category="inline-code"></block></block>
  <block id="0ee19d4be17e297cfb39c398cb268b5e" category="paragraph">Este valor não pode ser alterado ou omitido.</block>
  <block id="07d41595da50d0c332f22902db2f76d8" category="paragraph">*Disponível apenas para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o condutor*.</block>
  <block id="684a16b15a51568bcdd546607176bd57" category="paragraph"><block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix="" category="inline-code"></block></block>
  <block id="74d08e13aea757b8172499f067668443" category="paragraph">Tamanho máximo do volume requestable.</block>
  <block id="98ce75f2128e52057c9dbf00a9eb2736" category="paragraph"><block ref="f07e606cfe25ac6fb07d9c4af941d9a2" prefix="" category="inline-code"></block></block>
  <block id="07f6b23cad3d6da54012935ff972affe" category="cell"><block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix="" category="inline-code"></block></block>
  <block id="99d7b353753f3b80388b5ab7e69a4a28" category="paragraph">Qtrees máximos por FlexVol, tem de estar no intervalo [50, 300], o padrão é 200.</block>
  <block id="3e00ac0f228180d0a5a3756df9a5bca3" category="paragraph">*Para<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> o driver, esta opção permite personalizar o número máximo de qtrees por FlexVol*.</block>
  <block id="1ae6e291c93a6d5962af8004aecd9c4c" category="paragraph"><block ref="94f6d7e04a4d452035300f18b984988c" prefix="" category="inline-code"></block></block>
  <block id="89149296a9e0c36d8eb5e9c82e71155b" category="cell"><block ref="5b08b7c4c720db1d75c8c76a920fd99a" prefix="" category="inline-code"></block></block>
  <block id="053b2e680c58724dc4bdd83223136c48" category="cell"><block ref="39eea648dab96b0ee6022dabb38bc420" prefix="" category="inline-code"></block> se estiver em branco</block>
  <block id="f14a3ef36727dfbbea91c1d6b3fdbede" category="cell"><block ref="c8f83e727d4a4255a6485c24776e86bb" prefix="" category="inline-code"></block></block>
  <block id="33fefa32caf35cd4691465f3592a0539" category="cell">*Suportado apenas para<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> drivers e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>.* Limites tamanhos de FlexVol em motoristas econômicos ONTAP ONTAP-nas-Economy e ONTAP-SAN-Economy.</block>
  <block id="3890063556e337d458019437f027030b" category="paragraph">As opções padrão estão disponíveis para evitar ter que especificá-las em cada volume criado:</block>
  <block id="a6bddf19eed00dbe2199864dee8454ce" category="cell"><block ref="cae77b049bf504af7afc43b99b6c5213" prefix="" category="inline-code"></block></block>
  <block id="af2bffb136dd0c22342ad9cb06187197" category="paragraph">Modo de reserva de espaço;<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> (thin Provisioning) ou<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block> (thick)</block>
  <block id="56d058c51fcd79545706c62569ba5a19" category="paragraph"><block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix="" category="inline-code"></block></block>
  <block id="0ec3875cf79264e4689a646be2f704b6" category="cell"><block ref="0a236e7685e50a59df980d0a30929d6c" prefix="" category="inline-code"></block></block>
  <block id="7f0d015762fc8e2b44f0ad1cd5429af5" category="paragraph">Política de instantâneos a utilizar, a predefinição é<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="7556d5a1b0c5f68b7cb5aedaa3156008" category="cell"><block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix="" category="inline-code"></block></block>
  <block id="11663b17d5bcea48dbfb36b13965663b" category="paragraph"><block ref="d3d9446802a44259755d38e6d163e820" prefix="" category="inline-code"></block></block>
  <block id="4be01095ce6e500084fc427e5dec61ac" category="cell"><block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix="" category="inline-code"></block></block>
  <block id="871c12a80dbc519da4b71b3ea166cdc4" category="paragraph">Divida um clone de seu pai na criação, o padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="249091efa412cf5e332461c484b979d0" category="paragraph"><block ref="68934a3e9455fa72420237eb05902327" prefix="" category="inline-code"></block></block>
  <block id="b091cbafedf94db98f17823d044434bd" category="cell"><block ref="5bdf74912a51c34815f11e9a3d20b609" prefix="" category="inline-code"></block></block>
  <block id="2bc97a247278d92f5552529c55ab7f0d" category="paragraph">Ativa a criptografia de volume NetApp (NVE) no novo volume; o padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>. O NVE deve ser licenciado e habilitado no cluster para usar essa opção.</block>
  <block id="b326b5062b2f0e69046810717534cb09" category="paragraph">verdadeiro</block>
  <block id="ce46e8f3fc6eaddbe03115e0d62090ac" category="cell"><block ref="c005e78d4bd808038335c32dd84cf7da" prefix="" category="inline-code"></block></block>
  <block id="290cc6c07ae2ba0a638720a38f1356ed" category="paragraph">Opção nas para volumes NFS provisionados, o padrão é<block ref="f1c1592588411002af340cbaedd6fc33" prefix=" " category="inline-code"></block></block>
  <block id="8dfb6d491cffb51a17396f993c195d8b" category="paragraph"><block ref="f1c1592588411002af340cbaedd6fc33" prefix="" category="inline-code"></block></block>
  <block id="ce8f82152151ae2aadaec166eca744a9" category="cell"><block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix="" category="inline-code"></block></block>
  <block id="22cfef4d87bd251ba39dd92d08a6b0bb" category="paragraph"><block ref="b326b5062b2f0e69046810717534cb09" prefix="" category="inline-code"></block></block>
  <block id="e59001176f4360988f5d774a8405b4b9" category="cell"><block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix="" category="inline-code"></block></block>
  <block id="1667ea9b715250d5f295353e97cde10e" category="paragraph">A opção nas para a política de exportação NFS a usar, o padrão é<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block></block>
  <block id="980ef1c1aa7d1456ee087df02119341e" category="paragraph"><block ref="c21f969b5f03d33d43e04f8f136e7682" prefix="" category="inline-code"></block></block>
  <block id="a463baaf6666da7178b6fc6a3c8a3fee" category="cell"><block ref="f7f695c763ad0e0ba03c2ff9cbcfcb3d" prefix="" category="inline-code"></block></block>
  <block id="f5d176b3de4662ca3603a69ab08bc166" category="paragraph">Opção nas para acesso ao volume NFS provisionado.</block>
  <block id="053b422d907cb55ac105c173adde1080" category="paragraph">Estilos de segurança e<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> suporte de NFS<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>. A predefinição é<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>.</block>
  <block id="69f25314e2d927ebcaa0f19c9f2a57da" category="paragraph"><block ref="4913a9178621eadcdf191db17915fbcb" prefix="" category="inline-code"></block></block>
  <block id="3184b1a9846944fabb00496c4b6b613a" category="cell"><block ref="23030324c640b4b47b8381c02456649a" prefix="" category="inline-code"></block></block>
  <block id="19d28ffef37322622a55f9d7f1f9fa59" category="paragraph">Opção SAN para selecionar o tipo de sistema de arquivos, o padrão é<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="c90caaafbe0da0287b6a84f0894fa40b" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block></block>
  <block id="31aa018945eb62580d68d360cba8ba54" category="cell"><block ref="a3e48f0594dda6037d37d52d343489b0" prefix="" category="inline-code"></block></block>
  <block id="90adf331b7868c7af46ad6e035e93844" category="section-title">Opções de dimensionamento</block>
  <block id="b8f30e4086b754ccaf7bd5d01d8df137" category="paragraph">Se você precisar de mais volumes do Docker do que pode ser acomodado pelos limites do FlexVol, escolha o<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ou o<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> driver.</block>
  <block id="9d83b6d2e2b099e63bf8e2fc8c870893" category="list-text">Requer ONTAP versão 9,2 ou superior.</block>
  <block id="e7c74973b26ad51b9db42a9c347a8cd4" category="list-text">A partir desta redação, FlexGroups só suportam NFS v3.</block>
  <block id="02a100b04add3b90fddef64499e825a2" category="list-text">Recomendado para ativar os identificadores NFSv3 de 64 bits para o SVM.</block>
  <block id="0c0f6724044ed44fb85d2ce3193cb7c3" category="section-title">Exemplo de arquivos de configuração do ONTAP</block>
  <block id="9dbc2be9eae595ee555b36e2d5464473" category="example-title">Exemplo de NFS para o driver &lt;code&gt; ONTAP-nas&lt;/code&gt;</block>
  <block id="e5fdbcee018644d221f382b1d5b8f41a" category="example-title">Exemplo de NFS para o driver &lt;code&gt; ONTAP-nas-FlexGroup &lt;/code&gt;</block>
  <block id="80640d18e28e0ebe180f21ae5d3a563f" category="example-title">Exemplo de NFS para o driver &lt;code&gt; ONTAP-nas-economy&lt;/code&gt;</block>
  <block id="cf156eb50f8332673b89dc95a2cbbd82" category="example-title">Exemplo iSCSI para o controlador &lt;code&gt; ONTAP-san&lt;/code&gt;</block>
  <block id="d5a757f0fabce17fc0eb2e1d3d308b05" category="example-title">Exemplo de NFS para o driver &lt;code&gt; ONTAP-San-economy&lt;/code&gt;</block>
  <block id="fc3afabf3465382a1844a56a3fd55417" category="example-title">Exemplo de NVMe/TCP para o driver &lt;code&gt; ONTAP-san&lt;/code&gt;</block>
  <block id="ffe54c343031d16e77db73e2d950e277" category="section-title">Configuração do software Element</block>
  <block id="3afcd136a7bffa20fc39ba6581412cd2" category="paragraph">Além dos valores de configuração global, ao usar o software Element (NetApp HCI/SolidFire), essas opções estão disponíveis.</block>
  <block id="06981b2729b4b522b21d903c7738a2ca" category="cell"><block ref="2a6ba72e93aa7fa676d07973ed2716bb" prefix="" category="inline-code"></block></block>
  <block id="31b1d21fc5180ec9a5b3d9d7d5ce3295" category="paragraph">/&lt;login&gt;:&lt;password&gt;/&lt;mvip&gt;/json-rpc/&lt;element-version&gt;</block>
  <block id="8eadd25d5b4b5d0637cc13cd7349ce5d" category="paragraph">\https://admin:admin@192.168.160.3/json-rpc/8.0</block>
  <block id="955f5caa2495689258902533d1a6cd44" category="cell"><block ref="dcda39e13b00bf6bd40a507e1833a6f5" prefix="" category="inline-code"></block></block>
  <block id="c61f15977fe4efa0866eea87fb740cda" category="paragraph">Endereço IP iSCSI e porta</block>
  <block id="6a6b63874c664c103982f6d422c6384e" category="paragraph">10,0.0,7:3260</block>
  <block id="4e25fe4a614b527d9b3d89ee6abe5d35" category="cell"><block ref="2e9183e3f034dbf1322a3385f151456e" prefix="" category="inline-code"></block></block>
  <block id="72deb2676231ab8e068ef60dd89edd4c" category="paragraph">Locatário do SolidFireF para usar (criado se não for encontrado)</block>
  <block id="c1fd85851a162222ab0690383666bd47" category="paragraph"><block ref="05b6053c41a2130afd6fc3b158bda4e6" prefix="" category="inline-code"></block></block>
  <block id="f016e2c01f2bafa45e6b537d49f0f9da" category="cell"><block ref="b3a3a10e13e242e0f148e510ddf12402" prefix="" category="inline-code"></block></block>
  <block id="d2672389886b173aef703433f7e4b89b" category="paragraph">Especifique a interface ao restringir o tráfego iSCSI a uma interface não predefinida</block>
  <block id="26194deaf50c44db6eb5983237bdaf25" category="cell"><block ref="f2d346b1bb7c1c85ab6f7f21e3666b9f" prefix="" category="inline-code"></block></block>
  <block id="ee1aea1de97320ad8e98436f68b01b4a" category="paragraph">Especificações de QoS</block>
  <block id="5935dcd024929bc7086bb230802bf576" category="paragraph">Veja o exemplo abaixo</block>
  <block id="5e9bf55f849ccc5a31a50d1fa784d28c" category="cell"><block ref="8630b9e1983d8c4672fc7b4a8770c637" prefix="" category="inline-code"></block></block>
  <block id="40c7465c2468fd6e890691f6cb612731" category="paragraph">Prefixo para instalações Trident atualizadas. Se você usou uma versão do Trident anterior a 1.3.2 e executar uma atualização com volumes existentes, precisará definir esse valor para acessar seus volumes antigos que foram mapeados pelo método de nome de volume.</block>
  <block id="bf0a8b77dbb95465376fb2cfec90b422" category="paragraph"><block ref="76bb7251da6a3c88e629c03a402b9d15" prefix="" category="inline-code"></block></block>
  <block id="36f9c7b615268efec7f4c56c387a55bb" category="paragraph">O<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver não suporta Docker Swarm.</block>
  <block id="1059bb8540c48e6b455e802384bad65d" category="section-title">Exemplo de arquivo de configuração de software Element</block>
  <block id="f683581d3e75f05f9d9215f9b4696cef" category="section-title">Atualização</block>
  <block id="ed279061e829314cb0dc7a1708ca5e5b" category="list-text">Listar os volumes existentes:</block>
  <block id="7c256ad076320e18e087b238e9063f3f" category="list-text">Desativar o plugin:</block>
  <block id="f4ea3e4191f5bda0b91e08059bf9842a" category="list-text">Atualize o plugin:</block>
  <block id="824ba648551a27da6c43705bcd663830" category="list-text">Ativar o plugin:</block>
  <block id="e4c48899ce42f4eb019f54a1a8e66560" category="list-text">Verifique se o plugin está ativado:</block>
  <block id="c4d884c606b57bb6cb43864e3499d5a2" category="list-text">Verifique se os volumes estão visíveis:</block>
  <block id="558ab0bef1894a7a726109d36632d09d" category="inline-link-macro">Problemas conhecidos</block>
  <block id="a27dfe771799a09fd55fea73286eb6ab" category="section-title">Desinstalar</block>
  <block id="867d93c3d1de0e8e75fa408cfadcbba5" category="list-text">Remova todos os volumes criados pelo plugin.</block>
  <block id="4a28a108f39c07ac09218644ca6e9bb0" category="list-text">Remova o plugin:</block>
  <block id="0e9e734e557a02db30a20e5ac259cfb9" category="summary">Cada driver de armazenamento tem um conjunto diferente de opções, que você pode especificar no momento da criação do volume para personalizar o resultado. Veja abaixo as opções que se aplicam ao sistema de armazenamento configurado.</block>
  <block id="11e1b165c1d718d825f4bb9aaf0b884e" category="doc">Opções de volume específicas do condutor</block>
  <block id="bca0712c590c8d3c228bf1044aed730b" category="paragraph">Usar essas opções durante a operação de criação de volume é simples. Forneça a opção e o valor usando o<block ref="b2ed43620b7fff2689035f1e99c24ded" prefix=" " category="inline-code"></block> operador durante a operação CLI. Estes substituem quaisquer valores equivalentes do arquivo de configuração JSON.</block>
  <block id="6021d91bdededf94b8ae37c30e820118" category="section-title">Opções de volume ONTAP</block>
  <block id="d3a07c97b6050b305c7dda0aea1657be" category="paragraph">O tamanho do volume, padrão é 1 GiB.</block>
  <block id="69e8c7b4f73d39cea9948875813f7ddd" category="paragraph">Provisionamento fino ou espesso do volume, o padrão é fino. Os valores válidos são<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> (thin Provisioning) e<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block> (thick provisioned).</block>
  <block id="b8a0fde33bd7662b7b9cb4158f04ef52" category="paragraph">Isto irá definir a reserva de instantâneos para a percentagem pretendida. O padrão não é nenhum valor, o que significa que o ONTAP selecionará o snapshotServe (geralmente 5%) se você selecionou uma política de snapshotPolicy, ou 0% se a política de snapshotPolicy não for nenhuma. Você pode definir o valor padrão snapshotServe no arquivo de configuração para todos os backends ONTAP, e você pode usá-lo como uma opção de criação de volume para todos os backends ONTAP, exceto ONTAP-nas-economy.</block>
  <block id="14b63ea5b97502ca2d75e85bee96b8b4" category="paragraph">Ao clonar um volume, isso fará com que o ONTAP divida imediatamente o clone de seu pai. A predefinição é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>. Alguns casos de uso para clonagem de volumes são melhor servidos dividindo o clone de seu pai imediatamente após a criação, porque é improvável que haja alguma oportunidade de eficiência de storage. Por exemplo, clonar um banco de dados vazio pode oferecer grande economia de tempo, mas pouca economia de armazenamento, por isso é melhor dividir o clone imediatamente.</block>
  <block id="911675212835161abe9bce3f33c70af0" category="paragraph">Ative a criptografia de volume do NetApp (NVE) no novo volume; o padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>. O NVE deve ser licenciado e habilitado no cluster para usar essa opção.</block>
  <block id="cdaf246fba737b75127faa65456baa30" category="paragraph">Define a política de disposição em categorias a ser usada para o volume. Isso decide se os dados são movidos para a categoria de nuvem quando ficam inativos (frios).</block>
  <block id="1c46d85ab16f6b373409ad15260b1b0a" category="paragraph">As seguintes opções adicionais são para NFS *somente*:</block>
  <block id="b145a4acc7a577d843f538580013776b" category="paragraph">Isso controla o conjunto de permissões para o próprio volume. Por padrão, as permissões serão definidas como<block ref="3bea04230b923e6ce984667e43456485" prefix=" " category="inline-code"></block>, ou em notação numérica 0755, e<block ref="63a9f0ea7bb98050796b649e85481845" prefix=" " category="inline-code"></block> serão o proprietário. O texto ou o formato numérico funcionarão.</block>
  <block id="6d70e81198809f9c160f10b05a430ab1" category="paragraph">Definir isso como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> tornará o<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> diretório visível para os clientes que acessam o volume. O valor padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>, o que significa que a visibilidade<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> do diretório está desativada por padrão. Algumas imagens, por exemplo, a imagem oficial do MySQL, não funcionam como esperado quando o<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> diretório está visível.</block>
  <block id="700d608597316c75fc869190f51cff49" category="paragraph">Define a política de exportação a ser utilizada para o volume. A predefinição é<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block>.</block>
  <block id="6b068a846d408b1d9ccd2c7220326b9d" category="paragraph">Define o estilo de segurança a ser usado para acesso ao volume. A predefinição é<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>. Os valores válidos são<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> e<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>.</block>
  <block id="842aac52866a44b40a5733ce352cf6df" category="paragraph">As seguintes opções adicionais são para iSCSI *somente*:</block>
  <block id="56efcdcb9168adcb146b4d86bf55e99d" category="cell">Define o sistema de ficheiros utilizado para formatar volumes iSCSI. A predefinição é<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>. Os valores válidos são<block ref="66f137c5dc684da2a6a65917c86edd67" prefix=" " category="inline-code"></block>,<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>, e<block ref="310201b6353c5f38bc039e0e51b079d3" prefix=" " category="inline-code"></block>.</block>
  <block id="a0ee23c5b4cbd6a28a4143933891f927" category="cell"><block ref="45922ba6ba8428764f22ed06f814c762" prefix="" category="inline-code"></block></block>
  <block id="284899fef89b0b2e358229a40cbaa53e" category="cell">Definir esta opção como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> desativa a funcionalidade de alocação de espaço do LUN. O valor padrão é<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o que significa que o ONTAP notifica o host quando o volume ficou sem espaço e o LUN no volume não pode aceitar gravações. Essa opção também permite que o ONTAP recupere espaço automaticamente quando o host exclui dados.</block>
  <block id="ff7c0fcd6a31e735a61c001f75426961" category="section-title">Exemplos</block>
  <block id="9e6d454a094b92b0132e48d2369debf5" category="paragraph">Veja os exemplos abaixo:</block>
  <block id="297d0d2fcc555e5037c8d251daf5a620" category="list-text">Crie um volume que tenha o bit setuid ativado:</block>
  <block id="8c05fd71822bf85c290cef86db959f68" category="list-text">Criar um volume sem política de snapshot e sem reserva de snapshot:</block>
  <block id="d15d662af6e4417b0b7c134a84ed577c" category="list-text">Crie um volume sem política de snapshot e uma reserva de snapshot personalizada de 10%:</block>
  <block id="52a56a468f11c3298931c8e32c938e15" category="list-text">Crie um volume com uma política de snapshot e uma reserva de snapshot personalizada de 10%:</block>
  <block id="f6f813eaaff2b296a27b6bf051485d2b" category="section-title">Opções de volume do software Element</block>
  <block id="a514753df071ac540af065b659d1c65c" category="paragraph">As opções de software Element expõem as políticas de tamanho e qualidade do serviço (QoS) associadas ao volume. Quando o volume é criado, a política de QoS associada a ele é especificada usando a<block ref="efdd13397a4561d40713ef6bcddfc6e0" prefix=" " category="inline-code"></block> nomenclatura.</block>
  <block id="f201e088f13d93e3d12b3c0ef78dece3" category="paragraph">A primeira etapa para definir um nível de serviço QoS com o driver Element é criar pelo menos um tipo e especificar o IOPS mínimo, máximo e de pico associado a um nome no arquivo de configuração.</block>
  <block id="5cb7e4a4b6a51af0b5b09cb230b83422" category="paragraph">Outras opções de criação de volume de software Element incluem o seguinte:</block>
  <block id="d52146098b8ecd83b888289a86e26d19" category="cell"><block ref="bcb398a5b9906c7313bb069518ecd7c1" prefix="" category="inline-code"></block></block>
  <block id="348ef18ccca06aa29547bd9ad87beebe" category="paragraph">Use 512 ou 4096, o padrão é 512 ou a entrada de configuração DefaultBlockSize.</block>
  <block id="1daf1c12549d6d3ae75c4d8d5f59d532" category="paragraph">Veja o seguinte arquivo de configuração de exemplo com definições de QoS:</block>
  <block id="7afe0c73e341cee7c90b4d4dda4600d9" category="paragraph">Na configuração acima, temos três definições de política: Bronze, prata e ouro. Esses nomes são arbitrários.</block>
  <block id="feabbbf9b5afb31194daf0d8e3ff75dc" category="doc">Trabalhe com volumes</block>
  <block id="dc88dce8ec264777b2f90ec0af744f43" category="section-title">Crie um volume</block>
  <block id="a32b09b1335e0afbb640a9412690680d" category="list-text">Crie um volume com um driver usando o nome padrão:</block>
  <block id="93da65a9fd0004d9477aeac024e08e15" category="inline-link-macro">opções</block>
  <block id="593e5c95e1adc19e8d81719c16b57bc1" category="admonition">Se você não especificar nenhum <block ref="3a0a40f90bfa29e0eb23418c553e5ef5" category="inline-link-macro-rx"></block>, os padrões para o driver serão usados.</block>
  <block id="5149eec9d959a54cf392efaa710541d1" category="admonition">Os tamanhos de volume são expressos como strings contendo um valor inteiro com unidades opcionais (exemplo: 10g, 20GB, 3TiB). Se nenhuma unidade for especificada, o padrão é G. as unidades de tamanho podem ser expressas como potências de 2 (B, KiB, MIB, GiB, TIB) ou potências de 10 (B, KB, MB, GB, TB). As unidades shorthand usam poderes de 2 (G GiB, T TIB,...).</block>
  <block id="9bc129eac7adf7ea5d8ed1c021fab2dc" category="section-title">Remova um volume</block>
  <block id="281a0f40363a276c6ec125244c784112" category="list-text">Remova o volume como qualquer outro volume do Docker:</block>
  <block id="7959e3701f7a7fba7713c7530d496324" category="admonition">Ao utilizar o<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> controlador, o exemplo acima elimina e elimina o volume.</block>
  <block id="d50044469c0bf9ab38eff9cf7243fb25" category="section-title">Clonar um volume</block>
  <block id="9374b766b9dd78063440afd69afabf38" category="list-text">Inspecione o volume para enumerar instantâneos:</block>
  <block id="2747096689037792fa87de7a0e8440e2" category="list-text">Crie um novo volume a partir de um volume existente. Isso resultará na criação de um novo snapshot:</block>
  <block id="31d9b5ed201aa44dbeae6d17d38c0c6f" category="list-text">Criar um novo volume a partir de um instantâneo existente em um volume. Isso não criará um novo snapshot:</block>
  <block id="516b30a46da41c6969cb7249d6567905" category="section-title">Acesse volumes criados externamente</block>
  <block id="a5199cf0d9f113491f9efa18f3bee2e1" category="section-title">Compreensão dos pods dos nós e dos pods do controlador</block>
  <block id="26ad893be275d6f4dd0e2992250c147f" category="inline-link-macro">Kubernetes CSI Sidecar contêineres</block>
  <block id="30735a308956ec6de6caa328d0d5b43b" category="inline-link-macro">seletores de nós</block>
  <block id="1db653cf6745dd1e6aa8d6e843ea5e96" category="inline-link-macro">tolerações e taints</block>
  <block id="e3826c3aea0bf8502f2ba8ff27eeef19" category="list-text">O plugin controlador lida com o provisionamento e gerenciamento de volume, como snapshots e redimensionamento.</block>
  <block id="361d997e700d422835e56b644784bb7e" category="list-text">O plug-in do nó manipula a conexão do armazenamento ao nó.</block>
  <block id="7457022455b6a26d17766b38200639d9" category="section-title">Pod do controlador Trident</block>
  <block id="8268d8b8723783972c959e76371dd7df" category="paragraph">O Pod do controlador Trident é um único Pod que executa o plug-in do controlador CSI.</block>
  <block id="4d52310e56906c6b51b5691f5aca1a86" category="list-text">Responsável pelo provisionamento e gerenciamento de volumes no storage NetApp</block>
  <block id="64ebc3b44b9bf9706d440310d6edc2a9" category="list-text">Gerenciado por uma implantação do Kubernetes</block>
  <block id="77dde6100b9c974d6b8f13a2c5a5d91f" category="list-text">Pode ser executado no plano de controle ou nos nós de trabalho, dependendo dos parâmetros de instalação.</block>
  <block id="c8d85d76462b8224e3b823eec9636faa" category="image-title">Diagrama do pod do controlador Trident</block>
  <block id="bea45d305fedae15441ab438c3abf9a6" category="image-alt">Diagrama do Pod do controlador Trident que executa o plug-in do controlador CSI com sidecars CSI aplicáveis.</block>
  <block id="7ac36fe121832c95b5cc692aac2d42e9" category="section-title">Pods do nó Trident</block>
  <block id="cb5b3335d8639110c33aa74ae67f7ec2" category="paragraph">Os pods de nó Trident são pods privilegiados que executam o plug-in do nó CSI.</block>
  <block id="23b09b316e4e6d2ab77e24ae85097f4f" category="list-text">Responsável pela montagem e desmontagem do armazenamento dos pods em execução no host</block>
  <block id="5d6469c46b1f411571e059e13a5fe826" category="list-text">Gerenciado por um DaemonSet Kubernetes</block>
  <block id="723997cd24cc1452bfa6efd9349f4262" category="list-text">Deve ser executado em qualquer nó que montar o storage NetApp</block>
  <block id="ffc3cbdd80c8b7dee840511d7c7b2cce" category="image-title">Diagrama do pod do nó Trident</block>
  <block id="8f29ef239c0926132689374fc142a732" category="image-alt">Diagrama do Pod do nó Trident executando o plug-in do nó CSI com o sidecar CSI aplicável.</block>
  <block id="4bd05efa612e48dd723de2bdd29f88e2" category="section-title">Arquiteturas de cluster Kubernetes compatíveis</block>
  <block id="c91cda04d3ac5ae2da327d347d4bbefe" category="cell">Arquiteturas de cluster do Kubernetes</block>
  <block id="eaa4dc5078017a5c5bebf383ab6f5124" category="cell">Suportado</block>
  <block id="c0057eecd4b1a67d11dc801b8992a574" category="cell">Instalação predefinida</block>
  <block id="0c69c79a8788e0e4572d0c4838e69401" category="cell">Único mestre, computação</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="cell">Sim</block>
  <block id="1fc3441370ae575a64d605fcd15a05fd" category="cell">Mestre múltiplo, computação</block>
  <block id="7cb2eb9488f3532834f7ef233ae894dd" category="cell">Mestre<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block>, , computação</block>
  <block id="5e5f49db20e29f6377e57e98932dae57" category="cell">Mestre, infraestrutura, computação</block>
  <block id="30136395f01879792198317c11831ea4" category="inline-link-macro">Kubernetes</block>
  <block id="58095fffdb6c13585af5e47e876f7afe" category="inline-link-macro">Conceitos e ferramentas do Kubernetes</block>
  <block id="1bc6462cd59612636c72620a6a67410b" category="admonition">Se esta for a primeira vez que usa o Kubernetes, você deve se familiarizar com o <block ref="41eecc10f74d492dbf2a2c207d5acb1b" category="inline-link-macro-rx"></block>.</block>
  <block id="ad989553d20159458528f9cbeec280ac" category="section-title">Integração do Kubernetes com os produtos NetApp</block>
  <block id="c15968f29ef9905b44c7b9f373e75568" category="paragraph">O portfólio de produtos de storage do NetApp se integra a muitos aspectos de um cluster Kubernetes, fornecendo recursos avançados de gerenciamento de dados que melhoram o recurso, a funcionalidade, a performance e a disponibilidade da implantação do Kubernetes.</block>
  <block id="4d82a1ec1af02725042c8c785564ee7a" category="example-title">Amazon FSX para NetApp ONTAP</block>
  <block id="5051760a43d66d77d01c7a8eb030e7e1" category="paragraph"><block ref="c3736e0f766925817ef4f34af9c72365" category="inline-link-macro-rx"></block> É um serviço AWS totalmente gerenciado que permite iniciar e executar sistemas de arquivos equipados com o sistema operacional de storage NetApp ONTAP.</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="example-title">Azure NetApp Files</block>
  <block id="29ec7bd31b1a1379b78d9898d947d73d" category="paragraph"><block ref="c5e53d3a8d8d3c363071213b1e4da969" category="inline-link-rx"></block> É um serviço de compartilhamento de arquivos do Azure de nível empresarial, desenvolvido pela NetApp. É possível executar os workloads mais exigentes baseados em arquivos no Azure de forma nativa, com a performance e o gerenciamento de rich data que você espera do NetApp.</block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="example-title">Cloud Volumes ONTAP</block>
  <block id="047d03a544a1cc3e86aff90177fbd63a" category="paragraph"><block ref="003ebe68b90d9dc2aab9b61b702f9f9b" category="inline-link-macro-rx"></block> É um dispositivo de storage somente de software que executa o software de gerenciamento de dados ONTAP na nuvem.</block>
  <block id="b0cee72642f5457a71ddd0b49efb6d93" category="example-title">Cloud Volumes Service para Google Cloud</block>
  <block id="27bb76bfb1e4f9966c31f5042348cd1e" category="example-title">Software Element</block>
  <block id="231afe47f3f37d3808096b36c28b4ded" category="inline-link">Elemento</block>
  <block id="7630fd61eebe4d79cfa82d81963940d7" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block> permite que o administrador de storage consolide workloads garantindo a performance e possibilitando um espaço físico do storage simplificado e otimizado.</block>
  <block id="08edd2123939d5309dced149763a50ee" category="example-title">NetApp HCI</block>
  <block id="d2a67136c7c7e990d18b8e71635d0395" category="paragraph"><block ref="59c437b3f3e5b14b78b208acb3b663e2" category="inline-link-macro-rx"></block> simplifica o gerenciamento e a escala do data center automatizando tarefas de rotina e permitindo que os administradores de infraestrutura se concentrem em funções mais importantes.</block>
  <block id="7b02ea300aef2e0bff0d7f6111053284" category="example-title">NetApp ONTAP</block>
  <block id="c034280f677ad8e09361e26a1f0d8b2e" category="paragraph"><block ref="8c73590b5c61238f85244f0e29214d94" category="inline-link-macro-rx"></block> É o sistema operacional de storage unificado multiprotocolo da NetApp que oferece recursos avançados de gerenciamento de dados para qualquer aplicação.</block>
  <block id="a1582c89f8e85f372306a05848eafb68" category="summary">O portfólio de produtos de storage do NetApp se integra a muitos aspectos diferentes de um cluster Kubernetes, fornecendo recursos avançados de gerenciamento de dados que melhoram o recurso, a funcionalidade, a performance e a disponibilidade da implantação do Kubernetes.</block>
  <block id="253b40ae359ba25b56231803430c4873" category="section-title">ONTAP</block>
  <block id="54ad97548183fc7d802b6db88573701f" category="paragraph">O ONTAP é o sistema operacional de storage unificado multiprotocolo da NetApp que oferece recursos avançados de gerenciamento de dados para qualquer aplicação. Os sistemas ONTAP têm configurações all-flash, híbridas ou totalmente HDD e oferecem muitos modelos de implantação diferentes, incluindo hardware projetado (FAS e AFF), white-box (ONTAP Select) e somente para nuvem (Cloud Volumes ONTAP).</block>
  <block id="cbb7697b4f6f189240d043ff70ca133c" category="admonition">O Trident oferece suporte a todos os modelos de implantação do ONTAP mencionados acima.</block>
  <block id="5c04ffbd0c110bf7b37d6b95eb756b75" category="paragraph"><block ref="700b45b9fca207b66f675c8d5dfb073b" category="inline-link-rx"></block> É um dispositivo de storage somente de software que executa o software de gerenciamento de dados ONTAP na nuvem. Use o Cloud Volumes ONTAP para workloads de produção, recuperação de desastres, DevOps, compartilhamentos de arquivos e gerenciamento de banco de dados. Ele amplia o storage empresarial para a nuvem oferecendo eficiência de storage, alta disponibilidade, replicação de dados, disposição em categorias e consistência de aplicações.</block>
  <block id="f8869dc9dbb397ea76e820ae99f70217" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> É um serviço AWS totalmente gerenciado que permite iniciar e executar sistemas de arquivos equipados com o sistema operacional de storage NetApp ONTAP. O FSX para ONTAP permite que você aproveite os recursos do NetApp, o desempenho e os recursos administrativos com os quais você já conhece, ao mesmo tempo em que aproveita a simplicidade, a agilidade, a segurança e a escalabilidade do armazenamento de dados na AWS. O FSX para ONTAP suporta muitos dos recursos do sistema de arquivos ONTAP e APIs de administração.</block>
  <block id="1fdf61a8f946268990d8e15dd9069a6d" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block> permite que o administrador de storage consolide workloads garantindo a performance e possibilitando um espaço físico do storage simplificado e otimizado. Acoplado a uma API que permite a automação de todos os aspectos do gerenciamento de storage, o Element permite que os administradores de storage façam mais com menos esforço.</block>
  <block id="25f221cc63a7e1fa55b05c29420a72a2" category="paragraph"><block ref="2841e7defe3939e68d83d007d1ad666b" category="inline-link-rx"></block> simplifica o gerenciamento e a escala do data center automatizando tarefas de rotina e permitindo que os administradores de infraestrutura se concentrem em funções mais importantes.</block>
  <block id="be17f8b9c728a6cb61cad5a2609b3888" category="paragraph">O NetApp HCI é totalmente suportado pelo Trident. O Trident pode provisionar e gerenciar dispositivos de storage para aplicações em contêiner diretamente na plataforma de storage subjacente da NetApp HCI.</block>
  <block id="29e7ab00082418141d470583a19c28d3" category="paragraph"><block ref="2384314bcd106c8062815b2ed789c4ad" category="inline-link-rx"></block> É um serviço de compartilhamento de arquivos do Azure de nível empresarial, desenvolvido pela NetApp. É possível executar os workloads mais exigentes baseados em arquivos no Azure de forma nativa, com a performance e o gerenciamento de rich data que você espera do NetApp.</block>
  <block id="a60c2f57df655a9ac5fcaa0750886195" category="summary">Se você acabou de começar a usar o Kubernetes, siga as instruções para instalar o Kubernetes para experimentá-lo. Essas instruções fornecem um cluster de nó único e bare-metal com o qual o Trident pode se integrar para fins de demonstração.</block>
  <block id="06c2cea18679d64399783748fa367bdd" category="inline-image-macro">Um</block>
  <block id="aada29daee1d64ed0fe907043855cb7e" category="inline-image-macro">Dois</block>
  <block id="aba4bc9d3bde7d18b07c23d5c7d0f495" category="paragraph">Todos os nós de trabalho no cluster do Kubernetes precisam ser capazes de montar os volumes provisionados para os pods.</block>
  <block id="89d83ec6e8ec0c087fbc4aedc555b362" category="inline-link-macro">Prepare o nó de trabalho</block>
  <block id="f36d25716a4b2c466ddcb8065bef3ae6" category="paragraph"><block ref="f36d25716a4b2c466ddcb8065bef3ae6" category="inline-link-macro-rx"></block></block>
  <block id="ca8a2087e5557e317599344687a57391" category="inline-image-macro">Três</block>
  <block id="f3b066024fd8e2699d194d41d5e46a5d" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block> Crie um backend</block>
  <block id="2865195658f1488af43d46690ad5826e" category="inline-link-macro">Configurar um back-end</block>
  <block id="079428cf070b5e0039780f2cb4a5a962" category="paragraph"><block ref="8be76aeedec602130bcedf5acbf56030" category="inline-link-macro-rx"></block> para o seu sistema de storage</block>
  <block id="981b8fcee42e1e726a67a2b9a98ea6e9" category="inline-image-macro">Quatro</block>
  <block id="eda4708b025e26e5f9759856f4f88876" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block> Crie um Kubernetes StorageClass</block>
  <block id="14f4c7abe09c4481722f1fa6563f2604" category="inline-link-macro">Crie uma classe de armazenamento</block>
  <block id="abf99adee0d47955ab8c148a0937ce6e" category="paragraph"><block ref="abf99adee0d47955ab8c148a0937ce6e" category="inline-link-macro-rx"></block></block>
  <block id="e5d9de39f7ca1ba2637e5640af3ae8aa" category="inline-image-macro">Cinco</block>
  <block id="b625988ee18e5f1370f9b328cfa197b7" category="paragraph-title"><block ref="99e8b2f00e172bfcff96afdce69907bc" category="inline-image-macro-rx" type="image"></block> Provisionar um volume</block>
  <block id="185cde3c1e3ef64c59eaee8662d4048a" category="paragraph">Um _Persistentvolume_ (PV) é um recurso de armazenamento físico provisionado pelo administrador de cluster em um cluster do Kubernetes. O _PersistentVolumeClaim_ (PVC) é um pedido de acesso ao Persistentvolume no cluster.</block>
  <block id="e8a058c8c47f6e4976a9fc5b5c00ec92" category="paragraph">Crie um Persistentvolume (PV) e um PersistentVolumeClaim (PVC) que use o Kubernetes StorageClass configurado para solicitar acesso ao PV. Em seguida, pode montar o PV num pod.</block>
  <block id="a3b7bd8edd528214a68ac3ceb5c9935c" category="inline-link-macro">Provisionar um volume</block>
  <block id="7646000ea978570e919e657f5ec9aa57" category="paragraph"><block ref="7646000ea978570e919e657f5ec9aa57" category="inline-link-macro-rx"></block></block>
  <block id="58eaebf972358f1cf03d386a4ade1a0f" category="section-title">O que se segue?</block>
  <block id="abefc87b0c4c459aa6fdb12d98caf984" category="paragraph">Agora você pode adicionar backends adicionais, gerenciar classes de armazenamento, gerenciar backends e executar operações de volume.</block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="doc">Requisitos</block>
  <block id="c777be7f669397b0a376fe32ca5cd9c3" category="section-title">Frontens suportados (orquestradores)</block>
  <block id="7cc1edf2116d94e97b8f4a69079de132" category="list-text">Anthos On-Prem (VMware) e Anthos em bare metal 1,16</block>
  <block id="eca0dda5d40cf62b4a73c50deab2520c" category="inline-link-macro">KubeVirt</block>
  <block id="a5fd2691a6a5df653970895b1c5045ed" category="inline-link-macro">Atualize uma instalação do Helm</block>
  <block id="f787cd4b6963b13f12fa53131f58ef6c" category="section-title">Backends suportados (armazenamento)</block>
  <block id="a3c559e0541e9bb860178ce6fe414224" category="list-text">Cloud Volumes Service para GCP</block>
  <block id="1d3d126b8a5bad69c46ed03734beed47" category="list-text">NetApp All SAN Array (ASA)</block>
  <block id="6b51834314ece904405eb0ce1a6e6bd8" category="list-text">Software NetApp HCI/Element 11 ou superior</block>
  <block id="c7c7a6a5641f33e348244f9c43010e16" category="section-title">Requisitos de recursos</block>
  <block id="21021ea0e52be8e9c599f4dff41e5be0" category="cell">Recurso</block>
  <block id="80afba45eb055fc9bdc48c90d1debd06" category="cell">Versão do Kubernetes</block>
  <block id="10f295a61d2a793ac8936a69cf458654" category="cell">É necessário ter portões?</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="paragraph">Não</block>
  <block id="e830b7e4d1fb7f84600876af87cb4381" category="cell">Instantâneos de volume</block>
  <block id="ea8ed249117e76cb53766e218fe2b7c7" category="cell">PVC a partir de instantâneos de volume</block>
  <block id="28dcded20f550dcad1bd9bb03a5bbe73" category="cell">Redimensionamento iSCSI PV</block>
  <block id="1673543ed032e46f3572ba65bc070693" category="cell">ONTAP bidirectional CHAP</block>
  <block id="176e16df4faab1a1e06e9585c813d5fe" category="cell">Políticas de exportação dinâmica</block>
  <block id="1f7219b07d5bce7feec002a9f4dc2201" category="cell">Operador Trident</block>
  <block id="443432948b68bb63d707ce7ecc4a021a" category="cell">Topologia de CSI</block>
  <block id="af7c8216a3289efe1a298a19c00b8b8c" category="section-title">Sistemas operacionais de host testados</block>
  <block id="a3460163c4a2854c79a419dda57ac917" category="list-text">RHEL 8 OU SUPERIOR (AMD64 E ARM64)</block>
  <block id="8554748be67b956e550de942edae807d" category="admonition">O NVMe/TCP requer o RHEL 9 ou posterior.</block>
  <block id="f51a58a0cffb9f9953edce6411578b53" category="list-text">Ubuntu 22,04 ou posterior (AMD64 e ARM64)</block>
  <block id="de547bcab0e20f54ec4d5e95ba44b0b1" category="list-text">Windows Server 2022</block>
  <block id="11ea58814ce429c3e3254a63f8cde7a4" category="paragraph">O<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> utilitário também é executado em qualquer uma dessas distribuições do Linux.</block>
  <block id="13d80777c8fd43e555c1f5b1b72d7ef0" category="section-title">Configuração de host</block>
  <block id="e379ebca8f2245b4a0c32803c6d7f845" category="paragraph">Todos os nós de trabalho no cluster do Kubernetes precisam ser capazes de montar os volumes provisionados para os pods. Para preparar os nós de trabalho, é necessário instalar ferramentas NFS, iSCSI ou NVMe com base na seleção de driver.</block>
  <block id="2139fe384d5ae165545994dff01961d9" category="section-title">Configuração do sistema de storage</block>
  <block id="87dc0337d3ded2211d9b01c32e22d90d" category="inline-link-macro">Configurar backends</block>
  <block id="50823ee9226376c44bfb71c334ee2f3f" category="paragraph"><block ref="50823ee9226376c44bfb71c334ee2f3f" category="inline-link-macro-rx"></block></block>
  <block id="923680056b0f0258907f498670b4ead1" category="section-title">Imagens de contêineres e versões correspondentes do Kubernetes</block>
  <block id="7b5dfababf92391b5761944c63b0d3bb" category="cell">Versões do Kubernetes</block>
  <block id="aa92c4c233bc01609d957e469736b699" category="cell">Imagem do recipiente</block>
  <block id="0dabff490bbf6c7e308950959cc5a024" category="section-title">Saiba mais sobre o instalador</block>
  <block id="8355509d170c8a61d236e927a5fcc6e2" category="paragraph">Se você estiver usando uma distribuição do Kubernetes, onde<block ref="703e9c640b9e3ea630f6687938e43c9a" prefix=" " category="inline-code"></block> mantém seus dados em um caminho diferente do habitual<block ref="bc5cffcf9f10f624d02ae2efb8215dc5" prefix=" " category="inline-code"></block>, você poderá especificar o caminho alternativo usando<block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block>o .</block>
  <block id="47cd697cf3c9dcf916f70a0007956c1d" category="paragraph">Se você precisar personalizar a instalação além do que os argumentos do instalador permitem, você também pode personalizar os arquivos de implantação. Usando o<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block> parâmetro cria os seguintes arquivos YAML no diretório do instalador<block ref="a0f848942ce863cf53c0fa6cc684007d" prefix=" " category="inline-code"></block>:</block>
  <block id="0858f0ee003d52951161848adffe1b31" category="list-text"><block ref="d67d2c9d865b587d65b2e63c78c1cfa0" prefix="" category="inline-code"></block></block>
  <block id="af73689aedfa47bd2a7cf144917b0642" category="list-text"><block ref="eb6cdeddd28243c1552ea3b1061b4410" prefix="" category="inline-code"></block></block>
  <block id="1d53fd876245951bb003eb47849ff39d" category="list-text"><block ref="91696b9b3532f20cd7fb80573a7425d4" prefix="" category="inline-code"></block></block>
  <block id="b17dbe8acaeca82c72d25948de03eefc" category="list-text"><block ref="c1484787d70c4ea99f3bd377937ea020" prefix="" category="inline-code"></block></block>
  <block id="ecb2b56a094cc1cbd3ac263b23d91f8b" category="list-text"><block ref="9f6c6212091d8eef52ff63c5e58f70e8" prefix="" category="inline-code"></block></block>
  <block id="c5e462ae653234d0ea0e98a000e62a97" category="list-text"><block ref="b4d153fcc8c4c7bed016796085d6abd1" prefix="" category="inline-code"></block></block>
  <block id="f1347677de6873f8ddce6d736cba9a63" category="list-text"><block ref="ec3914518572122d25969da6b4b66fcc" prefix="" category="inline-code"></block></block>
  <block id="2539c7e25ada2a2cdae0eb4c4633b893" category="list-text"><block ref="3f7046611d8d5f8ed666a93ae7a61ae7" prefix="" category="inline-code"></block></block>
  <block id="702fa57eedc6ee8490a7294016f8b14f" category="list-text"><block ref="1a368feb8bb72ef66bb194b43d0a15b3" prefix="" category="inline-code"></block></block>
  <block id="385d099ed91e83dbe20ea05fbed68e22" category="paragraph">Depois de gerar esses arquivos, você pode modificá-los de acordo com suas necessidades e, em seguida, usá-los<block ref="8026926641b283123174e50f80da83de" prefix=" " category="inline-code"></block> para instalar sua implantação personalizada.</block>
  <block id="2f6c694f9d016c7193ece4853c402d96" category="doc">Personalizar a instalação do operador Trident</block>
  <block id="0897b2b75e3d0217c2f6994605a2cae7" category="paragraph">Kubernetes <block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block> e <block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block>são usados para restringir um pod a ser executado em um nó específico ou preferencial. Usando o ControllerPlugin e<block ref="96687552cc4dff10038a1b07a8bf3bd3" prefix=" " category="inline-code"></block>o , você pode especificar restrições e substituições.</block>
  <block id="50f33d14f129e4548c1c270fd6725a78" category="section-title">Opções de configuração</block>
  <block id="a739aa7f082abebdf65f4b114dd3ad7d" category="paragraph">Esta tabela detalha<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> atributos.</block>
  <block id="83f499a540b1323009c200d6f8cc9396" category="cell">Parâmetro</block>
  <block id="7a1920d61156abc05a60135aefe8bc67" category="cell">Padrão</block>
  <block id="f3f30d479f6e3b393d917a3b2f88c770" category="cell"><block ref="89801e9e98979062e84647433a8ed3e9" prefix="" category="inline-code"></block></block>
  <block id="90a731f9a8a983f7cf3905960d8146ec" category="cell"><block ref="9aa82da0cffe247b84587c1cc8e32746" prefix="" category="inline-code"></block></block>
  <block id="a67cf6b087ff88dbfacec8375928995c" category="cell"><block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="" category="inline-code"></block></block>
  <block id="b4f36de9fda080c1fd1d9edb1e60e36b" category="cell"><block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix="" category="inline-code"></block></block>
  <block id="05f901da7fdacb9ca59e3d7e2d40f98d" category="cell"><block ref="0f4137ed1502b5045d6083aa258b5c42" prefix="" category="inline-code"></block></block>
  <block id="fbbd7b4b14060c4fdb02f92c4c08e702" category="cell">A configuração para<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> permite a instalação em nós de trabalho do Windows.</block>
  <block id="3f5dc9ae5f538d3ce4d0cc20e7762671" category="cell"><block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix="" category="inline-code"></block></block>
  <block id="99c0f28c38ebd0826265cfd120e75cce" category="cell">Defina como<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block> quando utilizar identidades geridas ou uma identidade de nuvem num cluster AKS. Defina como "AWS" ao usar uma identidade de nuvem em um cluster EKS.</block>
  <block id="2f6b7b0c1002ad67f4e455a17d784c94" category="cell"><block ref="9d4568c009d203ab10e33ea9953a0264" prefix="" category="inline-code"></block></block>
  <block id="0b79806f5a5d5ddd87cd1bd2a28f965c" category="cell"><block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix="" category="inline-code"></block></block>
  <block id="d293f031e5664526b25f3a65012401b7" category="cell"><block ref="fdb7cb8f657426e7c409bfd6d1a36ce4" prefix="" category="inline-code"></block></block>
  <block id="68934a3e9455fa72420237eb05902327" category="cell">falso</block>
  <block id="077e99fe42ced522b462656cffffe09c" category="cell"><block ref="d5276bb17ae062102e883a18454c2f1b" prefix="" category="inline-code"></block></block>
  <block id="4448b73eac083e33b7142f0e5790fac5" category="cell">Tempo limite para operações do Kubernetes</block>
  <block id="ff1e5aff28fa6b984ca73f22322bbe5f" category="cell"><block ref="e4d71bf2abad047425f4463e27bb83b0" prefix="" category="inline-code"></block></block>
  <block id="42cf123e93ecc5c0297652edbc547fc0" category="cell"><block ref="2fac1659431903a30e063d49b3effb9d" prefix="" category="inline-code"></block></block>
  <block id="4a213b7c3b997ffb0794b25909381d16" category="cell">Não envie pacotes AutoSupport para o NetApp automaticamente</block>
  <block id="2bccac20e55391730a985f9819e1cc41" category="cell"><block ref="7ecc687ea7566f05fd13fde7be607bfc" prefix="" category="inline-code"></block></block>
  <block id="84448c234dfdfd2a7367341fd4b56a80" category="cell">A imagem do recipiente para a telemetria AutoSupport</block>
  <block id="f4a6821b04b9ce6b90148068341347b6" category="cell"><block ref="5f264298da92162575024336c485cc13" prefix="" category="inline-code"></block></block>
  <block id="7f54ca385f028308d19e228ce0534a47" category="cell">O endereço/porta de um proxy para o envio de telemetria AutoSupport</block>
  <block id="fca9ec6d50035c840a58bdecab9e25b1" category="cell"><block ref="256acfe307251e7444859851d87d5735" prefix="" category="inline-code"></block></block>
  <block id="e9f06180af644cfa6e5d20bd67c03bc5" category="cell"><block ref="fe98497efedbe156ecc4b953aea77e07" prefix="" category="inline-code"></block></block>
  <block id="cad060d2f14dbf08315c20014ed31daa" category="cell"><block ref="0b19d236934f609fe765b504a36b637e" prefix="" category="inline-code"></block></block>
  <block id="db8e1facb8efde48ce50388e2dc9cfcc" category="cell"><block ref="20cd815523e5806aec29a57282b0d49f" prefix="" category="inline-code"></block></block>
  <block id="7610c5cc7910022402c4fbd450d889ce" category="cell"><block ref="d771848c80f96e5954a8658655cf79d7" prefix="" category="inline-code"></block></block>
  <block id="8088435dc0e1c8b85217d850d3e7a602" category="cell"><block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix="" category="inline-code"></block></block>
  <block id="4f25f4cca5c1939f4a728d2678e719f7" category="cell">Caminho para o Registro interno, do formato<block ref="d2ce1f53a5f0e84f4f1b5e28836eb05b" prefix=" " category="inline-code"></block></block>
  <block id="e6b96cbb467923e86672bb25db5ecebb" category="cell"><block ref="31e3a95d0afff0def109a244b7f82d83" prefix="" category="inline-code"></block></block>
  <block id="31aad37dce0c28e12908582a0d63736a" category="cell">Caminho para o diretório kubelet no host</block>
  <block id="a55d315d1b8f8342158866cd0f4acf4f" category="cell"><block ref="df8f3af91e96fe841267201ed450cd6b" prefix="" category="inline-code"></block></block>
  <block id="b6e0e2c4168573f0ed61c842470342ba" category="cell"><block ref="c13a52521693f799a16fd56a35c77a04" prefix="" category="inline-code"></block></block>
  <block id="2d30d1348c4d2533a165827a22516caa" category="cell"><block ref="0d9b54b29da54379cca6b8782b9faae5" prefix="" category="inline-code"></block></block>
  <block id="f73bb4a0bc9913e7fc6db5f9e5f2afeb" category="cell">Segredos para extrair imagens de um Registro interno</block>
  <block id="79445b5dba623a55ad4d974712853c2f" category="cell"><block ref="2b8b5018006a800ae06485c3aacfa08d" prefix="" category="inline-code"></block></block>
  <block id="cbea7dc9eb2c3c926a86130b0be6368f" category="cell">Define a política de recebimento de imagens para o operador Trident. Os valores válidos são: <block ref="68eec46437c384d8dad18d5464ebc35c" prefix=" " category="inline-code"></block> Para sempre puxar a imagem. <block ref="7803982c6b845094275e8e83f0fad3a6" prefix=" " category="inline-code"></block> para puxar a imagem apenas se ela ainda não existir no nó. <block ref="6e7b34fa59e1bd229b207892956dc41c" prefix=" " category="inline-code"></block> para nunca puxar a imagem.</block>
  <block id="ac7c98af4f51cc4b20acafb785a53284" category="cell"><block ref="7803982c6b845094275e8e83f0fad3a6" prefix="" category="inline-code"></block></block>
  <block id="b89df534de66f446ec6482f9d7898bb2" category="cell"><block ref="3d97872197327b9967bcc3f4f76b25c5" prefix="" category="inline-code"></block></block>
  <block id="d64d0e5bb5a552ae4986a713f41c8fc3" category="cell">Seletores de nós adicionais para pods. Segue o mesmo formato que<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>.</block>
  <block id="8d414af35aeb82413205fa45551a5545" category="cell">Sem padrão; opcional</block>
  <block id="df1f367efe879ec0030f43610e29c5af" category="cell"><block ref="e648881dc52660bceb907a4b5b9f7042" prefix="" category="inline-code"></block></block>
  <block id="875ce721843c20d7f9aae240673ed68b" category="cell">Substitui as tolerâncias do Kubernetes para pods. Segue o mesmo formato que<block ref="f1fa64fcf5077601cb803e995a51fa4f" prefix=" " category="inline-code"></block>.</block>
  <block id="47a441037628a3c0f0edb0daccb33f99" category="cell"><block ref="ae41eb1a542b17214c779966cd254a4d" prefix="" category="inline-code"></block></block>
  <block id="00e8e1706119ce5300bdc9141ececc37" category="cell">Seletores de nós adicionais para pods. Segue o mesmo formato que<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>.</block>
  <block id="f297db5a937924105908a365d9d4c4ff" category="cell"><block ref="b729c9d7484a61fd754f6b7f533db71c" prefix="" category="inline-code"></block></block>
  <block id="4352a1b4e004cf57ac04661a18de43aa" category="inline-link-macro">Atribuindo pods a nós</block>
  <block id="746996e3c70ac1447e486f6c9fc0fac2" category="admonition">Para obter mais informações sobre a formatação dos parâmetros do pod, <block ref="7b3a69fdac08c769183925679da4c365" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="38a0b9f59e6fe23e1617dc0e78498afe" category="section-title">Detalhes sobre Force Detach</block>
  <block id="20c0c9efee2da2645ec0eefaf3c75d8c" category="inline-link-macro">Kubernetes: Desligamento do nó não gracioso</block>
  <block id="5a46bcb638ad3abfd754aecfb450a781" category="list-text">Cessar o acesso de e/S de back-end para volumes montados nesse nó.</block>
  <block id="8f57f52b7233aecf56728bcd48d3a51c" category="list-text">Identifique e limpe caminhos publicados obsoletos no nó.</block>
  <block id="a3ff66cf5848a34d56915c8e879a5d52" category="section-title">Exemplos de configurações</block>
  <block id="cb970ba92f64074cb0c13138a539851d" category="paragraph">Você pode usar os atributos em <block ref="289efe9665b12a9f791f1897f30c1a0b" category="inline-xref-macro-rx"></block> ao definir<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> para personalizar sua instalação.</block>
  <block id="0f63a7a4873a5bae5060bde9fd1009af" category="example-title">Configuração personalizada básica</block>
  <block id="a144d1a554ec741f701e87c26360c28e" category="example-title">Seletores de nós</block>
  <block id="de5aefa11fe3836b4b8d0769b09b21eb" category="example-title">Nós de trabalho do Windows</block>
  <block id="f393555b01f0bafc5bd6a63db97bac1d" category="example-title">Identidades gerenciadas em um cluster AKS</block>
  <block id="87405c3bcad617fc620ddcd9d59cee14" category="example-title">Identidade de nuvem em um cluster AKS</block>
  <block id="26f5586d25dc46e2526fe898341970ac" category="example-title">Identidade de nuvem em um cluster EKS</block>
  <block id="3e8935de45b1559e2ec2b01c1bbb06c2" category="doc">Implantar operador Trident usando Helm (modo off-line)</block>
  <block id="11ad6eeb0e6095efdbf4599d71303b0e" category="inline-link-macro">processo para implantação padrão</block>
  <block id="7b9eed191ce5e7cc8c8d1cb8cfe2d8c8" category="paragraph">O uso de configuração não multipathing ou o uso<block ref="a3a1d5b95e345a3db24a5a30e349f699" prefix=" " category="inline-code"></block> de ou<block ref="e82e6d155396541f07f7347c984444ea" prefix=" " category="inline-code"></block> valor no arquivo multipath.conf resultará em falhas de montagem. A Trident recomenda o uso de<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> desde a versão 21,07.</block>
  <block id="7d3f46589c43a64fd040e4f0e0691a86" category="inline-link-macro">Carta do leme</block>
  <block id="2f5480efe7a0a4b0cffbf110abec11c2" category="paragraph">Usando o Trident<block ref="cdacb2b0d49176a3c0d8cc9d693de833" category="inline-link-macro-rx"></block>, você pode implantar o operador Trident e instalar o Trident em uma etapa.</block>
  <block id="3342f1a2f74c6062a39d3076c35c5a5b" category="inline-link-macro">a visão geral da instalação</block>
  <block id="6657de3ab3deaeef939684c50d5310e3" category="paragraph">Revise <block ref="17128a3e349370ba21c9ca13ca0bc297" category="inline-link-macro-rx"></block> para garantir que você atendeu aos pré-requisitos de instalação e selecionou a opção de instalação correta para o seu ambiente.</block>
  <block id="8f3958d59b8da100a4663b1cace112b7" category="inline-link-macro">pré-requisitos de implantação</block>
  <block id="2e1b3f44683eee188be985693c4af5e1" category="inline-link-macro">Helm versão 3</block>
  <block id="64d2af40480a5cebf7e64939f6253bf3" category="paragraph">Além do <block ref="c7282b7e52e27c635b613335e59bf436" category="inline-link-macro-rx"></block> que você precisa<block ref="fc0cdbd8defe0c7175199dd05a0f8e76" category="inline-link-macro-rx"></block>.</block>
  <block id="b3735f022036728c24121c449da97183" category="inline-link-macro">Imagens de Trident e CSI</block>
  <block id="c4ffea098f78924a9b9331b8f5e9c8b4" category="open-title">Imagens em um Registro</block>
  <block id="4847c552b2ff9251806e41c8fa907e19" category="open-title">Imagens em diferentes registos</block>
  <block id="134bf17c90c90b5aeed99dde262bf14d" category="admonition">Se você já criou um namespace para Trident, o<block ref="cc1f5c1d16e33b8463c9ee27295cd5df" prefix=" " category="inline-code"></block> parâmetro não criará um namespace adicional.</block>
  <block id="d75fdc8e85ddcd7e9dc9f367168dec11" category="paragraph">Você pode usar<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> para revisar detalhes de instalação, como nome, namespace, gráfico, status, versão do aplicativo e número de revisão.</block>
  <block id="4c5ab57df808d08e9978671e7e81bb2a" category="section-title">Passe os dados de configuração durante a instalação</block>
  <block id="e366a20246a41520da551be510c1d658" category="paragraph">Há duas maneiras de passar dados de configuração durante a instalação:</block>
  <block id="c2bae6a1b11b371647052979113c2b7c" category="cell"><block ref="2c1d18b300e96c797f390483b0c6acdb" prefix="" category="inline-code"></block> (ou<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>)</block>
  <block id="0bfab21a3b7a34a60173df3f165eda9c" category="paragraph">Especifique um arquivo YAML com substituições. Isso pode ser especificado várias vezes e o arquivo mais à direita terá precedência.</block>
  <block id="ef136231fb37749162723573d36b19c9" category="cell"><block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix="" category="inline-code"></block></block>
  <block id="7595b6387dfaf9307f563edc4d951a0d" category="paragraph">Especifique substituições na linha de comando.</block>
  <block id="d924b4945b9cee37e07a2c601d1081be" category="paragraph">Esta tabela e o<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block> arquivo, que faz parte do gráfico Helm, fornecem a lista de chaves e seus valores padrão.</block>
  <block id="e0e228e32d97e1461cf4492bd5366550" category="cell"><block ref="6370f866cf64618c026027da41bd248e" prefix="" category="inline-code"></block></block>
  <block id="f54139bbd014c510ee9fa277241d4666" category="cell">Etiquetas de nó para atribuição de pod</block>
  <block id="b7f663c63859fec6f7d2f1ecd891de73" category="cell"><block ref="6e0bd2b3fba01f3f74634cfc6fcc31d6" prefix="" category="inline-code"></block></block>
  <block id="6b164b6efa957c912428e089b86ecd45" category="cell">Anotações do pod</block>
  <block id="4e3c35024b2d124aa9ab33a254e2545c" category="cell"><block ref="7c73e8c8cba054b3164d0b641ef36a41" prefix="" category="inline-code"></block></block>
  <block id="1a6308fa062d92acbff3b1304615d1db" category="cell">Anotações de implantação</block>
  <block id="716c09bbd59aa99d3932f73b7f517b2c" category="cell"><block ref="d6c26478ca41a23cc9741a4e92576269" prefix="" category="inline-code"></block></block>
  <block id="1147c70db6b1e5ac87df9b1ef26ea59a" category="cell">Tolerâncias para atribuição de pod</block>
  <block id="ed550d998ef1de0c69744fb5f7f7173c" category="cell"><block ref="1474047fb00b2d8d95646f7436837ed0" prefix="" category="inline-code"></block></block>
  <block id="064fd06fa9edd7a1e29b4da6fd9a1688" category="cell">Afinidade para atribuição de pod</block>
  <block id="b81e781314c37667d0eae6eeba5f0468" category="cell"><block ref="d525dcbea000b0429493d47a891b5ad9" prefix="" category="inline-code"></block></block>
  <block id="2a2c6cbf201e7fa0935ec1e8b243cca1" category="cell">Seletores de nós adicionais para pods. <block ref="4b8785cedf610e3d8df57f69213f93a8" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="0ccd4d74122ec81d149bc2bb132524d6" category="cell"><block ref="e8c1183eadfdb38078a7bd66bfa038ac" prefix="" category="inline-code"></block></block>
  <block id="8a00a4799d11edabcb628da338d295ce" category="cell">Substitui as tolerâncias do Kubernetes para pods. <block ref="4b8785cedf610e3d8df57f69213f93a8" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="c5387f0fc94f27d79519bb1299916e0f" category="cell"><block ref="bc0951b6e57a04c942fe6054649bb323" prefix="" category="inline-code"></block></block>
  <block id="7923027736f9cc9bbc6f6914e020e8a2" category="cell"><block ref="85dec10eb608a93a9febb24b39f5dae5" prefix="" category="inline-code"></block></block>
  <block id="9d4568c009d203ab10e33ea9953a0264" category="cell">""</block>
  <block id="7211a1f37ce0f92a2727e11de77a5256" category="cell">Define a política de recebimento de imagens para o<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>.</block>
  <block id="f19aec010e48d5133114e8de96e071cd" category="cell">Define os segredos de extração da imagem para as<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>,<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> e outras imagens.</block>
  <block id="b8ef31ad215c14ea7ac3aa4744f3b42f" category="cell">Permite substituir a localização do host do estado interno do kubelet.</block>
  <block id="5e2907912eaee9094910d428b8f01073" category="cell"><block ref="2d9583aa0b2422324be870c86f92540f" prefix="" category="inline-code"></block></block>
  <block id="a580f5edb0407fe7fc07e03adb88d2be" category="cell">Permite que o nível de log do operador Trident seja definido como:<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>, ,<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>,<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block><block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block> , ,<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block> Ou<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>.</block>
  <block id="17b455f4f77262089207347508d91156" category="cell"><block ref="94b4515f09a2cc099780cd762366bc78" prefix="" category="inline-code"></block></block>
  <block id="0b401c459e3ff134b1e0ef7924967db5" category="cell"><block ref="844aa3cc935c46477e308955f84504e9" prefix="" category="inline-code"></block></block>
  <block id="0d1fd401e197635acbe814b44cbbe0f0" category="cell">Permite que o nível de log do operador Trident seja definido como debug.</block>
  <block id="e6e859881d25cceaf35be98ff2b495e5" category="cell"><block ref="225eb420f27fc1614025e3e94f1dbcd4" prefix="" category="inline-code"></block></block>
  <block id="3e23960e7162cfc391ab62ee009d09b5" category="cell">Permite a substituição completa da imagem para<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>.</block>
  <block id="586d412183efcbc76c2b206c73911009" category="cell"><block ref="5a50bd404d515b199254e69f83732c55" prefix="" category="inline-code"></block></block>
  <block id="87a9d5d1548b0e39b7cfe5115c686d2d" category="cell">Permite substituir a etiqueta da<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block> imagem.</block>
  <block id="ba6229139ac12ca183160040964cdaae" category="cell"><block ref="c185b55e62d1fe703eb97b2a31b6c2a3" prefix="" category="inline-code"></block></block>
  <block id="aacf685d031cae06a5c158144296d071" category="cell"><block ref="b958a6de9ca123713491252f2ab02f59" prefix="" category="inline-code"></block></block>
  <block id="f8d2c273db74b394820e68a59b18bfff" category="cell">Substitui o tempo limite padrão de 30 segundos para a maioria das operações da API do Kubernetes (se não for zero, em segundos).</block>
  <block id="2911e600bbad981e24b3e2a2b3a03f82" category="cell"><block ref="cfcd208495d565ef66e7dff9f98764da" prefix="" category="inline-code"></block></block>
  <block id="fbf0a4141bdac5821d271a6c1de1f483" category="cell"><block ref="70b0324e2a65a29bea1b014606caba39" prefix="" category="inline-code"></block></block>
  <block id="d74c6fe1792f46d6c929a448fd8b99cd" category="cell">Substitui o tempo limite padrão de 90 segundos para as solicitações HTTP,<block ref="bb61fa2850d04f4e5e34449de13febe4" prefix=" " category="inline-code"></block> sendo uma duração infinita para o tempo limite. Valores negativos não são permitidos.</block>
  <block id="ab7c61393023df91a4271d09e26bda15" category="cell"><block ref="558c8a41e3e5c9a0f109be6e60efce8d" prefix="" category="inline-code"></block></block>
  <block id="b2ffdfaa5c81870c0fb113956a7244aa" category="cell"><block ref="141d9fad9dd7e4fec852d6e55f414373" prefix="" category="inline-code"></block></block>
  <block id="22ca6470a16bcd1b3a0fd7b7dc456b4c" category="cell"><block ref="9626ee86c83efe1de7c3f5e2669b4a04" prefix="" category="inline-code"></block></block>
  <block id="dfdc01cf8fa557986d9b3e8702b6ff1b" category="cell"><block ref="3d689bd3819ead35ed794427bd12f459" prefix="" category="inline-code"></block></block>
  <block id="8639f9efa7d4198eba06690d4a1f0d16" category="cell"><block ref="c370bb44f26914bb0c965f35a89a42f7" prefix="" category="inline-code"></block></block>
  <block id="b081a6c6ed5931a2b55e31e706aae502" category="cell"><block ref="5836094432fed0c547c18869122bbf9a" prefix="" category="inline-code"></block></block>
  <block id="4d165b964c1ea4708882da42c3ef5194" category="cell"><block ref="0be533d5261bfa202a27dd6f4a2ff4da" prefix="" category="inline-code"></block></block>
  <block id="c7bc9c0edf4b3f771388feb15b8ad592" category="cell"><block ref="cd4906de65bd0389fcc62105f05b77d6" prefix="" category="inline-code"></block></block>
  <block id="c97f5436c3ba56768a7996ac0a152830" category="cell"><block ref="efc1e9e3a120c20b12e892ce2f230ff8" prefix="" category="inline-code"></block></block>
  <block id="3e52a0855ea502bd31c48eb02424ee67" category="cell"><block ref="aaeab2a659f3d6ac5063b6d8a4e7c24a" prefix="" category="inline-code"></block></block>
  <block id="66468bda18a84578afccd8255efa1845" category="cell"><block ref="d5c1386f335f8df3cd920142f8ee23b7" prefix="" category="inline-code"></block></block>
  <block id="a74941f6c96a1995cbfb438419467c32" category="cell"><block ref="fdd0820bbfc488d6a2ccba8ba0f74e73" prefix="" category="inline-code"></block></block>
  <block id="50c1c44df91bb9f35aaa04b0157d6136" category="cell"><block ref="60c65b849dbb837618645b7860aa608e" prefix="" category="inline-code"></block></block>
  <block id="74b30241e61b88d42e066d77a638a568" category="cell">Permite substituir a porta padrão usada para sondas de disponibilidade/prontidão do Kubernetes.</block>
  <block id="0a08ed3de9d17e8644d3e57dc374c3ea" category="cell">Permite ativar a função forçar desanexar.</block>
  <block id="632a46acdaa26f30f25b11d5c83eaa58" category="cell"><block ref="94ef2a130a825358ab3002442d6e5145" prefix="" category="inline-code"></block></block>
  <block id="ad77b466842808c8dce5116073a3e52b" category="cell">Exclui a criação da diretiva de segurança do pod do operador.</block>
  <block id="2f74d18d1c9959832fc00b898fa2417e" category="doc">Implantar operador Trident usando Helm (modo padrão)</block>
  <block id="6852076d7b753ee3ea825ae4af1375ac" category="inline-link-macro">processo para implantação off-line</block>
  <block id="85e06bb6e03e71b7708d9d4b6f4967ea" category="cell">Seletores de nós adicionais para pods. <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="74f3be1a07b1f65cef69ac77defaff4b" category="cell">Substitui as tolerâncias do Kubernetes para pods. <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="50f9796c3e95f29464ed077bb59ca6a5" category="cell"><block ref="a1edaea62dbed344534369e9668223b1" prefix="" category="inline-code"></block></block>
  <block id="d3ee0f95ea35db45a8c5d2deb96b4eb9" category="cell">O intervalo no qual a auto-recuperação iSCSI é invocada.</block>
  <block id="d2393ee8411e83742fc73a79660d81ba" category="cell"><block ref="48899b1fc217fef67f8c9c11d2af0800" prefix="" category="inline-code"></block></block>
  <block id="5368476cef8604c12ee3f8a741319473" category="cell"><block ref="85fc372a514da766ce84a222668f8e62" prefix="" category="inline-code"></block></block>
  <block id="a5c601ef1c412054e22a761067edb9da" category="cell">A duração após a qual a auto-recuperação iSCSI inicia uma tentativa de resolver uma sessão obsoleta executando um logout e login subsequente.</block>
  <block id="e1bd8a641f8c3114c2698aa76942b621" category="cell"><block ref="4fe853d0c57c2a118a755c207068b052" prefix="" category="inline-code"></block></block>
  <block id="44e21d73aa8bd7200fceac6671723524" category="doc">Implantar manualmente o operador Trident (modo off-line)</block>
  <block id="8ff1bc8a7ac69f081f871e9e2a8c0d0f" category="section-title">Implante manualmente o operador Trident e instale o Trident</block>
  <block id="ea8cda06a0e70ad34c1b9ab1b7135105" category="inline-link-macro">Cluster compatível com Kubernetes</block>
  <block id="bcc71769dd00af93bb067088094d9b0b" category="paragraph">Faça login no host Linux e verifique se ele está gerenciando um trabalho e <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block>que você tem o Privileges necessário.</block>
  <block id="e420b75ec3bc014e3f69c43b2383768b" category="admonition">Com OpenShift, use<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block> em vez de<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> em todos os exemplos que se seguem, e faça login como *system:admin* primeiro executando<block ref="924132b4cedac6927feecff33e0a8e17" prefix=" " category="inline-code"></block> ou<block ref="42c32f65d2d1c08a83fbc226da30a162" prefix=" " category="inline-code"></block>.</block>
  <block id="92e83bca2bb40324de35154f8c95083d" category="list-text">Verifique sua versão do Kubernetes:</block>
  <block id="b17eef151a74252395aad7db4b148b57" category="list-text">Verifique o Privileges do administrador do cluster:</block>
  <block id="987c560d773c81bc59f0fa11370626f5" category="list-text">Verifique se você pode iniciar um pod que usa uma imagem do Docker Hub e alcançar seu sistema de armazenamento pela rede de pod:</block>
  <block id="d868f4f0026c532dcfdb417dde3174c2" category="section-title">Passo 1: Baixe o pacote de instalação do Trident</block>
  <block id="a1142049a82a11e90102d655bb7e234d" category="inline-link-macro">A seção _assets_ no GitHub</block>
  <block id="e0755e6cf0a80c2d8535ac3b7eae0b4b" category="section-title">Passo 2: Crie o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRD</block>
  <block id="ad9aaefb573cd08d43c2b039449b1f0e" category="section-title">Etapa 3: Atualize a localização do Registro no operador</block>
  <block id="7a79f435dcaa0ca2322cde1d80c13868" category="section-title">Etapa 4: Implante o operador Trident</block>
  <block id="5e2619e85dc9af38c2b7180c37168571" category="list-text">Para clusters que executam o Kubernetes 1,24,<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block> use o .</block>
  <block id="e4941fda44f66f353885d1a37ca63e2b" category="list-text">Para clusters que executam o Kubernetes 1,25 ou posterior,<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block> use o .</block>
  <block id="622bbef04f6f2121d92777cd7c59cc83" category="list-text">Por padrão, o instalador do Trident implanta o operador no<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> namespace. Se o<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> namespace não existir, crie-o usando:</block>
  <block id="5bb66df6f3cd1e022e0cb84d5ef9e8e6" category="list-text">Para implantar o operador em um namespace diferente do<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> namespace, atualizar<block ref="8610cac3beb01fb0b43bc94c587a807d" prefix=" " category="inline-code"></block><block ref="a3df76a4fb69b2a5e9ec42d242e90ea3" prefix=" " category="inline-code"></block><block ref="9fa80de5781893b057ff1d535201893b" prefix=" " category="inline-code"></block> e gerar o arquivo do pacote usando o<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block>.</block>
  <block id="0b9fb37ad5573b24cf369ec73caffe42" category="list-text">Crie o<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block> usando o seguinte comando onde _&lt;bundle.yaml&gt;_ está<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block> ou<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block> baseado na sua versão do Kubernetes.</block>
  <block id="3d886aa354247002acbb6642625843d1" category="list-text">Compile o pacote usando o seguinte comando onde _&lt;bundle.yaml&gt;_ está<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block> ou<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block> baseado na sua versão do Kubernetes.</block>
  <block id="05cb480f9344b60f5eeaed25c5e230d1" category="list-text">Crie os recursos e implante o operador:</block>
  <block id="806742cccf8380250ffb871d582a0a03" category="list-text">Verifique se o operador, a implantação e as replicasets foram criados.</block>
  <block id="a770ca95121cc795b602f9af6af024fb" category="admonition">Deve haver apenas *uma instância* do operador em um cluster do Kubernetes. Não crie várias implantações do operador Trident.</block>
  <block id="579b44412770c0d6b65bc3fd9bf7c61c" category="section-title">Passo 5: Atualize a localização do registo de imagens no<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block></block>
  <block id="d0ebde94f92d8c1bae0c6660a5847bba" category="paragraph">O <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> pode estar localizado em um Registro ou Registros diferentes, mas todas as imagens CSI devem estar localizadas no mesmo Registro. Atualize<block ref="7b4b81fb05ca7f2a09fe73526ac95482" prefix=" " category="inline-code"></block> para adicionar as especificações de localização adicionais com base na configuração do seu registo.</block>
  <block id="5295ac8fb520b71deb8a1b57857b2562" category="section-title">Passo 6: Crie o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e instale o Trident</block>
  <block id="78f538d1739cfd8c70698ec72269da17" category="inline-link-macro">Personalize a instalação do Trident</block>
  <block id="9c0f95d6de9186b24cce94c1c19ad0bb" category="section-title">Verifique a instalação</block>
  <block id="f33407040f00668c9fe98aa95119654b" category="paragraph">Existem várias maneiras de verificar sua instalação.</block>
  <block id="1ee1b78e8a634a10be54657432d990c0" category="section-title"><block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>Usando o status</block>
  <block id="59331c774767b9695025c001ca75a1f6" category="inline-link-macro">verifique os logs</block>
  <block id="4b3e10870e70ff689f8c7d5c4470bb56" category="paragraph">O status de<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> indica se a instalação foi bem-sucedida e exibe a versão do Trident instalado. Durante a instalação, o status das<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> alterações de<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block> para<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>. Se você observar o<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block> status e o operador não conseguir recuperar sozinho, <block ref="b02c5b645df4a829ba2f9c98296d4b15" category="inline-link-macro-rx"></block>.</block>
  <block id="ec53a8c4f07baed5d8825072c89799be" category="cell">Estado</block>
  <block id="2763f33c904a183bd0ef06f9c4fb4403" category="cell">A instalar</block>
  <block id="98dd43dfae05b11befe1f140e0ec787a" category="cell">Instalado</block>
  <block id="c2aaea4dacecce78b34302e41fcef75e" category="cell">Desinstalação</block>
  <block id="b78846123fdd78d5ab62451b855194e3" category="cell">Desinstalado</block>
  <block id="d7c8c85bf79bbe1b7188497c32c3b0ca" category="cell">Falha</block>
  <block id="6909beea5b50605780e3411f879fe916" category="cell">A atualizar</block>
  <block id="3201d58137fab497dea740d761a9733b" category="cell">O operador está atualizando uma instalação existente.</block>
  <block id="902b0d55fddef6f8d651fe1035b7d4bd" category="cell">Erro</block>
  <block id="efaeca66375c8663b6d1d64f4886f267" category="cell">O<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> não é utilizado. Outro já existe.</block>
  <block id="474d9cf1b4e7f826154b0e1f35c59f5a" category="section-title">Usando o status de criação do pod</block>
  <block id="8492a795a07bc459d58808ef0ab73c36" category="section-title">Utilização<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="5d8f25140dde9344f1318b1319929306" category="doc">Implantar manualmente o operador Trident (modo padrão)</block>
  <block id="953aeeea088f5f969f2eba121ae81f15" category="paragraph">Antes de iniciar a instalação, faça login no host Linux e verifique se ele está gerenciando um trabalho e <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block>se você tem o Privileges necessário.</block>
  <block id="7e1c8354fb2b2ecb65abfa6a63e08970" category="section-title">Etapa 3: Implante o operador Trident</block>
  <block id="c35c65e4cd4cef23559781ed63709eb0" category="section-title">Passo 4: Crie o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e instale o Trident</block>
  <block id="3d289dfc040026f9fd5fd0d307821b6c" category="doc">Instale usando o tridentctl</block>
  <block id="bbe2bfefd5797bb567e3da92f68ce8d1" category="inline-link-macro">Personalizar a implantação do tridentctl</block>
  <block id="2122a8acb599837078e6b76436e892c4" category="list-text">O Kubernetes 1,27 agora é compatível com o Trident. Atualize o Trident antes de atualizar o Kubernetes.</block>
  <block id="53c512e9599c71e1a585d636a5229820" category="open-title">Modo padrão</block>
  <block id="ca5380881d4e3b38f359d5d05acd6163" category="paragraph">Seu status de instalação deve ser parecido com isso.</block>
  <block id="c5e8fc3926c956e64487a70aa036ec8c" category="paragraph">Você pode verificar sua instalação usando o status de criação do pod ou<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="5ba19178fb1b2111306714e923b35945" category="inline-link-macro">ative o modo de depuração</block>
  <block id="43e7d51a6323aabe7af3d192e157f5ed" category="admonition">Se o instalador não for concluído com êxito ou<block ref="ce3abad3e11d6a43c5178e20a0c7d64b" prefix=" " category="inline-code"></block> <block ref="2903817a25b5de1e17a06122d71c5cf9" prefix="(" category="inline-code"></block> em versões anteriores a 23,01) não tiver um status *Running*, a plataforma não foi instalada. Use<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block> para <block ref="82f062b46969132d4baf9d002395a676" category="inline-link-macro-rx"></block> e solucione o problema.</block>
  <block id="d5999fd61d148b96e54f154a54ffead5" category="example-title">Nós do Windows</block>
  <block id="ecb7d1d46da3859c69f45b619ace746a" category="example-title">Força a soltar</block>
  <block id="c5b5b00ff1b3a892c8694ab932cbf9ca" category="paragraph">Para obter mais informações sobre a força desapegada, <block ref="63cac71755fb6ef1f1fea34cf4037121" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="ef911ad0da9f5477ca7ec7af0ba4181a" category="paragraph">Independentemente do seu caminho de instalação, você deve ter:</block>
  <block id="3f2851ece89063ca1615062ac2117a4e" category="list-text">Privileges completo para um cluster Kubernetes compatível com execução de uma versão compatível do Kubernetes e requisitos de recursos habilitados. Reveja a <block ref="3675fd04b78685cacd6e23511ab11d10" category="inline-link-macro-rx"></block> para obter detalhes.</block>
  <block id="071d9becf308917b53d70c09e7da51b6" category="list-text">Acesso a um sistema de storage NetApp compatível.</block>
  <block id="19eb712f406fc64109f96d9cf4055cb9" category="list-text">Funcionalidade de montar volumes de todos os nós de trabalho do Kubernetes.</block>
  <block id="5f35b91e200cda68bf700d65b89c2c73" category="list-text">Um host Linux com<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> (ou<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>, se você estiver usando o OpenShift) instalado e configurado para gerenciar o cluster do Kubernetes que deseja usar.</block>
  <block id="f6f19569d16b2b36f137e3df3e315626" category="list-text">A<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> variável de ambiente configurada para apontar para a configuração do cluster do Kubernetes.</block>
  <block id="dd3de2609b612d76ef4c71b97b8d6100" category="inline-link">Siga os passos para ativar o acesso CLI</block>
  <block id="c585967fa32d82c5e3c24bd63926c6a0" category="list-text">Se você estiver usando o Kubernetes com Docker Enterprise<block ref="57562caf1c76e1a261b7e2f8c3d113f9" category="inline-link-rx"></block>, .</block>
  <block id="4a052772dca278b7be31d54ca9f21831" category="inline-link-macro">conceitos básicos</block>
  <block id="a24b4ef46f44c1b54b99e62f49bef9af" category="section-title">Escolha o método de instalação</block>
  <block id="dcb987a2d08ee1a9198d1183b1a63a96" category="inline-link-macro">movendo-se entre métodos</block>
  <block id="e11c9248bc5d43c6663f67955adbc53b" category="paragraph">Selecione o método de instalação correto para você. Você também deve rever as considerações <block ref="e6ce874bf5f421a383109cc222a74763" category="inline-link-macro-rx"></block>antes de tomar sua decisão.</block>
  <block id="bd1cc9ebdb33ed22a54815219f97af08" category="section-title">Utilizando o operador Trident</block>
  <block id="b2ad529645b5bea51c4bcd516a5c5c8f" category="inline-link-macro">Personalize a implantação do seu operador Trident</block>
  <block id="9d2c1d92b0ecb606394b40e3553d07d2" category="paragraph">Os benefícios de usar o operador Trident incluem:</block>
  <block id="9bb09894435f05fa667865ab4c45ace7" category="paragraph">O operador Trident cria automaticamente os seguintes objetos para a versão do Kubernetes.</block>
  <block id="839be275cd4b0f32a2c3e0278ce6d568" category="list-text">ServiceAccount para o operador</block>
  <block id="f330ead337ce41659c5526de118cdac3" category="list-text">ClusterRole e ClusterRoleBinding para o ServiceAccount</block>
  <block id="02c7e9dd319d7284e2200c673387dfdc" category="list-text">PodSecurityPolicy dedicada (para Kubernetes 1,25 e versões anteriores)</block>
  <block id="dbbf8c6ec95775d28c3c6da1878bf8c3" category="list-text">O próprio operador</block>
  <block id="7b0d9f7412b27b7678fe3c1e9ecd655d" category="example-title">&lt;strong&gt;Accountability&lt;/strong&gt; de recursos</block>
  <block id="504dabdcc3051fc4c1b7a92eb22fad82" category="example-title">&lt;strong&gt; capacidade de autorrecuperação &lt;/strong&gt;</block>
  <block id="0bfe7abd2878a67d5ff26746df309f8c" category="example-title">&lt;strong&gt; atualizações fáceis para &lt;/strong&gt; existente</block>
  <block id="cbbeebc91e4ea4f1960f7a74b5b14c23" category="paragraph">Você pode facilmente atualizar uma implantação existente com o operador. Você só precisa editar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR para fazer atualizações em uma instalação.</block>
  <block id="33ab2c3f94452baf7f17dab03982edfb" category="paragraph">Após<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> a atualização, o operador processa as atualizações e corrige a instalação existente. Isso pode acionar a criação de novos pods para modificar a instalação de acordo.</block>
  <block id="ac0482b416d6b2d907db760f79e018a7" category="example-title">&lt;strong&gt; Clean restablation&lt;/strong&gt;</block>
  <block id="f72ba1a3a498489a96fd8774bfa9ea9d" category="example-title">&lt;strong&gt; handling&lt;/strong&gt; de atualização automática do Kubernetes</block>
  <block id="43e6c0a141c1737a96917c56c7e22a73" category="inline-link-macro">instalação usando o prefixo de referência do c</block>
  <block id="4c24a3b9facf2ea9fc7ed2ca52dab45d" category="inline-link-macro">personalize o seu prefixo de referência do bloco do cliente</block>
  <block id="84721e18f913ae71c91ded91f5eb0ccc" category="section-title">Escolha o modo de instalação</block>
  <block id="ecafb217c7f4e740b9f654a4f2d90d83" category="paragraph">Determine seu processo de implantação com base no _modo de instalação_ (padrão, Offline ou remoto) exigido pela sua organização.</block>
  <block id="e0090e5eeb1da23a2924e8a8913a9bf8" category="open-title">Instalação padrão</block>
  <block id="ca02732ace7c24d10b82abb835861fa8" category="list-text">Obtém as imagens de contentor pela Internet</block>
  <block id="6c09f957f6dd5f1b3287dacfabe8711a" category="open-title">Instalação offline</block>
  <block id="559e73031b36e6693dcd5724b5ec9488" category="paragraph">O modo de instalação off-line pode ser necessário em um local seguro ou protegido. Nesse cenário, você pode criar um único Registro privado espelhado ou dois Registros espelhados para armazenar imagens Trident e CSI necessárias.</block>
  <block id="37f28a5a50507d5cf12665008632572f" category="admonition">Independentemente da configuração do Registro, as imagens CSI devem residir em um Registro.</block>
  <block id="8e9a94c9655a1b4aac478f836ff8dde6" category="open-title">Instalação remota</block>
  <block id="3937570b6000a2f24b3066af230f4546" category="paragraph">Aqui está uma visão geral de alto nível do processo de instalação remota:</block>
  <block id="02ed10abbc71334918b1acb54df6e3f3" category="list-text">Copie os arquivos de configuração do cluster do Kubernetes e defina a<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> variável de ambiente na máquina remota.</block>
  <block id="da693b77cde91654c6296abe8f901988" category="list-text">Inicie um<block ref="1513e62b9eb7bbfc46c1be1a91a2ab76" prefix=" " category="inline-code"></block> comando para verificar se você pode se conetar ao cluster do Kubernetes necessário.</block>
  <block id="df65ec31c6f96e95301e3c6ff8863335" category="list-text">Conclua a implementação a partir da máquina remota utilizando as etapas de instalação padrão.</block>
  <block id="8be61d7ba452354892142828445281d0" category="section-title">Selecione o processo com base no seu método e modo</block>
  <block id="667af34faf4c2e74b377bbe7608ca481" category="paragraph">Depois de tomar suas decisões, selecione o processo apropriado.</block>
  <block id="4c3880bb027f159e801041b1021e88e8" category="cell">Método</block>
  <block id="f8a17e31b9d98082aa01aa0b41f63a01" category="cell">Modo de instalação</block>
  <block id="e633d636fff46ea0b0998da525b2fba2" category="cell">Operador Trident (manualmente)</block>
  <block id="8f923c676fa6a52b7729476fc0d5f245" category="paragraph"><block ref="8f923c676fa6a52b7729476fc0d5f245" category="inline-link-macro-rx"></block></block>
  <block id="d295bad40364c9511c0d7b6a18e9557b" category="paragraph"><block ref="d295bad40364c9511c0d7b6a18e9557b" category="inline-link-macro-rx"></block></block>
  <block id="b9267203f04d91a5fcda0041ad2b3b64" category="cell">Operador Trident (Helm)</block>
  <block id="c197c2a4864a9d7a8190b1988d1e5885" category="paragraph"><block ref="c197c2a4864a9d7a8190b1988d1e5885" category="inline-link-macro-rx"></block></block>
  <block id="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="paragraph"><block ref="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="inline-link-macro-rx"></block></block>
  <block id="0b9d702360fb60f9b8b477339ca03a7b" category="cell"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block></block>
  <block id="be686de0390e44f3981b994e059dfcb7" category="inline-link-macro">Instalação padrão ou offline</block>
  <block id="9e244fc5020d1137289c0c34c2944ac4" category="paragraph"><block ref="9e244fc5020d1137289c0c34c2944ac4" category="inline-link-macro-rx"></block></block>
  <block id="dd341f866eaefb939dc86608773c909d" category="section-title">Movendo-se entre os métodos de instalação</block>
  <block id="84dfae02381a00cf11d01c571e3e3e0f" category="paragraph">Você pode decidir alterar seu método de instalação. Antes de fazer isso, considere o seguinte:</block>
  <block id="e77325ac6e155cf5d14c756f1d64333f" category="list-text">Se você tiver uma implantação manual baseada no operador e quiser usar a implantação do operador Trident baseada no Helm, desinstale manualmente o operador primeiro e execute a instalação do Helm. Isso permite que o Helm implante o operador Trident com as etiquetas e anotações necessárias. Se você não fizer isso, sua implantação de operador Trident baseada em Helm falhará com erro de validação de rótulo e erro de validação de anotação. Se você tem uma<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> implantação baseada em -, você pode usar a implantação baseada em Helm sem problemas.</block>
  <block id="25c11af81bf0b01ce7b0f24ddc9f7136" category="section-title">Outras opções de configuração conhecidas</block>
  <block id="8ded34c5caad3971bb6d0a2b202d7b32" category="list-text">O cluster precisa dar suporte a workloads privilegiados.</block>
  <block id="dbe38f4f0d856b41827e6e4531720a5e" category="list-text">A<block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block> bandeira deve ser definida para a localização do diretório kubelet. Por padrão, isso é<block ref="a926643d94a7dbc3362b17c2ed8a3f12" prefix=" " category="inline-code"></block>.</block>
  <block id="4dc3529fbf05312075f0aa52f9c0908e" category="paragraph">Especificar a localização do kubelet usando<block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block> é conhecido por funcionar para o Operador Trident, Helm e<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> implantações.</block>
  <block id="afe272beb780ad53d441c342bf1c8c77" category="summary">Saiba mais sobre o tridentctl, um utilitário de linha de comando que fornece acesso simples ao Trident.</block>
  <block id="7358b1fd077fa65f88fff87888fd2547" category="inline-link">Pacote de instalação do Trident</block>
  <block id="497769c5c03818fffe81b6190ec47c82" category="section-title">Comandos e sinalizadores globais</block>
  <block id="66fa8a46aff90f5c8507c33a1cdc3e3f" category="paragraph">Você pode executar<block ref="d7948c15bebd1e81a58fa7c99888c9c6" prefix=" " category="inline-code"></block> para obter uma lista de comandos disponíveis<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ou anexar o<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block> sinalizador a qualquer comando para obter uma lista de opções e sinalizadores para esse comando específico.</block>
  <block id="ee4805b45f3a791791c675c82c73c1b6" category="paragraph"><block ref="081bcd7924bd528b9799fd1b1389158c" prefix="" category="inline-code"></block></block>
  <block id="c441ee50c88f6e5e3a7c69fc69dad8b8" category="example-title">Comandos</block>
  <block id="e49cf31f5ed35f0eb694c7714e8c3234" category="list-text"><block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix="" category="inline-code"></block></block>
  <block id="3649b15e31d22a1e2210f014d843b9fa" category="list-text"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block></block>
  <block id="a4027ed0f56ae6ac2cbb7605a519932b" category="list-text"><block ref="b5eda0a74558a342cf659187f06f746f" prefix="" category="inline-code"></block></block>
  <block id="c6a354ad100a80a11b5358549fa08956" category="list-text"><block ref="657f8b8da628ef83cf69101b6817150a" prefix="" category="inline-code"></block></block>
  <block id="b6886cb9d8320f0522485af2d7b5e732" category="list-text">Ajuda sobre qualquer comando.</block>
  <block id="7920cf9e1a990d156e390321c1d5efeb" category="list-text"><block ref="59b514174bffe4ae402b3d63aad79fe0" prefix="" category="inline-code"></block></block>
  <block id="99ff05be0d0e797b4814ab264d1555b7" category="list-text"><block ref="93473a7344419b15c4219cc2b6c64c6f" prefix="" category="inline-code"></block></block>
  <block id="cc27cfd3259c2299d8dece590d5f6985" category="list-text"><block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix="" category="inline-code"></block></block>
  <block id="2acfb4ba14a6f33d7e82e8d1dda6542f" category="list-text"><block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix="" category="inline-code"></block></block>
  <block id="9ce837bc2492d4ed390bc5d1ea9d1437" category="list-text"><block ref="2541d938b0a58946090d7abdde0d3890" prefix="" category="inline-code"></block></block>
  <block id="30cf71e674825d319eb0406032c1a80b" category="list-text"><block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix="" category="inline-code"></block></block>
  <block id="1f46b6519384cf9cc5d7893457ab6e9c" category="list-text"><block ref="2424c0d4857ddcc30f1aabda7294d84f" prefix="" category="inline-code"></block></block>
  <block id="92cde4054a93fe29af6357539b327494" category="list-text">Suspender temporariamente as operações de back-end.</block>
  <block id="238000b5c5df1cc446f5ba823c01807c" category="list-text"><block ref="ae26b3d8e556703291282149e3ae894f" prefix="" category="inline-code"></block></block>
  <block id="12d9bb0959755423ba2fc4a4d349ee90" category="example-title">Bandeiras globais</block>
  <block id="a54f86a6d882e5b4c1560087bb3d23fe" category="list-text"><block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="" category="inline-code"></block>,<block ref="b47e5fb843a641159b90a001a614119c" prefix=" " category="inline-code"></block></block>
  <block id="f984c283566ffcc330d2055e568c2bc4" category="list-text">Saída de depuração.</block>
  <block id="aa8575d70709b06761f70e7aa773dccd" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>,<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block></block>
  <block id="cbaa0d88e3069707dc20abca170c009e" category="list-text">Ajuda para<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="301f920ee13f1cef29f1c14dacf94c4b" category="list-text"><block ref="ff2bddd61609f26dc3255408781890ad" prefix="" category="inline-code"></block>,<block ref="a4b374188b5bbba3f37deccc51421bd4" prefix=" " category="inline-code"></block></block>
  <block id="4927d7c110c03787d6a128bc5245a451" category="list-text">Especifique<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> o caminho para executar comandos localmente ou de um cluster do Kubernetes para outro.</block>
  <block id="9858b15df593f3960e8b74b5eb680bf0" category="admonition">Como alternativa, você pode exportar a<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> variável para apontar para um cluster Kubernetes específico e emitir<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> comandos para esse cluster.</block>
  <block id="6e25615e543a74d4a5ea9c21cda4b604" category="list-text"><block ref="9cefd96d40d0ee1256c8eff1def0312d" prefix="" category="inline-code"></block>,<block ref="3be3a69890f8609a06ed69c980bdf3ed" prefix=" " category="inline-code"></block></block>
  <block id="e9fe902fae54aee02c0226a1cd4ef93e" category="list-text"><block ref="b2ed43620b7fff2689035f1e99c24ded" prefix="" category="inline-code"></block>,<block ref="fde021f6d95feede78ab3d390365d552" prefix=" " category="inline-code"></block></block>
  <block id="fc070ca332d823236f678c78abc58ee2" category="list-text">Formato de saída. Um de JSON|yaml|name|wide|ps (padrão).</block>
  <block id="51b3c65bb68baeb2ef94eb128afdc270" category="list-text"><block ref="406381251d2d4637ebfac7f24cc49c6f" prefix="" category="inline-code"></block>,<block ref="b59778b847581570efb244355a6aa704" prefix=" " category="inline-code"></block></block>
  <block id="433f174b6e54b889696b2efd4ef40dc6" category="admonition">A interface REST DO Trident pode ser configurada para ouvir e servir apenas em 127.0.0.1 (para IPv4) ou [::1] (para IPv6).</block>
  <block id="1c36a7e67198ff73665408726652a4c3" category="section-title">Opções de comando e sinalizadores</block>
  <block id="76ea0bebb3c22822b4f0dd9c9fd021c5" category="section-title">criar</block>
  <block id="1183069eacde609c309c6652f2abbc57" category="paragraph"><block ref="4bf60056ad290949d881334e46fe9fc1" prefix="" category="inline-code"></block></block>
  <block id="dae8ace18bdcbcc6ae5aece263e14fe8" category="list-text">Opções</block>
  <block id="099af53f601532dbd31e0ea99ffdeb64" category="section-title">eliminar</block>
  <block id="28b6c04534d74299209efef5ba8ed0e0" category="paragraph"><block ref="f8e353bd7af0b2adee08bd2cfca86ee4" prefix="" category="inline-code"></block></block>
  <block id="b5eda0a74558a342cf659187f06f746f" category="section-title">obter</block>
  <block id="3880097e6e3ace364060bd1a3502034a" category="paragraph"><block ref="5af35d698576fbd6e910714628ae9a91" prefix="" category="inline-code"></block></block>
  <block id="4ea7801f17a4e5485e8b050c052fb443" category="list-text">Bandeiras</block>
  <block id="fbb9ff314555260bd6ce75e7fefe007a" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>,<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>: Ajuda para volumes.<block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix=" " category="inline-code"></block>: Limitar consulta ao volume de origem subordinado.<block ref="aed2a4a749284f757648f1057abf44cd" prefix=" " category="inline-code"></block>: Limitar consulta a subordinados de volume.</block>
  <block id="59b514174bffe4ae402b3d63aad79fe0" category="section-title">imagens</block>
  <block id="15e57263073fbab8a5c17df2199514fa" category="paragraph"><block ref="1a4565f84c3ef7acc3e88c3af0bf4b12" prefix="" category="inline-code"></block></block>
  <block id="8373216d773ee6fe75393fa84e1e92c6" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>,<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>: Ajuda para imagens.<block ref="47fa03ef5536c5573b137cec5adc2d39" prefix=" " category="inline-code"></block><block ref="afb81ccdb6e6d78674d516ee32b89981" prefix=" " category="inline-code"></block>, : Versão semântica do cluster do Kubernetes.</block>
  <block id="f6c534966bc7687e0c87134d025f8837" category="section-title">importar volume</block>
  <block id="7627836f99f91110fe4d92a0cf45f490" category="paragraph"><block ref="9fe05f98df27b42476862d09511bd0d7" prefix="" category="inline-code"></block></block>
  <block id="9ab81f57823f6aeb02362291f23883e6" category="list-text">Aliases</block>
  <block id="501eadc7c3c034b710e1a4d2a417bbce" category="list-text"><block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix="" category="inline-code"></block>,<block ref="9e3669d19b675bd57058fd4664205d2a" prefix=" " category="inline-code"></block></block>
  <block id="346218c412dda8bcf2f8fc06030abee5" category="list-text"><block ref="5338b151154663bac9980b0f044518f2" prefix="" category="inline-code"></block><block ref="33781a1644c3eb60bb229660536cb79b" prefix=" " category="inline-code"></block>, : Caminho para o arquivo PVC YAML ou JSON.<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block>,<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>: Ajuda para volume.<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>: Criar apenas PV/PVC. Não assuma o gerenciamento do ciclo de vida do volume.</block>
  <block id="19ad89bc3e3c9d7ef68b89523eff1987" category="section-title">instale</block>
  <block id="1adc393db1e6b77c875ecd4c669772ec" category="paragraph"><block ref="190ae106b0b18c5bb8b5f3bdc39dacb9" prefix="" category="inline-code"></block></block>
  <block id="2165e4fa5bddb65a31f6a0c495c2fa37" category="section-title">registos</block>
  <block id="0fc4d21e21006115d42b2d6aa4451ffa" category="paragraph"><block ref="8815a52aa2be7be3d51559b2366dc8e1" prefix="" category="inline-code"></block></block>
  <block id="2541d938b0a58946090d7abdde0d3890" category="section-title">enviar</block>
  <block id="6faa54b930cd3447550e2f6a2be621bb" category="paragraph"><block ref="c68774a474a551b5788d1c1e26d3dcd0" prefix="" category="inline-code"></block></block>
  <block id="48df24d35784c5df52ab82ba6f257549" category="list-text"><block ref="ee64de1ad50d8209e64ee58b23e27986" prefix="" category="inline-code"></block>: Enviar um arquivo AutoSupport para o NetApp.</block>
  <block id="fe98497efedbe156ecc4b953aea77e07" category="section-title">desinstalar</block>
  <block id="bab5bdd673e8007bb1451ff83f2d7fbf" category="paragraph"><block ref="f74e9b644f442240b768be80cfac9840" prefix="" category="inline-code"></block></block>
  <block id="ba491d35780f4d2becc7847117f59c9d" category="list-text"><block ref="60072fc2fad0d30fc656850e04c7433f" prefix="" category="inline-code"></block>: Ajuda para desinstalar.<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block>: Desativar a saída MOST durante a desinstalação.</block>
  <block id="3ac340832f29c11538fbe2d6f75e8bcc" category="section-title">atualização</block>
  <block id="8020758b80cef903a0b06e0083b2a43b" category="paragraph"><block ref="8894c4db9cf5d5ac9d439434e0994407" prefix="" category="inline-code"></block></block>
  <block id="2424c0d4857ddcc30f1aabda7294d84f" category="section-title">atualizar estado de back-end</block>
  <block id="26cdb30fb70d63515b796135d1481235" category="paragraph">Use o<block ref="2424c0d4857ddcc30f1aabda7294d84f" prefix=" " category="inline-code"></block> comando para suspender ou retomar as operações de back-end.</block>
  <block id="a8692aa823f016402f6459f92e2c343c" category="paragraph"><block ref="1327c48297ec159839f95302f8885592" prefix="" category="inline-code"></block></block>
  <block id="60e3300406400d9ca307bbe9538cb66f" category="list-title">Pontos a considerar</block>
  <block id="ce48e23c21c781fc1bd260f1c6bbd0e9" category="list-text">Se um back-end for criado usando um TridentBackendConfig (tbc), o back-end não poderá ser atualizado usando um<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> arquivo.</block>
  <block id="965425a47916235e6c935104c9e64bca" category="list-text">Se o<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> foi definido em um tbc, ele não pode ser modificado usando o<block ref="ce232749b55d6999ffb5cc1feb6c69fe" prefix=" " category="inline-code"></block> comando.</block>
  <block id="6969443eb58685fd2ba47dd82c688dfb" category="list-text">Utilize os<block ref="30ef4d8d0d0cb9218c8f70ca2b7ee7bc" prefix=" " category="inline-code"></block> para alterar o<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>. Você também pode atualizar o<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> usando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> ou<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> arquivo; isso aciona uma reinicialização completa do back-end e pode ser demorado.</block>
  <block id="0e43bd2bbbbfb114e0df26c0544f5608" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block><block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>, : Ajuda para o estado de back-end.<block ref="2be951e4c83b3373b0b76554fd93bb4a" prefix=" " category="inline-code"></block>: Defina como<block ref="735fda5d72b5c650f3f0435195a211bd" prefix=" " category="inline-code"></block> para pausar operações de back-end. Defina como<block ref="fea087517c26fadd409bd4b9dc642555" prefix=" " category="inline-code"></block> para retomar as operações de back-end. Quando definido para<block ref="735fda5d72b5c650f3f0435195a211bd" prefix=" " category="inline-code"></block>:</block>
  <block id="b2b04010a7e4a8486d987f6e074cde45" category="list-text"><block ref="befb9ef08cd8fda4bc507ccd6a523a43" prefix="" category="inline-code"></block> e<block ref="301cd7c7419443b2c9c5d87f6865f0cb" prefix=" " category="inline-code"></block> estão em pausa.</block>
  <block id="15ba7f861a25848aeb7a04303194c22a" category="list-text"><block ref="c76dd551d0df4615489f4840c234db4e" prefix="" category="inline-code"></block><block ref="4956c0b34c154301cbe111d75fb939f9" prefix=" " category="inline-code"></block>, ,<block ref="37ca7faad054353aadc61e64e55b4dac" prefix=" " category="inline-code"></block><block ref="9a288381ee12262ef127ccbaeb520730" prefix=" " category="inline-code"></block> ,<block ref="db66912e8bdff8f12b8b75883aeb66ef" prefix=" " category="inline-code"></block>, , ,<block ref="752d336f53e6d74a5e509dd00eb2a627" prefix=" " category="inline-code"></block><block ref="871b40b0d12fe47d3ce4d2bbfa30ccc5" prefix=" " category="inline-code"></block>, ,<block ref="4c7dd4b0f1074705d27d812563c98768" prefix=" " category="inline-code"></block><block ref="70850d0d4fbd8b67815a4598d5655a4d" prefix=" " category="inline-code"></block> ,<block ref="c4e5752b58b7f7b1c92a5302a0940801" prefix=" " category="inline-code"></block>, , ,<block ref="7c976338db43771fa6048705880496ea" prefix=" " category="inline-code"></block> permanecer disponível.</block>
  <block id="4ba6a75e6aacbc3737630ba55916cd27" category="inline-link-macro">Opções para gerenciar backends</block>
  <block id="bffb766af67c15f14cae35f03dd6f4a9" category="inline-link-macro">Execute o gerenciamento de back-end com o kubectl</block>
  <block id="6ca35db8eab6c30e03e715e99d3c1d11" category="paragraph">Você também pode atualizar o estado de back-end usando<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> o campo no arquivo de configuração de back-end<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> ou<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>. Para obter mais informações, <block ref="991ae6fba57a2359d4e338d48b85301c" category="inline-link-macro-rx"></block>consulte e <block ref="d39ea29671737dc4c6f8b362e0ace309" category="inline-link-macro-rx"></block>.</block>
  <block id="c26fe677a830587ef1c141567a86c86a" category="paragraph">*Exemplo:*</block>
  <block id="0ecd11c1d7a287401d148a23bbd7a2f8" category="open-title">JSON</block>
  <block id="4c8c9b9d93d68dc932195b1aa0583910" category="paragraph">Siga estas etapas para atualizar o<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> usando o<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> arquivo:</block>
  <block id="13cf048f75b63ff6bd6513e6ceb81fe0" category="list-text">Edite o<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> arquivo para incluir o<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> campo com o seu valor definido como 'uspended'.</block>
  <block id="90457d836d77c63b0e475cddbb6f1d4c" category="list-text">Atualize o backend usando o<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block> comando e o caminho para o arquivo atualizado<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>.</block>
  <block id="a7c9f5fb8c3dd89cd4acee279df59630" category="paragraph">*Exemplo*:<block ref="cc34ac0a771977b41f88a8dac4a25a01" prefix=" " category="inline-code"></block></block>
  <block id="9463f87bbed1fcdacfb8d40e185ca2bc" category="open-title">YAML</block>
  <block id="a0c475f6592b0a660cc2db104d607b3f" category="paragraph">Você pode editar o tbc depois que ele foi aplicado usando o<block ref="cdf774783c0eec7f2639a3c0d70d29ff" prefix=" " category="inline-code"></block> comando. O exemplo a seguir atualiza o estado de back-end para suspender usando a<block ref="c7d1d8826ecea15bd2786371bbe65f70" prefix=" " category="inline-code"></block> opção:</block>
  <block id="2af72f100c356273d46284f6fd1dfc08" category="section-title">versão</block>
  <block id="ff5f39bc4c620c3b1ca6b0811177f14c" category="paragraph">Use<block ref="2af72f100c356273d46284f6fd1dfc08" prefix=" " category="inline-code"></block> sinalizadores para imprimir a versão do<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> e o serviço Trident em execução.</block>
  <block id="4301e504ec5591a4c51fe93e446a7a35" category="paragraph"><block ref="dca46ba7b3ffeb9b51e10f54acbd826d" prefix="" category="inline-code"></block></block>
  <block id="e6e32acf4d56921ac92540101fe00fc9" category="list-text"><block ref="db0e9588c0d46e16e0aea5c50287a54f" prefix="" category="inline-code"></block>: Somente versão do cliente (nenhum servidor necessário).<block ref="60072fc2fad0d30fc656850e04c7433f" prefix=" " category="inline-code"></block>: Ajuda para a versão.</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="list-title">Sobre esta tarefa</block>
  <block id="298619534d23da6e9389fd113bb13495" category="section-title">Determine o método de instalação original</block>
  <block id="7bd3bf704987c7c25848acd94f0e499d" category="list-text">Use<block ref="8dd3e3fab389d3d56b4dbea697d52e91" prefix=" " category="inline-code"></block> para examinar os pods.</block>
  <block id="426346b94737adca6c2d979d911464ef" category="section-title">Desinstale a instalação de um operador Trident</block>
  <block id="253ead25988bfe2dee06d2227693e39d" category="paragraph">Você pode desinstalar manualmente uma instalação do operador do Trident ou usando o Helm.</block>
  <block id="2985edaba812b8b31d08cc8513fee0a3" category="section-title">Desinstalar a instalação manual</block>
  <block id="6418f8ccde0bb975a1ad82cf1d5250c6" category="list-text">**Editar<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR e definir o sinalizador de desinstalação**:</block>
  <block id="30abd17d4913fab8af9d1efd63c15f9c" category="paragraph">Quando o<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block> sinalizador está definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o operador Trident desinstala o Trident, mas não remove o próprio TridentOrchestrator. Você deve limpar o TridentOrchestrator e criar um novo se quiser instalar o Trident novamente.</block>
  <block id="55f6e2744208ccefe34f3e05ced2c988" category="section-title">Desinstale a instalação do Helm</block>
  <block id="99dec4df69ba043a5eb3118e1e0b364e" category="section-title">Desinstale uma<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> instalação</block>
  <block id="a81c3a8630da0b8548245caae368a3c2" category="doc">Compreender o fluxo de trabalho de atualização do operador</block>
  <block id="3d40f2a5a694e68fd88105fc4f5ee0d4" category="section-title">Manuseio de atualização do operador Trident</block>
  <block id="74e51c48d68796e06830c062f5c955c1" category="inline-link-macro">Benefícios de usar o operador Trident</block>
  <block id="99c73e527698ab76b32674b7e9dd4708" category="inline-link-macro">_atualizações contínuas_</block>
  <block id="1a1508da73374db3dd227799f48fdf63" category="list-text">Exclua e recrie a implantação do controlador Trident e o nó DaemonSet.</block>
  <block id="88b9e59609789e4bf00d72c8be9dd376" category="list-text">Substitua o pod de nó Trident e o pod de nó Trident por novas versões.</block>
  <block id="6d3156de6583a452ead75c70c186fcb8" category="list-text">Se um nó não for atualizado, ele não impedirá que os nós restantes sejam atualizados.</block>
  <block id="e232b75d1eb891caededece68ccba4bd" category="list-text">Somente os nós com um pod de nó Trident em execução podem montar volumes.</block>
  <block id="672bc0defc3e808ff4066a5bb35984ff" category="section-title">Fluxo de trabalho de atualização do operador</block>
  <block id="09fca30aacc5af8d0afe600848776412" category="paragraph">Quando você inicia uma atualização usando o operador Trident:</block>
  <block id="de1c3bc7b6551ded8e26b3c59f25fd6a" category="list-text">O operador *Trident*:</block>
  <block id="95c09f4a69ddcda8ea23efaa0892e31f" category="list-text">Atualiza todos os objetos Kubernetes, incluindo CRDs, RBAC e Trident SVC.</block>
  <block id="fa5496466c33ad47156dabe9b4b7a83d" category="list-text">Exclui a implantação do controlador Trident para a versão _n_.</block>
  <block id="de4c5e6acc990d98e3ed3412db367a33" category="list-text">Cria a implantação do controlador Trident para a versão _n-1_.</block>
  <block id="55a86ba64e45e0262aa7012299b6e1a5" category="list-text">O Kubernetes* cria o pod de controlador Trident para _n-1_.</block>
  <block id="9fcab903d35527e73aa8c9b8d55e4f02" category="list-text">Exclui o nó Trident DaemonSet para _n_. O operador não espera o encerramento do Node Pod.</block>
  <block id="a532235f4c82e61844620f45083fb82c" category="list-text">Cria o nó Trident Daemonset para _n-1_.</block>
  <block id="5075af00f3f40cf13822f5863cc71c39" category="list-text">*Kubernetes* cria pods de nós do Trident em nós que não executam o Pod de nó do Trident _n_. Isso garante que nunca mais de um pod de nó Trident, de qualquer versão, em um nó.</block>
  <block id="d6b7a42c6c41b071d2c80b3e4c2a7edf" category="inline-link-macro">Selecione um método de atualização</block>
  <block id="3ef75911ec16a9d0ba70cfd4e68dcb71" category="section-title">Atualize uma instalação manual</block>
  <block id="b0e74afe1fdeb605b5c47b501c43b71b" category="inline-link-macro">sua versão instalada</block>
  <block id="eb7a4fa3d9aff7ec5b23abb8b82d516b" category="paragraph">O Trident fornece um arquivo de pacote que você pode usar para instalar o operador e criar objetos associados para sua versão do Kubernetes.</block>
  <block id="bd2cc8575fe69c7f775292759380c838" category="inline-link-macro">bundle_pre_1_25.yaml</block>
  <block id="5a02ebff4889c2de0379a0fb10bed282" category="inline-link-macro">bundle_post_1_25.yaml</block>
  <block id="4e9ac50b8f51023570ef0b0a0a827912" category="inline-link-macro">Uma versão compatível do Kubernetes</block>
  <block id="053bfc722ec4b4805e32c307458f8ea5" category="paragraph">Verifique se você está usando um cluster do Kubernetes executando <block ref="d502dc64864e79085bee32826e6fe213" category="inline-link-macro-rx"></block>o .</block>
  <block id="bdae3121e140e5325fd05919c86dd97f" category="list-text">Se você personalizou sua instalação inicial usando<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> atributos, você pode editar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> objeto para modificar os parâmetros de instalação. Isso pode incluir alterações feitas para especificar Registros de imagens Trident e CSI espelhados para o modo offline, habilitar logs de depuração ou especificar segredos de recebimento de imagens.</block>
  <block id="34c5f2f84f16f23213713a6adc11c319" category="admonition">Se você definir opções personalizadas durante a instalação inicial (como especificar Registros privados e espelhados para imagens Trident e CSI), anexe o<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> comando usando<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block> para garantir que essas opções estejam incluídas no comando upgrade, caso contrário, os valores serão redefinidos para padrão.</block>
  <block id="3d0107bfa0874592e9dc04f9869b604b" category="list-text">Execute<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> para verificar se o gráfico e a versão do aplicativo foram atualizados. Execute<block ref="3e725291d4b17065fdcd321172fcfae3" prefix=" " category="inline-code"></block> para rever todas as mensagens de depuração.</block>
  <block id="613909529798c8a2543da8e954e5d742" category="section-title">Atualize de uma<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> instalação para o operador Trident</block>
  <block id="9142b40107d9c5a0b86ef0ce8c25a88b" category="paragraph">Pode atualizar para a versão mais recente do operador Trident a partir de uma<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> instalação. Os backends e PVCs existentes estarão automaticamente disponíveis.</block>
  <block id="733aa7fe5deef27d1cb0828cff0f17bd" category="admonition">Antes de alternar entre os métodos de instalação, revise <block ref="d7d87809bc6e1001ccd94c7433d28fd5" category="inline-link-macro-rx"></block>o .</block>
  <block id="4ab464bddccdcbc36fab4cea802025f9" category="list-text">Crie o<block ref="de2dc323226e711fbec4c5c39eeac5b8" prefix=" " category="inline-code"></block> CRD a partir do manifesto.</block>
  <block id="71530aef1814290453dc7add3bdae349" category="list-text">Implante o operador com escopo de cluster no mesmo namespace.</block>
  <block id="8d23be098d49e797284393a4c1479c53" category="list-text">Confirme se o Trident foi atualizado para a versão pretendida.</block>
  <block id="ee656aff7dc78e280efdea39a682afbb" category="section-title">Considerações antes da atualização</block>
  <block id="34c1edfb4ac8581528c3791be680aeb3" category="inline-link-macro">Tipo de serviço CVS</block>
  <block id="5797c3891863b81173e1bb10d6488a72" category="inline-link-macro">Amostras do tipo de serviço CVS</block>
  <block id="33966eba1ed0cde6afda5a97ffaffb09" category="inline-link">contextos de segurança</block>
  <block id="326aae224b3bbcf4b9eb8fc0a262fc24" category="list-text">Este é um ** requisito** para aplicação de<block ref="cafe4c6014d8c45aaac70e49318f1a2a" category="inline-link-rx"></block> volumes SAN.</block>
  <block id="6429305365094c29848a93a6d17a7f53" category="list-text">O diretório https://github.com/NetApp https://github.com/NetApp/Trident Trident/tree/master/Trident Trident-installer/sample-input[sample input] contém exemplos, como https://github.com/NetApp/Trident/blob/master/Trident-installer/sample-input/storage-class-samples/storage-class-<block ref="69ae2d9a6d831af7488e53fec053b77e" prefix="[" category="inline-code"></block>basic<block ref="9abb8c7777ddb413820ee07d5d93aa4a" prefix="[" category="inline-code"></block></block>
  <block id="948c2cbef9ba6f931735e6eef2d86eba" category="list-text">Para obter mais informações, <block ref="04cf7258a315ca08f4b436c194fef69d" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="87459c33b1692755deb4b22c7eaa864c" category="section-title">Passo 1: Selecione uma versão</block>
  <block id="2251733916a92fc0c61d943165128928" category="inline-link-macro">versão anterior</block>
  <block id="199ed8c975e8bb544d18428ba17adbc3" category="inline-link">Detalhes do problema no GitHub</block>
  <block id="1eb921add61b9e1c5fcaf8272bb52ec6" category="admonition">Ao atualizar usando o operador Trident na Plataforma de contêiner OpenShift, você deve atualizar para o Trident 21.01.1 ou posterior. O operador Trident lançado com 21.01.0 contém um problema conhecido que foi corrigido no 21.01.1. Para obter mais detalhes, consulte<block ref="bcebcdd21adcbb3d7c640d63a711c6fb" category="inline-link-rx"></block>a .</block>
  <block id="6d2d3a9fb621ba23b0f8ec56dc8b0a24" category="section-title">Passo 2: Determine o método de instalação original</block>
  <block id="dccfb2ce978b2c73d6a7308a124d0043" category="section-title">Passo 3: Selecione um método de atualização</block>
  <block id="74652b96889938fdef1037f82abf39b0" category="inline-link-macro">mova entre os métodos de instalação</block>
  <block id="441b9a0ce7113f17c0021f9922b1c865" category="inline-link-macro">Atualize usando o operador Trident</block>
  <block id="672218727121432fb7209f42c6a00514" category="list-text"><block ref="672218727121432fb7209f42c6a00514" category="inline-link-macro-rx"></block></block>
  <block id="14d76a1fc05dcace5308e48b3d9bad49" category="admonition">Sugerimos que você revise <block ref="4185c20447fb5f0bb4f33698bfd20d27" category="inline-link-macro-rx"></block> antes de atualizar com o operador.</block>
  <block id="a18aa1b83c1605570c9c2911c5180a7b" category="inline-link-macro">Atualize usando o prefixo de referência do c</block>
  <block id="3b2fa532fe7cebc94d245316f8af8ab4" category="list-text"><block ref="fd3f4a100d968c915adb11c8797ef5d2" category="inline-link-macro-rx"></block></block>
  <block id="2a21586f7990f8cb0f8951cd2ef7bc3b" category="doc">Atualize com o tridentctl</block>
  <block id="ab639a35db468f671d4a76735e801015" category="paragraph">Revise <block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block> antes de atualizar usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="1d2d1200e759d67b259f843be2270f71" category="admonition">Não interrompa o processo de atualização. Certifique-se de que o instalador é executado até a conclusão.</block>
  <block id="03c39d763ca15978d9ef16c2ba5fe98a" category="doc">Proteção de dados e recuperação de desastres</block>
  <block id="082510018437a15b6d42065dfe5a5384" category="inline-link-macro">Kubernetes: Fazer backup de um cluster etcd</block>
  <block id="ec3558916e2679d1a4b592e0ade35471" category="list-text">Faça backup do cluster do Kubernetes etcd usando <block ref="901b02918d705c0966dae4033c132965" category="inline-link-macro-rx"></block>o .</block>
  <block id="b30057689f3e745e5feeb142585ff30b" category="list-text">No SVM de destino, monte o volume que contém os arquivos de dados e certificados do Kubernetes no host, que será configurado como um nó mestre.</block>
  <block id="5fefcae3a4602913a273a904829295ce" category="list-text">Copie todos os certificados necessários referentes ao cluster do Kubernetes<block ref="890b0e4d98741eac800c616b757217cb" prefix=" " category="inline-code"></block> e os arquivos de membros do etcd em<block ref="3fa01691da932f6c45bf424027ffabb8" prefix=" " category="inline-code"></block>.</block>
  <block id="51fa31507539ecf10c55d8cc513269d0" category="inline-link-macro">Kubernetes: Restaurando um cluster etcd</block>
  <block id="3167e8459c0d46545dc7978a60ef4978" category="list-text">Restaure o cluster do Kubernetes a partir do backup etcd usando <block ref="c87a91d2cf6358248ae560cfa802edf4" category="inline-link-macro-rx"></block>o .</block>
  <block id="54d0429fea223af0d32d9f061ed733c9" category="list-text">Execute<block ref="1ec8e1992e296a9bdb691f1931d391fe" prefix=" " category="inline-code"></block> para verificar se todos os recursos personalizados do Trident foram criados e recuperar os objetos Trident para verificar se todos os dados estão disponíveis.</block>
  <block id="c87c1a25aa5e2ef1af216bc50d1fd391" category="section-title">Replicação e recuperação da SVM</block>
  <block id="0d3b37ff5855bf299f3c4a154373c1e2" category="inline-link">ONTAP SnapMirror</block>
  <block id="9299ebdcbaefed4a9ea27b355bb0f75e" category="paragraph">Em caso de desastre, você pode ativar o SVM de destino do SnapMirror para começar a fornecer dados. Você pode voltar para o primário quando os sistemas são restaurados.</block>
  <block id="1de93d4bf941bc79aec631023559b9e7" category="paragraph">Considere o seguinte ao usar o recurso de replicação do SnapMirror SVM:</block>
  <block id="1868906f3a3fbcf756260737545805d6" category="list-text">Você deve criar um back-end distinto para cada SVM com SVM-DR ativado.</block>
  <block id="f9f808f1692cabf1bf803e07da9adbe7" category="list-text">Configure as classes de storage para selecionar os back-ends replicados somente quando necessário, a fim de evitar ter volumes que não precisam de replicação provisionados nos back-ends compatíveis com SVM-DR.</block>
  <block id="6fa2f5991a9e2ee7d4668899f94e78e4" category="list-text">Os administradores de aplicativos devem entender o custo e a complexidade adicionais associados à replicação e considerar cuidadosamente seu plano de recuperação antes de iniciar esse processo.</block>
  <block id="2b5ffe73affd6d09b3b5e160e117e5c9" category="section-title">Replicação da SVM</block>
  <block id="9f4b9999b69320b559438c600d724ff9" category="inline-link-macro">ONTAP: Replicação do SnapMirror SVM</block>
  <block id="d628a099db3505c9d0435e12076d8a61" category="paragraph">Você pode usar <block ref="89150b9d328c8330200fceb39b37760e" category="inline-link-macro-rx"></block> o para criar a relação de replicação do SVM.</block>
  <block id="524218dc9ff1ef52c9a0404971525b21" category="inline-link-macro">-identidade-preservar verdadeiro</block>
  <block id="8dc4e22513bbb97acc41295bfe46d5fe" category="list-text"><block ref="c758ffe020dc40d00c9a9c46ecbdd824" category="inline-link-macro-rx"></block> Replica toda a configuração da SVM.</block>
  <block id="d18f05a5c35a5a7d999263600f0356bf" category="inline-link-macro">-discard-configs network</block>
  <block id="97c20c3eb8c7569982dc9f84e7f31ba3" category="list-text"><block ref="afa9da8af32f091c8328b13559d456b1" category="inline-link-macro-rx"></block> Exclui LIFs e configurações de rede relacionadas.</block>
  <block id="224ea277d21a44b59b0fa43747b4f6a6" category="inline-link-macro">-identity-preserve false</block>
  <block id="471621652d0597dca59f266effb8f90f" category="list-text"><block ref="1faf7e0b3f51b53ae01a4f860a9ed344" category="inline-link-macro-rx"></block> replica apenas os volumes e a configuração de segurança.</block>
  <block id="da29de46c3a7d3e66fc701b2781fcbce" category="list-text">Cancele transferências de SnapMirror agendadas e contínuas, interrompa a relação de replicação, pare o SVM de origem e ative o SVM de destino do SnapMirror.</block>
  <block id="98bdea55e26fba2494cc5f163b6f8076" category="list-text">Se você especificou<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> ou<block ref="e932330dd004e680ebd1a75db84b73ce" prefix=" " category="inline-code"></block> ao configurar sua replicação SVM, atualize o<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> e<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> no arquivo de definição de back-end do Trident.</block>
  <block id="6141984e8f91176bd3a76175b02c1a09" category="list-text"><block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>Confirmar está presente no arquivo de definição de back-end do Trident. Este parâmetro não pode ser alterado. Omitir<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> fará com que a atualização de backend falhe.</block>
  <block id="51589b18e320f20306c944a08241dac1" category="list-text">Atualize todos os backends necessários para refletir o novo nome SVM de destino usando:</block>
  <block id="d980e1fdfa951088567e6d057ba7dc9c" category="list-text">Se você especificou<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> ou<block ref="89680afd09991bc3d4db985c40c861c1" prefix=" " category="inline-code"></block>, você deve rejeitar todos os pods de aplicativo.</block>
  <block id="cceb49886fed38f241928d51abab95a2" category="section-title">Replicação de volume e recuperação</block>
  <block id="815f28e53ebfb423dfe835a845095bf6" category="inline-link-macro">Replicação e recuperação do ONTAP SnapMirror</block>
  <block id="c3c343b5a84229bd5095fd09f2afc5f5" category="inline-link-macro">importação de volume tridentctl</block>
  <block id="d8d9dfeae772da34290b750d0f848a26" category="admonition">A importação não é suportada em<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> drivers , <block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>, ou<block ref="70d5dbddc55e3700ddbc8d21f0de22a3" prefix=" " category="inline-code"></block> .</block>
  <block id="b489b293d6cbe8b86835d3cac8c315fb" category="section-title">Proteção de dados do Snapshot</block>
  <block id="f332d72a4b78e34e31131f3a98c98053" category="paragraph">Você pode proteger e restaurar dados usando:</block>
  <block id="97fb495fd3b6672c40bb0092ca102eca" category="list-text">Uma controladora de snapshot externa e CRDs para criar snapshots de volume do Kubernetes de volumes persistentes (PVS).</block>
  <block id="4227c1b28cc9c04bf3552b7aae57fc3c" category="paragraph"><block ref="4227c1b28cc9c04bf3552b7aae57fc3c" category="inline-link-macro-rx"></block></block>
  <block id="83cd672b9742ba621e93a8b69c4ab2d4" category="list-text">Snapshots ONTAP para restaurar todo o conteúdo de um volume ou recuperar arquivos individuais ou LUNs.</block>
  <block id="ad336d1fccea3e918d07055edac855a3" category="inline-link-macro">Snapshots ONTAP</block>
  <block id="0cb949d1baa06577db93328185a8f24d" category="paragraph"><block ref="0cb949d1baa06577db93328185a8f24d" category="inline-link-macro-rx"></block></block>
  <block id="ea355214fd4bc7c57f471bd92918879b" category="doc">Implantação</block>
  <block id="d89d3b3161292ef0c65342cbe80e883f" category="section-title">Implante em um namespace dedicado</block>
  <block id="13d28e8dfc702e3456e0767dff9a128a" category="inline-link">Namespaces</block>
  <block id="853cf568613b7eec1486421468e18b9b" category="paragraph">Além disso, o acesso ao pod Trident pode permitir que um usuário acesse credenciais do sistema de storage e outras informações confidenciais. É importante garantir que os usuários de aplicativos e aplicativos de gerenciamento não tenham a capacidade de acessar as definições de objetos do Trident ou os próprios pods.</block>
  <block id="2c8e89de5c6bf68b180cff5fea545167" category="section-title">Use cotas e limites de intervalo para controlar o consumo de armazenamento</block>
  <block id="74444eaf90c31d151645e59dcab0468d" category="inline-link">mecanismo de cota de storage</block>
  <block id="1d81c150d54eae0c49d9cfeb8d493b0f" category="inline-link">limite de alcance</block>
  <block id="94104e476fe547cf6237480cacae5ed5" category="paragraph">O Kubernetes tem dois recursos que, quando combinados, fornecem um mecanismo avançado para limitar o consumo de recursos pelas aplicações. O<block ref="bff513af91e6751aca3d34ef714e3b91" category="inline-link-rx"></block> permite que o administrador implemente limites de consumo globais e específicos de classe de storage, de contagem de objetos e capacidade em uma base por namespace. Além disso, o uso de a<block ref="dbe9770513b0f7245f1fe016d20ebb70" category="inline-link-rx"></block> garante que as solicitações de PVC estejam dentro de um valor mínimo e máximo antes que a solicitação seja encaminhada para o provisionador.</block>
  <block id="4f9253eda0573e387f86d7777aafff03" category="inline-link">como alavancar cotas</block>
  <block id="923169151e05d28a3474b2a033666297" category="paragraph">Esses valores são definidos em uma base por namespace, o que significa que cada namespace deve ter valores definidos que se encaixam em seus requisitos de recursos. Consulte aqui para obter informações<block ref="5b289b2ffde01314d8b0d038aabd709b" category="inline-link-rx"></block> sobre .</block>
  <block id="698aa9df4c2c5470599821c3d10620dd" category="summary">Em geral, um cluster do Kubernetes consiste em dois tipos de nós, cada um responsável por diferentes aspectos da funcionalidade.</block>
  <block id="1fdc23c8579638d050b7b219da011f2b" category="section-title">Seleção e implantação do driver</block>
  <block id="a3edb76d25dfeb8d67e4711eafd2b5ca" category="paragraph">Selecione e implante um driver de back-end para seu sistema de storage.</block>
  <block id="a57628924f909d4edd5cb81ee4f10896" category="section-title">Drivers de back-end do ONTAP</block>
  <block id="4ea57c8a88545a4fc2039131bc6fd74d" category="paragraph">Os drivers de back-end do ONTAP são diferenciados pelo protocolo usado e pelo modo como os volumes são provisionados no sistema de storage. Portanto, tenha cuidado ao decidir qual driver implantar.</block>
  <block id="815a377da65ae5b66c84438c43416d82" category="paragraph">Em um nível mais alto, se seu aplicativo tiver componentes que precisam de armazenamento compartilhado (vários pods acessando o mesmo PVC), os drivers baseados em nas seriam a escolha padrão, enquanto os drivers iSCSI baseados em bloco atendem às necessidades de armazenamento não compartilhado. Escolha o protocolo com base nos requisitos da aplicação e no nível de conforto das equipes de armazenamento e infraestrutura. De um modo geral, há pouca diferença entre eles para a maioria dos aplicativos, portanto, muitas vezes a decisão é baseada na necessidade ou não de armazenamento compartilhado (onde mais de um pod precisará de acesso simultâneo).</block>
  <block id="642b59503457da90c85cbb7a35e02089" category="paragraph">Os drivers de back-end ONTAP disponíveis são:</block>
  <block id="c2c889ded63fbe94cf7f1d5fe4747b2d" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>: Cada PV provisionado é um Flexvolume ONTAP completo.</block>
  <block id="9418583a1b7e700d24bcc735aa4682b5" category="list-text"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block>: Cada PV provisionado é uma qtree, com um número configurável de qtrees por Flexvolume (o padrão é 200).</block>
  <block id="bc8f11db54909209ba09d55ee0b46990" category="list-text"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block>: Cada PV provisionado como um ONTAP FlexGroup completo e todos os agregados atribuídos a um SVM são usados.</block>
  <block id="5e587346b7a212ee6429303276a1578b" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>: Cada PV provisionado é um LUN dentro de seu próprio Flexvolume.</block>
  <block id="85f6f5093b037b5bde3201d8136ee585" category="list-text"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block>: Cada PV provisionado é um LUN, com um número configurável de LUNs por Flexvolume (o padrão é 100).</block>
  <block id="f1d8371af632688748db007c98766ded" category="paragraph">A escolha entre os três drivers nas tem algumas ramificações para os recursos, que são disponibilizados para o aplicativo.</block>
  <block id="6252699c8e049f40eaf187092727a531" category="cell">Drivers nas ONTAP</block>
  <block id="9147e5e61a7b9260dec09f3a6eb3e5be" category="cell">Instantâneos</block>
  <block id="999cc42b236c7aee1157ff02d6f1bcd5" category="cell">Clones</block>
  <block id="13bc190bfed9f972b3e33e3656737cdd" category="cell">Políticas de exportação dinâmicas</block>
  <block id="ab0c646b4c5e36d9bcf8239d97fd1843" category="cell">Ligação múltipla</block>
  <block id="8f2db90dd4a6fbd95ba8f0bc54fd6b27" category="cell">QoS</block>
  <block id="9d723d04c40bfd81835c0766a698cf63" category="cell">Redimensionar</block>
  <block id="8c340dc334134096f68b880b42a8692c" category="cell">Replicação</block>
  <block id="00055dac2ba112b87a95a368075b9561" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block></block>
  <block id="6bfc395e3d384b30d9f43ca45b1eeff7" category="cell">Nota de rodapé:5[]</block>
  <block id="7c078cb746c3dd22969c07747fd7f3fc" category="cell">Nota de rodapé:1[]</block>
  <block id="cecdaed309330a9e7dea16b2076957ee" category="cell"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block></block>
  <block id="2b8ac774302bd45e0ad531e434d8cd6d" category="cell"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block></block>
  <block id="f916141465c67326e5d7d980bff2880b" category="cell">Controladores SAN ONTAP</block>
  <block id="4f546cdc5f90f7d264cde89d14c6e015" category="cell">CHAP bidirecional</block>
  <block id="cd17e7ed84c40a0ff5ecb8b625b1f186" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block></block>
  <block id="e78e01b4457814be0584f80618e4659a" category="cell">Nota de rodapé:4[]</block>
  <block id="73b781a615cea2647a87ff2035e296b1" category="cell"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block></block>
  <block id="74b4b41be17ac9897921032dfd4e94a8" category="paragraph">Os recursos que não são granulares PV são aplicados a todo o Flexvolume e todos os PVS (ou seja, qtrees ou LUNs em FlexVols compartilhados) compartilharão um cronograma comum.</block>
  <block id="b483d59c54aea739f0806cf2f30c057e" category="paragraph">Como podemos ver nas tabelas acima, grande parte da funcionalidade entre<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> o e<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> é a mesma. No entanto, como o<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> motorista limita a capacidade de controlar o cronograma em granularidade por PV, isso pode afetar sua recuperação de desastres e Planejamento de backup em particular. Para as equipes de desenvolvimento que desejam utilizar a funcionalidade de clone de PVC no storage ONTAP, isso só é possível ao usar os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers ,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ou<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> .</block>
  <block id="45f7f2e55c0930a28d1a9e481e602a09" category="admonition">O<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver também é capaz de clonar PVCs.</block>
  <block id="e44e590e4645ab9ef08fb84f61cede17" category="section-title">Drivers de back-end do Cloud Volumes ONTAP</block>
  <block id="986d46700a93c1b67573285912b2a857" category="paragraph">O Cloud Volumes ONTAP fornece controle de dados junto a recursos de storage de classe empresarial para vários casos de uso, incluindo compartilhamentos de arquivos e storage em nível de bloco, atendendo aos protocolos nas e SAN (NFS, SMB/CIFS e iSCSI). Os drivers compatíveis para o Cloud volume ONTAP são<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>,<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>. Eles são aplicáveis ao Cloud volume ONTAP para Azure, Cloud volume ONTAP para GCP.</block>
  <block id="fdde450e1a16aa1461e62c6fa5ac621f" category="section-title">Drivers de back-end do Amazon FSX para ONTAP</block>
  <block id="7844c41fb05be5427418dbab3d0bdc49" category="paragraph">O Amazon FSX for NetApp ONTAP permite que você aproveite os recursos, o desempenho e os recursos administrativos do NetApp que você já conhece, ao mesmo tempo em que aproveita a simplicidade, a agilidade, a segurança e a escalabilidade do armazenamento de dados na AWS. O FSX para ONTAP suporta muitos recursos do sistema de arquivos ONTAP e APIs de administração. Os drivers compatíveis para o Cloud volume ONTAP são<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>,<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>,<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>.</block>
  <block id="d079959bb7c738f4e1704de5ff69b897" category="section-title">Drivers de back-end NetApp HCI/SolidFire</block>
  <block id="e040ac9827d856d3ad8ae9ac0da92295" category="paragraph">O<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver usado com as plataformas NetApp HCI/SolidFire ajuda o administrador a configurar um back-end Element para Trident com base nos limites de QoS. Se você quiser projetar seu back-end para definir os limites de QoS específicos nos volumes provisionados pelo Trident, use o<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block> parâmetro no arquivo de back-end. O administrador também pode restringir o tamanho do volume que pode ser criado no armazenamento usando o<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block> parâmetro. Atualmente, recursos de armazenamento de elementos, como redimensionamento de volume e replicação de volume, não são suportados pelo<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver. Essas operações devem ser feitas manualmente por meio da IU da Web do Element Software.</block>
  <block id="77e9d6f249e4626d5b5c3aec863459d3" category="cell">Controlador SolidFire</block>
  <block id="9ef2bbb12ff72558472202561a25058d" category="cell">CHAP</block>
  <block id="57ee8ed0b2796ea5f35b10f9ae5d68cd" category="cell"><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix="" category="inline-code"></block></block>
  <block id="0929973a1c9993903f6193add75b3fcf" category="cell">Nota de rodapé:2[]</block>
  <block id="64648abd6d020446c9c8d556a1584d71" category="section-title">Drivers de back-end do Azure NetApp Files</block>
  <block id="4da613089cbda3d7c19cb4b3f67c1f5d" category="cell">Controlador Azure NetApp Files</block>
  <block id="8098b34f582537833b36b58273c3545b" category="cell">Expandir</block>
  <block id="e228843381960c06d1035c4219901307" category="cell"><block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix="" category="inline-code"></block></block>
  <block id="d7f3ab8ebe0633127c883b84d0b2bc4a" category="section-title">Cloud Volumes Service no driver de back-end do Google Cloud</block>
  <block id="b8777f333c4d18731d4e5746513dc8eb" category="cell">Driver do Cloud Volumes Service para Google Cloud</block>
  <block id="949a374fc5a78d436e3067ee2de19cbe" category="cell"><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix="" category="inline-code"></block></block>
  <block id="e8257e01d592104a99a17c192f84e86a" category="cell">Disponível apenas no tipo de serviço CVS-Performance.</block>
  <block id="e6f7c10d8c16eee55f72ce71c4b10a2f" category="list-title">Notas de replicação</block>
  <block id="706c8ebf7645c5a984d080882f157905" category="list-text">O clone será criado no mesmo pool de storage que o volume de origem.</block>
  <block id="3af6198d49c40c18f13c73c5ce15cf34" category="section-title">Design da classe de armazenamento</block>
  <block id="388bdf78cbb5b6bf4248ddf5613f7cc3" category="paragraph">As classes de armazenamento individuais precisam ser configuradas e aplicadas para criar um objeto Classe de armazenamento Kubernetes. Esta seção discute como projetar uma classe de armazenamento para seu aplicativo.</block>
  <block id="0dceb918cb4a4d7dcbe5af26d08e7657" category="section-title">Utilização específica no back-end</block>
  <block id="a09acd5f665bdf96b6dce47f8d4265e3" category="paragraph">A filtragem pode ser usada dentro de um objeto de classe de armazenamento específico para determinar qual pool de armazenamento ou conjunto de pools devem ser usados com essa classe de armazenamento específica. Três conjuntos de filtros podem ser definidos na Classe de armazenamento:<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>,<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> E/ou<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>.</block>
  <block id="74476e892d2681775eb41ec00a11e8da" category="paragraph">O<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block> parâmetro é usado para excluir especificamente o conjunto listado de pools que correspondem aos atributos.</block>
  <block id="ebaf90f7386ae95e7960a2fc0084116e" category="section-title">Emular políticas de QoS</block>
  <block id="ab807e6bd2f9cb9872eed98161bdd4e1" category="paragraph">Se você quiser criar classes de armazenamento para emular políticas de qualidade de Serviço, crie uma Classe de armazenamento com o<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block> atributo como<block ref="dfdf2b9d5b3a77a55769b11d8a0396fe" prefix=" " category="inline-code"></block> ou<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block>. Com base no<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block> atributo mencionado na classe de storage, o Trident selecionará o back-end apropriado que serve<block ref="dfdf2b9d5b3a77a55769b11d8a0396fe" prefix=" " category="inline-code"></block> ou<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block> agrega para corresponder ao atributo de Mídia e direcionará o provisionamento dos volumes para o agregado específico. Portanto, podemos criar uma classe de armazenamento PREMIUM que teria um conjunto de atributos,<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block> que<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block> poderia ser classificado como a política de QoS PREMIUM. Podemos criar outro PADRÃO de classe de armazenamento que teria o atributo de Mídia definido como "hdd", que poderia ser classificado como a política de QoS PADRÃO. Também podemos usar o atributo "IOPS" na classe de armazenamento para redirecionar o provisionamento para um dispositivo Element que pode ser definido como uma Política de QoS.</block>
  <block id="125ad0610423d53866d257eb097320e4" category="section-title">Utilize o back-end com base em recursos específicos</block>
  <block id="0bc0e72aefbf8f8ec0b28cc0486f98a2" category="paragraph">As classes de storage podem ser projetadas para direcionar o provisionamento de volume em um back-end específico, no qual recursos como provisionamento fino e espesso, snapshots, clones e criptografia são ativados. Para especificar qual armazenamento usar, crie classes de armazenamento que especifiquem o back-end apropriado com o recurso necessário habilitado.</block>
  <block id="46eefe0a9f18e4edef4d602d3868ad26" category="section-title">Design de pool virtual</block>
  <block id="e531eef4bc68547759b647c917ac2567" category="admonition">Ao definir pools virtuais, é recomendável não tentar reorganizar a ordem dos pools virtuais existentes em uma definição de back-end. Também é aconselhável não editar/modificar atributos para um pool virtual existente e definir um novo pool virtual.</block>
  <block id="b6e026d8066036cf2628237905a58384" category="section-title">Emulando diferentes níveis de serviço/QoS</block>
  <block id="9f65455ce006fe56e7588e4e14f1edb8" category="paragraph">É possível projetar pools virtuais para emular classes de serviço. Usando a implementação do pool virtual para o Cloud volume Service for Azure NetApp Files, vamos examinar como podemos configurar diferentes classes de serviço. Configure o back-end do Azure NetApp Files com vários rótulos, representando diferentes níveis de desempenho. Defina<block ref="28277e44c5db61612accdf326d137e96" prefix=" " category="inline-code"></block> Aspect para o nível de desempenho apropriado e adicione outros aspetos necessários em cada rótulo. Agora crie diferentes classes de armazenamento do Kubernetes que mapeariam para diferentes pools virtuais. Usando o<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> campo, cada StorageClass chama quais pools virtuais podem ser usados para hospedar um volume.</block>
  <block id="628fd4af2a4e2fce014efbf03b84bb71" category="section-title">Atribuir um conjunto específico de aspetos</block>
  <block id="f274bdd304a8c3825a2766a1f8ff8fa7" category="paragraph">Vários pools virtuais com um conjunto específico de aspectos podem ser projetados a partir de um único back-end de storage. Para fazer isso, configure o back-end com vários rótulos e defina os aspetos necessários em cada rótulo. Agora crie diferentes classes de armazenamento do Kubernetes usando o<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> campo que mapearia para diferentes pools virtuais. Os volumes que são provisionados no back-end terão os aspetos definidos no pool virtual escolhido.</block>
  <block id="421f7dd5bb37a6401aa6326ad33dae20" category="section-title">Caraterísticas de PVC que afetam o provisionamento de armazenamento</block>
  <block id="5ab83f35784f154d55ea7ab58c8e503b" category="section-title">Modo de acesso</block>
  <block id="f3882c83b41b76a9fac2c57407f3ac2b" category="paragraph">Ao solicitar armazenamento através de um PVC, um dos campos obrigatórios é o modo de acesso. O modo desejado pode afetar o back-end selecionado para hospedar a solicitação de armazenamento.</block>
  <block id="cac415feda213697b27d3b6fce10d33a" category="cell">ReadWriteOnce</block>
  <block id="c24ad3d99a666c95edd149419c958ee0" category="cell">ReadOnlyMany</block>
  <block id="caa8dc1f4bb28d2d11226494cd05a123" category="cell">ReadWriteMany</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="cell">ISCSI</block>
  <block id="cefb8ccdebef1940174b22e9d0ab530b" category="cell">Sim (bloco bruto)</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="823f2153adc2211a0777560eafdcbad6" category="paragraph">Uma solicitação de um PVC ReadWriteMany enviado para uma implantação do Trident sem um back-end NFS configurado resultará em nenhum volume sendo provisionado. Por esse motivo, o solicitante deve usar o modo de acesso apropriado para sua aplicação.</block>
  <block id="5a51acb2538e54805c54d37ebb49c75d" category="section-title">Operações de volume</block>
  <block id="26fad327e23b6b08dcc94300bfe1ed04" category="section-title">Modificar volumes persistentes</block>
  <block id="7439c9a99660382e94c16c5272b9bfb0" category="paragraph">Volumes persistentes são, com duas exceções, objetos imutáveis no Kubernetes. Uma vez criados, a política de recuperação e o tamanho podem ser modificados. No entanto, isso não impede que alguns aspetos do volume sejam modificados fora do Kubernetes. Isso pode ser desejável para personalizar o volume para aplicações específicas, para garantir que a capacidade não seja consumida acidentalmente ou simplesmente mover o volume para um controlador de armazenamento diferente por qualquer motivo.</block>
  <block id="b1d1874782626fe3f391628ea493e6ef" category="paragraph">Os detalhes de ligação do PV não podem ser modificados após a criação.</block>
  <block id="e68591655c8031177206e1e75728853f" category="section-title">Criar snapshots de volume sob demanda</block>
  <block id="f007c56a8eb121e8a696105e69aefa68" category="section-title">Criar volumes a partir de instantâneos</block>
  <block id="55a3309b0b6646e0ea6b47195bd3d4bd" category="section-title">Mover volumes no cluster</block>
  <block id="2243e252be826d6ec5e767668d9f961d" category="section-title">Expanda volumes</block>
  <block id="40a28a40c11a193f8911cf4143a6ae6a" category="section-title">Importar um volume existente para o Kubernetes</block>
  <block id="62e0abd2d56d565a2b31e85b446fa800" category="paragraph">A importação de volume permite importar um volume de storage existente para um ambiente Kubernetes. Atualmente, isso é suportado pelos<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers ,<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>,<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> e<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> . Esse recurso é útil ao portar um aplicativo existente para o Kubernetes ou durante cenários de recuperação de desastres.</block>
  <block id="3a8b25f50e2dcc298175abc8f6a71f82" category="paragraph">Se um recipiente fosse implantado de modo que fosse necessário o PVC importado específico, ele permaneceria em um estado pendente até que o par PVC/PV seja vinculado através do processo de importação de volume. Depois que o par de PVC / PV são ligados, o recipiente deve surgir, desde que não haja outros problemas.</block>
  <block id="6dd8f6c286b8e1a8c96c6309099f0003" category="section-title">Serviço de registo</block>
  <block id="68ee1c4c0da20bfd1e946df20351d4b9" category="inline-link-macro">NetApp.io</block>
  <block id="126ac9f6149081eb0e97c2e939eaad52" category="inline-link-macro">blog</block>
  <block id="34d357a7f8cc47e860d5fb0a317cf22d" category="paragraph">A implantação e o gerenciamento do armazenamento para o Registro foram documentados <block ref="d5e1883ebd095c0eda96c44469e8197d" category="inline-link-macro-rx"></block> <block ref="ceb73d0582d40281d79011a1e5343e89" category="inline-link-macro-rx"></block>no .</block>
  <block id="62ac236856a5a6aefd15133e967514c6" category="section-title">Serviço de registo</block>
  <block id="2f3052b6a2858bec8355ec56150f6a38" category="paragraph">Assim como outros serviços OpenShift, o serviço de log é implantado usando o Ansible com parâmetros de configuração fornecidos pelo arquivo de inventário, também conhecido como hosts, fornecidos ao manual de estratégia. Há dois métodos de instalação que serão abordados: Implantação de logs durante a instalação inicial do OpenShift e implantação de logs após a instalação do OpenShift.</block>
  <block id="3e01fdf7f18117c92347492814d988ee" category="admonition">A partir do Red Hat OpenShift versão 3,9, a documentação oficial recomenda contra o NFS para o serviço de log devido a preocupações com a corrupção de dados. Isso é baseado no teste da Red Hat de seus produtos. O servidor NFS do ONTAP não tem esses problemas e pode facilmente fazer backup de uma implantação de log. Em última análise, a escolha do protocolo para o serviço de Registro é sua, apenas saiba que ambos funcionarão muito bem ao usar plataformas NetApp e não há motivo para evitar o NFS se essa for sua preferência.</block>
  <block id="57cad4852c9c2e439f61728e0391fe7b" category="paragraph">Se você optar por usar o NFS com o serviço de log, precisará definir a variável Ansible<block ref="12eeb466f53968af86875065cacb87df" prefix=" " category="inline-code"></block> para<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> evitar que o instalador falhe.</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="section-title">Comece agora</block>
  <block id="16e90b2336fdfec64b19194247422194" category="paragraph">O serviço de log pode, opcionalmente, ser implantado tanto para aplicativos quanto para as operações principais do próprio cluster OpenShift. Se você optar por implantar o Registro de operações, especificando a variável<block ref="e9fb6c5b679bcf493f004e7862e40370" prefix=" " category="inline-code"></block> como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, duas instâncias do serviço serão criadas. As variáveis que controlam a instância de log para operações contêm "OPS" nelas, enquanto a instância para aplicativos não.</block>
  <block id="643f15e2581a728cb2a6d66953a357d7" category="paragraph">A configuração das variáveis do Ansible de acordo com o método de implantação é importante para garantir que o storage correto seja utilizado pelos serviços subjacentes. Vejamos as opções para cada um dos métodos de implantação.</block>
  <block id="02098b11f876fe10c40b6106bd9864da" category="paragraph">As variáveis na tabela abaixo resultarão no manual do Ansible criando um PV e PVC para o serviço de Registro usando os detalhes fornecidos. Esse método é significativamente menos flexível do que usar o manual de instalação de componentes após a instalação do OpenShift, no entanto, se você tiver volumes existentes disponíveis, é uma opção.</block>
  <block id="47c14840d8e15331fa420b9b2f757cd9" category="cell">Variável</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">Detalhes</block>
  <block id="9aa2fd43742cd5ed36b406b3f4b0fd8c" category="cell"><block ref="da877c5451281307ba496c6d47b9e58a" prefix="" category="inline-code"></block></block>
  <block id="3260b06ea72e4931f5fb5106001fcc28" category="cell">Defina como<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> para que o instalador crie um NFS PV para o serviço de log.</block>
  <block id="e95f43173c69a9ca544d4aaef28a4d90" category="cell"><block ref="a6e6be3176202f08f0df1683c85dbcf6" prefix="" category="inline-code"></block></block>
  <block id="41aae586bb7044d7741fe9412aa81e03" category="cell"><block ref="de9d956706d370dbc262cec42d7dd029" prefix="" category="inline-code"></block></block>
  <block id="bf2d137d8c669b07aae26040c7e5c0e0" category="cell">O caminho de montagem para a exportação NFS. Por exemplo, se o volume for juntado como<block ref="54db3c53100205a4065b324343188651" prefix=" " category="inline-code"></block>, você usaria esse caminho para essa variável.</block>
  <block id="88a9f7d18fabb82d63ac43c64ae6e735" category="cell"><block ref="a9c9aa0bbb9f276fcffcb28987aafe46" prefix="" category="inline-code"></block></block>
  <block id="6f8782c23f3cb958d0de4fad76dabaed" category="cell">O nome, por exemplo<block ref="2e85c8d6d60b1938be08d95bf1d5ed6c" prefix=" " category="inline-code"></block>, do PV a criar.</block>
  <block id="789e0dc4bfc00f5c885a698d6ab34dff" category="cell"><block ref="db6cd83d9bf6cb9184c2966426d87c8d" prefix="" category="inline-code"></block></block>
  <block id="b68f05ea52c8c80c07e6a4c0671c75bf" category="cell">O tamanho da exportação NFS, por<block ref="f6e2fcb8998619722fdea77d356a4b3b" prefix=" " category="inline-code"></block> exemplo .</block>
  <block id="2ab80b6965298dc6a178995bbedebe88" category="paragraph">Se o cluster do OpenShift já estiver em execução e, portanto, o Trident tiver sido implantado e configurado, o instalador poderá usar o provisionamento dinâmico para criar os volumes. As variáveis a seguir precisarão ser configuradas.</block>
  <block id="c2aecf833d743cbc47969cd85c67101e" category="cell"><block ref="5d0e211248d2b37acde90612e54b85c9" prefix="" category="inline-code"></block></block>
  <block id="540ad9a52084720ddb7f364fa8b304c6" category="cell">Defina como verdadeiro para usar volumes provisionados dinamicamente.</block>
  <block id="45a481a75749c5331e7e9fd7d89e473d" category="cell"><block ref="5e135d629059162b7f62817ebf81f67b" prefix="" category="inline-code"></block></block>
  <block id="837ffa1e281409660ed25582c5b1963f" category="cell">O nome da classe de armazenamento que será usado no PVC.</block>
  <block id="cd3daa927272b5624e96d283365d5500" category="cell"><block ref="7ee69f3d6802d7d49dc834e2a48533f8" prefix="" category="inline-code"></block></block>
  <block id="8f80d278a79cbc84b80a091713006022" category="cell">O tamanho do volume solicitado no PVC.</block>
  <block id="1bb0c7eeef4bbbefae080a294fd554b0" category="cell"><block ref="463a50d4707805ff518a7c1b614cae9b" prefix="" category="inline-code"></block></block>
  <block id="f870ec92e294a018a17afe7a614fb5bb" category="cell">Um prefixo para os PVCs usados pelo serviço de Registro.</block>
  <block id="e8c62e1f0f0773ae5ba6a7acad696b2d" category="cell"><block ref="f4d06597471a7e461fa3aaaa2a053142" prefix="" category="inline-code"></block></block>
  <block id="46e65a11ac398c02b8fce45a7cd5cf36" category="cell">Defina como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> para usar volumes provisionados dinamicamente para a instância de log de operações.</block>
  <block id="8792c7234e14325cb68c493d20ab5154" category="cell"><block ref="30a3d0fdc8ecf82523d9f348d96c46ab" prefix="" category="inline-code"></block></block>
  <block id="d016f79f0ee104f3805d61e6a379fb9b" category="cell">O nome da classe de armazenamento para a instância de log de operações.</block>
  <block id="048e768365962d7d520567f92aea8355" category="cell"><block ref="7c884ec8a4d2fd51c22984fae2fe09f1" prefix="" category="inline-code"></block></block>
  <block id="bc367f89ac597585e52d0eb58a5929ae" category="cell">O tamanho da solicitação de volume para a instância de operações.</block>
  <block id="155871626071d69cb283985a9f36bad2" category="cell"><block ref="210255a36cb029002a696f21a04cf35d" prefix="" category="inline-code"></block></block>
  <block id="2a8f254749a466654f556c6466051133" category="cell">Um prefixo para os PVCs de instância de OPS.</block>
  <block id="e1b2d0d3228c29c069bcd139de306709" category="section-title">Implantar a pilha de logs</block>
  <block id="0409a0cfdfa4f3b3033503b8309442ff" category="paragraph">Se você estiver implantando o log como parte do processo inicial de instalação do OpenShift, então você só precisará seguir o processo de implantação padrão. O Ansible configurará e implantará os serviços necessários e os objetos OpenShift para que o serviço fique disponível assim que o Ansible for concluído.</block>
  <block id="3dbf527ac3caf41ab150ec99a1737217" category="section-title">Serviço de métricas</block>
  <block id="ee3d8ea22d8bf88f2f7fcd6d6dbf26d2" category="paragraph">O serviço de métricas fornece informações valiosas ao administrador sobre o status, a utilização de recursos e a disponibilidade do cluster OpenShift. Também é necessário para a funcionalidade de escala automática de pods e muitas organizações usam dados do serviço de métricas para seus aplicativos de cobrança e/ou exibição.</block>
  <block id="b8e4ea2ed30f2f3a9f05ef8e1cc243db" category="paragraph">Assim como no serviço de log e no OpenShift como um todo, o Ansible é usado para implantar o serviço de métricas. Além disso, tal como o serviço de registo, o serviço de métricas pode ser implementado durante uma configuração inicial do cluster ou após a sua operação utilizando o método de instalação do componente. As tabelas a seguir contêm as variáveis que são importantes ao configurar o armazenamento persistente para o serviço de métricas.</block>
  <block id="69aa4440020e49c654aeb910f38c6bb9" category="admonition">As tabelas abaixo contêm apenas as variáveis que são relevantes para a configuração de armazenamento, já que se refere ao serviço de métricas. Há muitas outras opções encontradas na documentação que devem ser revisadas, configuradas e usadas de acordo com sua implantação.</block>
  <block id="4f692d78f978a73b157571022c1d1ba7" category="cell"><block ref="87ee48b0bd9cbef625c9e58d29953bd9" prefix="" category="inline-code"></block></block>
  <block id="30da7e263c0cffc34933d24a07fb097a" category="cell"><block ref="03fe9d76b0b5aef27365ed846a7686c0" prefix="" category="inline-code"></block></block>
  <block id="3bafc264ad2a901d3be052a7f1cf2e44" category="cell"><block ref="30a3002c7df05045a0206d9273a384c6" prefix="" category="inline-code"></block></block>
  <block id="459859e54ba90bc4145c54d1f1deecff" category="cell">O caminho de montagem para a exportação NFS. Por exemplo, se o volume for juntado como<block ref="84e465df2e745334cf363d2701acbc8c" prefix=" " category="inline-code"></block>, você usaria esse caminho para essa variável.</block>
  <block id="ca0f0d82f9c7cbc36df652cddd4b2f35" category="cell"><block ref="2708722d0be9e759610930ca4ba0ccda" prefix="" category="inline-code"></block></block>
  <block id="eb10d02b22b02d7f543f867b8d31e7b0" category="cell">O nome, por exemplo<block ref="346a344a8f42541e4f261b54ef920508" prefix=" " category="inline-code"></block>, do PV a criar.</block>
  <block id="a3eeeafe923ac73e75b3bf33cdadb603" category="cell"><block ref="8085fdc8f39bb3d2c5b777041294d9bf" prefix="" category="inline-code"></block></block>
  <block id="a56c731cfe96d228c7c0bcc57bc80d3d" category="cell"><block ref="861e7642b92f41392f844c04bfffd5e0" prefix="" category="inline-code"></block></block>
  <block id="0da919d4045e4f38d294aaec73f5d57f" category="cell">Um prefixo a ser usado para as PVCs de métricas.</block>
  <block id="15bb3eef0b42a93e324977c289f2fd85" category="cell"><block ref="c3d37ddc32376761a7073bb028fe23f9" prefix="" category="inline-code"></block></block>
  <block id="75929c9d67f1407282b5618fca4589e7" category="cell">O tamanho dos volumes a solicitar.</block>
  <block id="8ebb493e0ffdf7c1e850c67bc22f15c7" category="cell"><block ref="d2744c21ee3a719be8d523f86c2d1538" prefix="" category="inline-code"></block></block>
  <block id="aab0ec84a4da1dfd2b63896453f1e05d" category="cell">O tipo de storage a ser usado para métricas, isso precisa ser definido como dinâmico para que o Ansible crie PVCs com a classe de storage apropriada.</block>
  <block id="460aaf3805271ec2e5dc35755fe317b1" category="cell"><block ref="c79cb64517774919120c2dfa7c06e9a8" prefix="" category="inline-code"></block></block>
  <block id="0c55ca33e89539cd67eb0be3796547c5" category="cell">O nome da classe de armazenamento a utilizar.</block>
  <block id="6c13e62eb53f29e7794d3807369299d2" category="section-title">Implantar o serviço de métricas</block>
  <block id="b6969fa89b54a37ee3628194aebbbea3" category="doc">Configuração de chave unificada do Linux (LUKS)</block>
  <block id="a44b6b00e5eebd7494e1fd00658685e2" category="inline-link-macro">NIST</block>
  <block id="83188252104d97bbc732f23aa3b26ae2" category="inline-link-macro">Gitlab: Cryptsetup</block>
  <block id="525588be7f6bc2cf7b3b257ced2b19c7" category="list-text">Os nós de trabalho devem ter o cryptsetup 2,1 ou superior (mas inferior a 3,0) instalado. Para obter mais informações, visite <block ref="39c06d5570d5dfd5c63abe15a0d8d2fb" category="inline-link-macro-rx"></block>.</block>
  <block id="0520b57116af979714f913239aa512a5" category="inline-link-macro">Intel: Advanced Encryption Standard Instructions (AES-NI)</block>
  <block id="64e4c9865ee7451edfc34d72da12ee7d" category="paragraph">Se nada for devolvido, o processador não suporta AES-NI. Para obter mais informações sobre o AES-NI, visite: <block ref="e77f47a78a9c4677daf14d5366b503b4" category="inline-link-macro-rx"></block>.</block>
  <block id="83f59a8c99f92feae93c90d4f7bd0d68" category="section-title">Ativar encriptação LUKS</block>
  <block id="b9a97083b1f9ee5d9d6fd1ec4025a836" category="paragraph">Você pode ativar a criptografia por volume no lado do host usando o LUKS (Configuração de chave unificada do Linux) para volumes ECONÔMICOS SAN ONTAP e SAN ONTAP.</block>
  <block id="06c4db929b729ddf158ceb5cc15b122b" category="inline-link-macro">Opções de configuração de SAN ONTAP</block>
  <block id="d197aff07a41df5dbefcace33058435c" category="list-text">Defina atributos de criptografia LUKS na configuração de back-end. Para obter mais informações sobre opções de configuração de back-end para SAN ONTAP, <block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="227eef96675ec0e7595951c060437608" category="list-text">Use<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> para definir os pools de armazenamento usando a criptografia LUKS. Por exemplo:</block>
  <block id="a99f022d7515cf14d9d2e49a72198c5c" category="list-text">Crie um segredo que contenha a frase-passe LUKS. Por exemplo:</block>
  <block id="e646e16bee8b32e6ea29e30d01970a6c" category="section-title">Limitações</block>
  <block id="6d8e596656bc0dc6684415f94bee7e6a" category="paragraph">Os volumes criptografados com LUKS não podem aproveitar a deduplicação e a compactação do ONTAP.</block>
  <block id="ab946346d7b6ebd4a84d96bb78dcd833" category="section-title">Configuração de back-end para importação de volumes LUKS</block>
  <block id="64049136ec90cc479c7521e9b6e172eb" category="section-title">Configuração de PVC para importação de volumes LUKS</block>
  <block id="b49b86551096c421a3bc5d3b79eede84" category="paragraph">Para importar volumes LUKS dinamicamente, defina a anotação<block ref="36720d50814e4335401b2047257bfedf" prefix=" " category="inline-code"></block> como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> e inclua uma classe de armazenamento habilitada para LUKS no PVC, conforme mostrado neste exemplo.</block>
  <block id="f9d3cd939395358ac0f0bd3a1043656c" category="section-title">Rode uma frase-passe LUKS</block>
  <block id="5173c14a913aecabc2aa4a398abfd3a1" category="paragraph">Pode rodar a frase-passe LUKS e confirmar a rotação.</block>
  <block id="870809044094847738d2e3b2d3490240" category="admonition">Não se esqueça de uma frase-passe até ter verificado que ela não é mais referenciada por qualquer volume, instantâneo ou segredo. Se uma frase-passe referenciada for perdida, talvez você não consiga montar o volume e os dados permanecerão criptografados e inacessíveis.</block>
  <block id="a09edd6ec72e24ea93fe0643001ce09b" category="list-text">Se a frase-passe no volume não corresponder à frase-passe ativa no segredo, ocorre rotação.</block>
  <block id="85341a765feac19c14ddb5733a16bb0f" category="list-text">Se a frase-passe no volume corresponder à frase-passe ativa no segredo, o<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> parâmetro é ignorado.</block>
  <block id="e11fe3d05d72f7812c946ac80ae339ed" category="list-text">Adicione os<block ref="c774c2255b7e3b1f75cd200c366d4148" prefix=" " category="inline-code"></block> parâmetros e<block ref="59ab79bfd6177f0b40d74d58d4a94d89" prefix=" " category="inline-code"></block> StorageClass. Por exemplo:</block>
  <block id="7fe288bcd08368971a3839f1de636c7c" category="list-text">Identificar senhas existentes no volume ou instantâneo.</block>
  <block id="bd7a9717d29c5ddcab1bc175eda1e298" category="listing-title">Volume</block>
  <block id="d4e2713d1b1725a1592f9268589f990d" category="listing-title">Snapshot</block>
  <block id="c0526adc9b28d758d8fab9d4a5b998ef" category="list-text">Atualize o segredo LUKS para o volume para especificar as senhas novas e anteriores. Certifique-se <block ref="119d124de86f53dbdf015ff1809c10e1" prefix=" " category="inline-code"></block> e<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> faça a correspondência da frase-passe anterior.</block>
  <block id="4f8a79fea6c3cc09f49769b8473808f7" category="list-text">Crie um novo pod de montagem do volume. Isto é necessário para iniciar a rotação.</block>
  <block id="bcf837455c951c49bd9138ead166c489" category="list-text">Verifique se a senha foi girada.</block>
  <block id="fd69c5cf902969e6fb71d043085ddee6" category="paragraph-title">Resultados</block>
  <block id="0c7eac961f50eef2d0c82d382fdd18b3" category="paragraph">A frase-passe foi girada quando apenas a nova frase-passe é retornada no volume e no instantâneo.</block>
  <block id="6ff457ceee4568584dc3fd66c1ae658a" category="admonition">Se duas senhas forem retornadas, por<block ref="b5b0f81d5dbb45d3dd031f1b02af8bf3" prefix=" " category="inline-code"></block> exemplo, a rotação estará incompleta. Você pode acionar um novo pod para tentar completar a rotação.</block>
  <block id="b3f9d5f1e12f2ba5ecd2ece1e9084f3f" category="section-title">Ative a expansão de volume</block>
  <block id="e5307495a3aec6528b42d3f3e835a761" category="paragraph">Você pode ativar a expansão de volume em um volume criptografado com LUKS.</block>
  <block id="aeec1a5a7dc7624995570096ce8156ef" category="inline-link-macro">Kubernetes 1,25: Use segredos para a expansão orientada por nós de volumes CSI</block>
  <block id="1282398415278cc77bc47970640d4188" category="list-text">Ative a<block ref="b0e105de2a2f0820528649fee8d2e331" prefix=" " category="inline-code"></block> porta de recurso (beta 1,25 ou mais). <block ref="35e3bd84b2522e04fd4ead86130c9227" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="e4de718025be845e2dec22064bb4eece" category="list-text">Adicione os<block ref="91985ce21cd787a6ab2a13cc97f58968" prefix=" " category="inline-code"></block> parâmetros e<block ref="641c8d6753dd78e60ebb61a20e6a2742" prefix=" " category="inline-code"></block> StorageClass. Por exemplo:</block>
  <block id="e718558948d1441cf3873df6fb7b10c3" category="paragraph">Quando você inicia a expansão de armazenamento on-line, o kubelet passa as credenciais apropriadas para o driver.</block>
  <block id="2fae32629d4ef4fc6341f1751b405e45" category="doc">Segurança</block>
  <block id="f40aef657c875e42158050f63dcfbb6f" category="section-title">Use a autenticação CHAP com backends ONTAP SAN</block>
  <block id="d4e0ad8fd8e11d87eb431051692db344" category="section-title">Use a autenticação CHAP com backends NetApp HCI e SolidFire</block>
  <block id="c638f77e97a62d0d11f775816222d62a" category="inline-link-macro">Configurar a visão geral da encriptação de volume do NetApp</block>
  <block id="b65b10bf779c45e4940c255ecf83bdc3" category="paragraph">O NetApp ONTAP fornece criptografia de dados em repouso para proteger dados confidenciais caso um disco seja roubado, retornado ou reutilizado. Para obter detalhes, <block ref="e0b51490e5d435c82abc702d0a4ca15c" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="1bb1c0791a9e9cff8de216ed44b1de31" category="list-text">Você pode definir o sinalizador de criptografia NVE como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> na configuração de back-end do Trident para substituir a criptografia NAE e usar uma chave de criptografia específica por volume.</block>
  <block id="b6c7fef7b7bcf035a4f4ad02ff8808c2" category="paragraph">Para obter mais informações sobre opções de configuração de back-end, consulte:</block>
  <block id="e87ded5ef8bc8adbc3c135528636f4f2" category="list-text"><block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block></block>
  <block id="676ad90ce2543d29917d8a5a6fc02e01" category="inline-link-macro">Opções de configuração do ONTAP nas</block>
  <block id="fce586d9f649fb529d0a1846495ba259" category="list-text"><block ref="fce586d9f649fb529d0a1846495ba259" category="inline-link-macro-rx"></block></block>
  <block id="6e8775bd755a8835ce86806d669677ea" category="doc">Configuração de armazenamento</block>
  <block id="ecd7650a65b79124ad23fb7eed8faa7e" category="paragraph">Cada plataforma de storage do portfólio do NetApp tem funcionalidades exclusivas que beneficiam aplicações, em contêineres ou não.</block>
  <block id="e6dc22cf3c59dda6e09524b2b133f336" category="section-title">Visão geral da plataforma</block>
  <block id="050fb8b0306d7532dbf8c15b8cba9745" category="paragraph">O Trident funciona com ONTAP e Element. Não há uma plataforma que seja mais adequada para todos os aplicativos e cenários do que outra, no entanto, as necessidades do aplicativo e da equipe que administra o dispositivo devem ser levadas em conta ao escolher uma plataforma.</block>
  <block id="ac5112696fd64ee051846c666ebebebe" category="paragraph">Você deve seguir as práticas recomendadas de linha de base para o sistema operacional host com o protocolo que você está utilizando. Opcionalmente, você pode considerar a incorporação de práticas recomendadas de aplicativos, quando disponíveis, com configurações de backend, classe de armazenamento e PVC para otimizar o armazenamento para aplicativos específicos.</block>
  <block id="efc9d085ca2f3a152c786357e9359c03" category="section-title">Práticas recomendadas de ONTAP e Cloud Volumes ONTAP</block>
  <block id="a3f99d5d44515cf922e6b525de736173" category="paragraph">Conheça as práticas recomendadas para configurar o ONTAP e o Cloud Volumes ONTAP for Trident.</block>
  <block id="76d50c7d0f100e6264e0d57727d099f1" category="paragraph">As recomendações a seguir são diretrizes para configuração do ONTAP para workloads em contêineres, que consomem volumes provisionados dinamicamente pelo Trident. Cada um deve ser considerado e avaliado quanto à adequação em seu ambiente.</block>
  <block id="3fb21976d2729216782dd61ffed84a54" category="section-title">Use SVM(s) dedicados ao Trident</block>
  <block id="fa4e21d3612a3f737c7a4ac7ebf24950" category="paragraph">As máquinas virtuais de storage (SVMs) fornecem isolamento e separação administrativa entre locatários em um sistema ONTAP. A dedicação de um SVM a aplicações permite a delegação do Privileges e permite aplicar práticas recomendadas para limitar o consumo de recursos.</block>
  <block id="3dc5510a67688b81f0d6d0db440da909" category="paragraph">Há várias opções disponíveis para o gerenciamento do SVM:</block>
  <block id="fe425a9419fa4d05d42131c26306e4f1" category="list-text">Fornecer a interface de gerenciamento de cluster na configuração de back-end, juntamente com as credenciais apropriadas, e especificar o nome da SVM.</block>
  <block id="e2160df70bcda0ee43cb3c66dc22c719" category="list-text">Crie uma interface de gerenciamento dedicada ao SVM com o Gerenciador de sistemas do ONTAP ou a CLI.</block>
  <block id="2bf2fa2c1c3a6e10095db72759cc9983" category="list-text">Compartilhe a função de gerenciamento com uma interface de dados NFS.</block>
  <block id="5cf4c2e89b362842d77f4e4209c4ef99" category="paragraph">Em cada caso, a interface deve estar em DNS, e o nome DNS deve ser usado ao configurar o Trident. Isso ajuda a facilitar alguns cenários de DR, por exemplo, SVM-DR sem o uso de retenção de identidade de rede.</block>
  <block id="6a392b5e005fffe32231c94dc96a1605" category="inline-link">SVM-DR</block>
  <block id="2b4a6ee2db063653d6076884295a3854" category="paragraph">No entanto, não há preferência entre ter um LIF de gerenciamento dedicado ou compartilhado para o SVM, você deve garantir que suas políticas de segurança de rede estejam alinhadas com a abordagem escolhida. Independentemente disso, o LIF de gerenciamento deve ser acessível via DNS para facilitar a máxima flexibilidade deve<block ref="f5e9502989ce78934689806ebb69606a" category="inline-link-rx"></block> ser usado em conjunto com o Trident.</block>
  <block id="4a0ee008d3379206a925ade3a9e707dd" category="section-title">Limite a contagem máxima de volume</block>
  <block id="e5e09031843479ef9ef8cbbd4c2f404c" category="inline-link">NetApp Hardware Universe</block>
  <block id="cd41030284d3ee7b99fc16831ed79650" category="paragraph">Os sistemas de storage ONTAP têm uma contagem de volume máxima, que varia de acordo com a versão do software e a plataforma de hardware. <block ref="bb9c67b5a4c15a85b5e6aa6c9afd0285" category="inline-link-rx"></block>Consulte para obter informações sobre a sua plataforma específica e a versão do ONTAP para determinar os limites exatos. Quando a contagem de volume está esgotada, as operações de provisionamento falham não apenas para o Trident, mas para todas as solicitações de storage.</block>
  <block id="39da19b7dd55941b6cdabf34befc0b4c" category="paragraph">Os Trident<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> e<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> os drivers provisionam um Flexvolume para cada volume persistente (PV) do Kubernetes criado. O<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> driver cria aproximadamente um Flexvolume para cada 200 PVS (configurável entre 50 e 300). O<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> driver cria aproximadamente um Flexvolume para cada 100 PVS (configurável entre 50 e 200). Para evitar que o Trident consuma todos os volumes disponíveis no sistema de storage, defina um limite para o SVM. Você pode fazer isso a partir da linha de comando:</block>
  <block id="f36680e3d3cb96c74d2f1a54c3c4a0fa" category="paragraph">O valor para<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block> varia com base em vários critérios específicos para o seu ambiente:</block>
  <block id="5f6d1abb6889904ee0375b2fc6c8f078" category="list-text">O número de volumes existentes no cluster do ONTAP</block>
  <block id="029383c13d9ad2c5ba18a16f8fbe2002" category="list-text">O número de volumes que você espera provisionar fora do Trident para outras aplicações</block>
  <block id="02f4ac473b944a63551d51d727b5bb49" category="list-text">O número de volumes persistentes esperado para ser consumido pelas aplicações Kubernetes</block>
  <block id="1d3555f20ac0a2897a1596631b5fb27a" category="paragraph">O<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block> valor é o total de volumes provisionados em todos os nós do cluster ONTAP e não em um nó ONTAP individual. Como resultado, você pode encontrar algumas condições em que um nó de cluster do ONTAP pode ter muito mais ou menos volumes provisionados pelo Trident do que outro nó.</block>
  <block id="46710fe77f663864a23e02a880a9ae53" category="inline-link">agregados</block>
  <block id="7ef3217c984ef7f973d389e434be312c" category="section-title">Limite o tamanho máximo de volumes criados pelo Trident</block>
  <block id="031b203330c3abb94f6fa406ff721de4" category="paragraph">Para configurar o tamanho máximo para volumes que podem ser criados pelo Trident, use o<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block> parâmetro em<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> sua definição.</block>
  <block id="1c19414de17c9992b25b0a1b02a52715" category="paragraph">Além de controlar o tamanho do volume no storage array, você também deve utilizar os recursos do Kubernetes.</block>
  <block id="1b75c146ff0568d5fc11072b08cfe580" category="section-title">Limite o tamanho máximo de FlexVols criados pelo Trident</block>
  <block id="913d5950907a31c9d3ea6cd0a3b6a524" category="paragraph">Para configurar o tamanho máximo para FlexVols usados como pools para drivers ONTAP-san-Economy e ONTAP-nas-Economy, use o<block ref="c8f83e727d4a4255a6485c24776e86bb" prefix=" " category="inline-code"></block> parâmetro em sua<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> definição.</block>
  <block id="85c0f9773e01224a56713ea4e6d83b86" category="section-title">Configure o Trident para usar o CHAP bidirecional</block>
  <block id="2ae7281d275fb0db889e8ad073e94629" category="paragraph">Você pode especificar o iniciador CHAP e os nomes de usuário e senhas de destino em sua definição de back-end e ter o Trident Enable CHAP no SVM. Usando o<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> parâmetro em sua configuração de back-end, o Trident autentica conexões iSCSI para backends ONTAP com CHAP.</block>
  <block id="2596e59ce5cd0d1b0066656f191365d0" category="section-title">Criar e usar uma política de QoS SVM</block>
  <block id="560417d4f795b7e1176a40db8e4ccca8" category="inline-link">evite um bully</block>
  <block id="4870168b0713fe3089cf587858fc3b40" category="paragraph">A utilização de uma política de QoS ONTAP aplicada à SVM limita o número de consumíveis de IOPS pelos volumes provisionados pelo Trident. Isso ajuda<block ref="1b59d76842e8b78d6111d3e73e9cd404" category="inline-link-rx"></block> a evitar que o volume fora de controle afete workloads fora do SVM do Trident.</block>
  <block id="d6ab867679686745d96bea839929a6de" category="paragraph">Você pode criar uma política de QoS para o SVM em algumas etapas. Consulte a documentação da sua versão do ONTAP para obter as informações mais precisas. O exemplo abaixo cria uma política de QoS que limita o total de IOPS disponível para o SVM a 5000.</block>
  <block id="c790de304b7ca0097f2133cf9da4e657" category="paragraph">Além disso, se a sua versão do ONTAP for compatível com ela, considere o uso de um mínimo de QoS para garantir uma taxa de transferência para workloads em contêineres. A QoS adaptável não é compatível com uma política de nível SVM.</block>
  <block id="38c0b69f6b2ee691e1ba568134513414" category="paragraph">O número de IOPS dedicado aos workloads em contêineres depende de muitos aspectos. Entre outras coisas, estas incluem:</block>
  <block id="ddbd18591c9b7378c6187dbd9179e1f0" category="list-text">Outros workloads que usam o storage array. Se houver outras cargas de trabalho, não relacionadas à implantação do Kubernetes, utilizando os recursos de storage, deve-se tomar cuidado para garantir que essas cargas de trabalho não sejam acidentalmente afetadas.</block>
  <block id="5da5727b396cee5b024364d989fe253b" category="list-text">Workloads esperados em execução em contêineres. Se os workloads com requisitos de IOPS altos forem executados em contêineres, uma política de QoS baixa resulta em uma experiência ruim.</block>
  <block id="e6f229b5d5d2421c4306920759828212" category="paragraph">É importante lembrar que uma política de QoS atribuída no nível SVM resulta em todos os volumes provisionados ao SVM que compartilham o mesmo pool de IOPS. Se uma, ou um número pequeno, das aplicações em contêiner tiverem um requisito de IOPS alto, isso pode se tornar um bully para os outros workloads em contêiner. Se esse for o caso, você pode considerar o uso de automação externa para atribuir políticas de QoS por volume.</block>
  <block id="ac2167b1e02d575eb6ddfe4e58f5cdcf" category="admonition">Você deve atribuir o grupo de políticas de QoS ao SVM *somente* se a versão do ONTAP for anterior a 9,8.</block>
  <block id="9992cae6c17055c750a849c5f6135eb2" category="section-title">Criar grupos de política de QoS para Trident</block>
  <block id="76a3e54f72b3a7224429f111e58f836c" category="inline-link">Garantir taxa de transferência com QoS</block>
  <block id="ed108e0380671c3131e1a4795b982a45" category="paragraph">A qualidade do serviço (QoS) garante que a performance de workloads essenciais não é degradada pelos workloads da concorrência. Os grupos de política de QoS do ONTAP fornecem opções de QoS para volumes e permitem que os usuários definam o limite máximo de taxa de transferência para um ou mais workloads. Para obter mais informações sobre QoS,<block ref="721a1778a2025ec5868484b3888c0186" category="inline-link-rx"></block> consulte . É possível especificar grupos de políticas de QoS no back-end ou em um pool de storage, e eles são aplicados a cada volume criado nesse pool ou back-end.</block>
  <block id="0394fb1288eac4cd3d40bcd991e079e9" category="paragraph">O ONTAP tem dois tipos de grupos de política de QoS: Tradicional e adaptável. Os grupos de políticas tradicionais fornecem uma taxa de transferência máxima fixa (ou mínima, em versões posteriores) em IOPS. O serviço adaptável dimensiona automaticamente a taxa de transferência para o tamanho do workload, mantendo a taxa de IOPS para TBs|GBs conforme o tamanho do workload muda. Isso proporciona uma vantagem significativa ao gerenciar centenas ou milhares de workloads em uma implantação grande.</block>
  <block id="f5acc65a21daed9bb8e91cb5cdd0ae52" category="paragraph">Considere o seguinte ao criar grupos de política de QoS:</block>
  <block id="6d5fcf300cd9e9239c26ce37b0919fca" category="list-text">Você deve definir a<block ref="36c38058d66835923c982c773a817f0b" prefix=" " category="inline-code"></block> chave no<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> bloco da configuração de back-end. Veja o seguinte exemplo de configuração de back-end:</block>
  <block id="32160c2368452bf7d86bcffae7f142be" category="list-text">Você deve aplicar os grupos de políticas por volume, para que cada volume obtenha toda a taxa de transferência, conforme especificado pelo grupo de políticas. Grupos de políticas compartilhadas não são suportados.</block>
  <block id="d5d2a5bc92eea85a4dd11a642ed8a170" category="section-title">Limitar o acesso a recursos de storage aos membros do cluster do Kubernetes</block>
  <block id="9602ec8691c1a564016f9fd8086139f1" category="paragraph">É importante entender que os namespaces são o limite lógico dos recursos no Kubernetes. A suposição é que os recursos no mesmo namespace são capazes de ser compartilhados, no entanto, é importante, não há capacidade entre namespace. Isso significa que, embora os PVS sejam objetos globais, quando vinculados a um PVC, eles só são acessíveis por pods que estão no mesmo namespace. *É fundamental garantir que os namespaces sejam usados para fornecer separação quando apropriado.*</block>
  <block id="1162be0546226cff2cbd973cd2140d33" category="paragraph">A principal preocupação da maioria das organizações com relação à segurança de dados em um contexto do Kubernetes é que um processo em um contêiner pode acessar o storage montado no host, mas que não se destina ao contêiner. <block ref="962cfea7b49ca7b2d398d891b4313cb5" category="inline-link-rx"></block> foram concebidos para evitar este tipo de compromisso. No entanto, há uma exceção: Contentores privilegiados.</block>
  <block id="7b10e929cc2e0061dfb50042a0203c79" category="inline-link">diretivas de segurança do pod</block>
  <block id="76db1afb772160283f7f86cdd67c35f8" category="paragraph">Um contentor privilegiado é aquele que é executado com permissões substancialmente mais no nível do host do que o normal. Estes não são negados por padrão, portanto, certifique-se de desativar a capacidade<block ref="e5ab4ede40a4a6a5f5684247585b5fb0" category="inline-link-rx"></block> usando o .</block>
  <block id="5fabba1d91abcfb09b6049897727e91c" category="paragraph">Para volumes em que o acesso é desejado tanto do Kubernetes quanto de hosts externos, o storage deve ser gerenciado de maneira tradicional, com o PV introduzido pelo administrador e não gerenciado pelo Trident. Isso garante que o volume de storage seja destruído somente quando o Kubernetes e os hosts externos forem desconetados e não estiverem mais usando o volume. Além disso, é possível aplicar uma política de exportação personalizada, que permite o acesso dos nós de cluster do Kubernetes e dos servidores direcionados fora do cluster do Kubernetes.</block>
  <block id="8a6112da5167fe6f44136715f1d86c36" category="paragraph">Para implantações com nós de infraestrutura dedicados (por exemplo, OpenShift) ou outros nós que não conseguem programar aplicativos de usuário, políticas de exportação separadas devem ser usadas para limitar ainda mais o acesso aos recursos de storage. Isso inclui a criação de uma política de exportação para serviços que são implantados nesses nós de infraestrutura (por exemplo, os serviços de métricas e Registro OpenShift) e aplicativos padrão que são implantados em nós que não são de infraestrutura.</block>
  <block id="e38f5be5ff6a8a362870a032acdf5d2f" category="section-title">Use uma política de exportação dedicada</block>
  <block id="8f971d8f40dd91f1f3041a0d7faf5f85" category="paragraph">Você deve garantir que existe uma política de exportação para cada back-end que permita somente o acesso aos nós presentes no cluster do Kubernetes. O Trident pode criar e gerenciar automaticamente políticas de exportação. Dessa forma, o Trident limita o acesso aos volumes provisionados por TI aos nós no cluster do Kubernetes e simplifica a adição/exclusão de nós.</block>
  <block id="28af9e32119f59018dd5d887ad93ccd4" category="paragraph">Como alternativa, você também pode criar uma política de exportação manualmente e preenchê-la com uma ou mais regras de exportação que processam cada solicitação de acesso de nó:</block>
  <block id="4ae1e64986504dce6897746ebc9d2786" category="list-text">Use o<block ref="7d47f98e53b93d7fb8a050185d494363" prefix=" " category="inline-code"></block> comando ONTAP CLI para criar a política de exportação.</block>
  <block id="cd0a9fca1fb3ba0fcdd98d0e87cb78a9" category="list-text">Adicione regras à política de exportação usando o<block ref="729c5e15acc8b31618fe3265de1c624b" prefix=" " category="inline-code"></block> comando ONTAP CLI.</block>
  <block id="bc3a2f6421da1e870583cfb0b9cf4a91" category="paragraph">Executar esses comandos permite restringir quais nós do Kubernetes têm acesso aos dados.</block>
  <block id="74257eabdceb63f8522f7c68b103da3a" category="section-title"><block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block>Desativar o SVM da aplicação</block>
  <block id="08f1d9a2f49f56965b640bc15796cd61" category="paragraph">Você deve desativar<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block> usando o comando ONTAP CLI no nível da SVM:</block>
  <block id="648e0e1a6a98e76bdfe9780c42dacb6b" category="section-title">Práticas recomendadas da SolidFire</block>
  <block id="89f93e411a40f5c6365a4703e004f15b" category="paragraph">Conheça as práticas recomendadas para configurar o armazenamento SolidFire para Trident.</block>
  <block id="52f311b56fcd9d4fb074918af9b7c7f9" category="section-title">Crie uma conta SolidFire</block>
  <block id="b0dd2707e9f12b5e1fda314748ffa386" category="paragraph">Cada conta do SolidFire representa um proprietário de volume exclusivo e recebe seu próprio conjunto de credenciais do Protocolo de Autenticação de desafio-aperto (CHAP). Você pode acessar volumes atribuídos a uma conta usando o nome da conta e as credenciais CHAP relativas ou por meio de um grupo de acesso de volume. Uma conta pode ter até dois mil volumes atribuídos a ela, mas um volume pode pertencer a apenas uma conta.</block>
  <block id="eaf4b71058f7db58997dfe694c62a96a" category="section-title">Crie uma política de QoS</block>
  <block id="fd640dfd679c3a7e40aa99c3e08c8294" category="paragraph">Use as políticas de qualidade do serviço (QoS) do SolidFire se quiser criar e salvar uma configuração padronizada de qualidade do serviço que pode ser aplicada a muitos volumes.</block>
  <block id="41be5238fc563c2aac0a0e6ee4cf6e96" category="paragraph">Você pode definir parâmetros de QoS em uma base por volume. O desempenho de cada volume pode ser garantido definindo três parâmetros configuráveis que definem a QoS: Min IOPS, Max IOPS e Burst IOPS.</block>
  <block id="48e4bd34fd7a9e1233ea82bc818a3161" category="paragraph">Aqui estão os possíveis valores de IOPS mínimo, máximo e de pico sazonal para o tamanho de bloco 4Kb.</block>
  <block id="8e4988a1e5f387efce6f20e4f25a8e40" category="cell">Parâmetro IOPS</block>
  <block id="0b890b1926b90387673882e6ccae7fdc" category="cell">Definição</block>
  <block id="96a22bf638896c990d26e043087fb6b0" category="cell">Valor mín</block>
  <block id="31ce3cdcd67850870b616f75b555bbc5" category="cell">Valor padrão</block>
  <block id="c9fb55be94277b8390352c215f32d44c" category="cell">Valor máximo (4Kb)</block>
  <block id="b05f9ccd772b396ac1f5a05345a9d4f8" category="paragraph">IOPS mín</block>
  <block id="2b30c179facf62f8a2bdbd1b09b37b96" category="paragraph">O nível garantido de desempenho para um volume.</block>
  <block id="c0c7c76d30bd3dcaefc96f40275bdc0a" category="cell">50</block>
  <block id="3f74a886c7f841699690962c497d4f30" category="paragraph">15000</block>
  <block id="4f5a6f8b41826526724ba294b8e056bd" category="paragraph">IOPS máx</block>
  <block id="4e41c5ccaf1affa697729ea4d1e88554" category="paragraph">O desempenho não excederá este limite.</block>
  <block id="e05695d29cb4a9339534e5a9c273fa14" category="paragraph">200.000</block>
  <block id="affd4aba1c5f696e972368c9eb698c65" category="paragraph">IOPS de explosão</block>
  <block id="2734923c054f38d8ca66133414af4469" category="paragraph">Máximo de IOPS permitido em um cenário de pico curto.</block>
  <block id="e2eb05f1ef7720127ac371ceddc6f433" category="admonition">Embora o IOPS máximo e o IOPS Burst possam ser definidos até 200.000 K, o desempenho máximo real de um volume é limitado pelo uso do cluster e pelo desempenho por nó.</block>
  <block id="fa9b1a3006e0ba9ad904c059c0b9add6" category="inline-link">SolidFire qualidade do serviço</block>
  <block id="acd73d692aa90cacfe480ba8ba39cd5d" category="paragraph">O tamanho do bloco e a largura de banda têm uma influência direta no número de IOPS. À medida que os tamanhos de blocos aumentam, o sistema aumenta a largura de banda para um nível necessário para processar os tamanhos de blocos maiores. À medida que a largura de banda aumenta, o número de IOPS que o sistema consegue atingir diminui. <block ref="c8976c50ed9f016849fdce232777cd31" category="inline-link-rx"></block>Consulte para obter mais informações sobre QoS e desempenho.</block>
  <block id="b4657825f74ed622384dddf3a1d7d3b7" category="section-title">Autenticação SolidFire</block>
  <block id="9d3b5ff1cde828a63203f0465a34a967" category="paragraph">O Element suporta dois métodos de autenticação: CHAP e volume Access Groups (VAG). O CHAP usa o protocolo CHAP para autenticar o host no back-end. Os grupos de acesso de volume controlam o acesso aos volumes que ele provisiona. O NetApp recomenda usar o CHAP para autenticação, pois é mais simples e não tem limites de escala.</block>
  <block id="fc9e812321a3f9b0eab1b702a08bab4e" category="admonition">O Trident com o provisionador de CSI aprimorado suporta o uso da autenticação CHAP. Os VAG só devem ser utilizados no modo de funcionamento tradicional não CSI.</block>
  <block id="d23eaa75b7bd1405526da0e18b7290ac" category="paragraph">A autenticação CHAP (verificação de que o iniciador é o usuário de volume pretendido) é suportada apenas com controle de acesso baseado em conta. Se você estiver usando CHAP para autenticação, duas opções estão disponíveis: CHAP unidirecional e CHAP bidirecional. O CHAP unidirecional autentica o acesso ao volume usando o nome da conta do SolidFire e o segredo do iniciador. A opção CHAP bidirecional fornece a maneira mais segura de autenticar o volume porque o volume autentica o host através do nome da conta e do segredo do iniciador e, em seguida, o host autentica o volume através do nome da conta e do segredo de destino.</block>
  <block id="42d135bea104c1079cebd1543c89e970" category="paragraph">No entanto, se o CHAP não puder ser ativado e os VAG forem necessários, crie o grupo de acesso e adicione os iniciadores e volumes do host ao grupo de acesso. Cada IQN que você adicionar a um grupo de acesso pode acessar cada volume no grupo com ou sem autenticação CHAP. Se o iniciador iSCSI estiver configurado para usar autenticação CHAP, o controle de acesso baseado em conta será usado. Se o iniciador iSCSI não estiver configurado para usar a autenticação CHAP, o controle de acesso ao grupo de acesso de volume será usado.</block>
  <block id="b4931a42b69dbf4e721e7b97873b1ebb" category="section-title">Onde encontrar mais informações?</block>
  <block id="2c3a4d5c923121574c10ea22c0474a01" category="inline-link">Biblioteca NetApp</block>
  <block id="65840df7365892d2abe1280cb6cdb1d2" category="paragraph">Alguns dos documentos de melhores práticas estão listados abaixo. PESQUISE na<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> para as versões mais atuais.</block>
  <block id="d911b17f4f4cdcca62a04ad77aa9403d" category="paragraph">*ONTAP*</block>
  <block id="f9dd52d280693dc59e53b6e1fb7bd801" category="inline-link">Guia de práticas recomendadas e implementação de NFS</block>
  <block id="190dbae19c88b1e68bf03f7783c5d5d1" category="list-text"><block ref="190dbae19c88b1e68bf03f7783c5d5d1" category="inline-link-rx"></block></block>
  <block id="5ca34d6ffc2a555b689542e3fbeeb7af" category="inline-link">Configuração iSCSI Express para RHEL</block>
  <block id="36588ac65dcdb9b93916fb0ab708edb3" category="list-text"><block ref="36588ac65dcdb9b93916fb0ab708edb3" category="inline-link-rx"></block></block>
  <block id="ca7ab5ec4cba84fbef55956bb38759ce" category="paragraph">*Software Element*</block>
  <block id="e809d9f88c2933195c4d2ab379c1b5dc" category="inline-link">Configurando o SolidFire para Linux</block>
  <block id="ce0470e08aa854a8f93fa119434e8422" category="list-text"><block ref="ce0470e08aa854a8f93fa119434e8422" category="inline-link-rx"></block></block>
  <block id="d64280eb12d42bb67976ffba6d268e7b" category="paragraph">*NetApp HCI*</block>
  <block id="3bc72bedcc42d144356d4f933c48485d" category="inline-link">Pré-requisitos de implantação do NetApp HCI</block>
  <block id="85bfffc1a1f7aaabd6cf58841640c308" category="list-text"><block ref="85bfffc1a1f7aaabd6cf58841640c308" category="inline-link-rx"></block></block>
  <block id="b52e411998b7d3a95ad5bd8a320bf271" category="inline-link">Acesse o mecanismo de implantação do NetApp</block>
  <block id="9d0da73b02655dd7861121905db229e2" category="list-text"><block ref="9d0da73b02655dd7861121905db229e2" category="inline-link-rx"></block></block>
  <block id="9aaca8cfd79770bc4944ccc477e37141" category="paragraph">*Informações sobre as melhores práticas de aplicação*</block>
  <block id="27a5e02bc2fadee43ace94805739a0c8" category="inline-link">Melhores práticas para MySQL no ONTAP</block>
  <block id="430c6bcb8516befc45fb8173b0ca4e1f" category="list-text"><block ref="430c6bcb8516befc45fb8173b0ca4e1f" category="inline-link-rx"></block></block>
  <block id="17efdd7d210511985714be299d595292" category="inline-link">Melhores práticas para MySQL no SolidFire</block>
  <block id="d03b53d8ec563c37e16ee8c900a75b96" category="list-text"><block ref="d03b53d8ec563c37e16ee8c900a75b96" category="inline-link-rx"></block></block>
  <block id="3aefe1a041af945f1fe8673bf775057b" category="inline-link">NetApp SolidFire e Cassandra</block>
  <block id="d7d36869f2f4aa1eb99a10008e153f20" category="list-text"><block ref="d7d36869f2f4aa1eb99a10008e153f20" category="inline-link-rx"></block></block>
  <block id="6e580111d3a8c12cdcd9522a4d3484c6" category="inline-link">Práticas recomendadas da Oracle no SolidFire</block>
  <block id="f8b52d963f246a75dc6c8b78c954a4fd" category="list-text"><block ref="f8b52d963f246a75dc6c8b78c954a4fd" category="inline-link-rx"></block></block>
  <block id="6448cf37496207be126495e5b05851de" category="inline-link">Melhores práticas do PostgreSQL no SolidFire</block>
  <block id="b6780b7b2561935ff862fe7126cde751" category="list-text"><block ref="b6780b7b2561935ff862fe7126cde751" category="inline-link-rx"></block></block>
  <block id="b062996d6ca590abe798d3db75561f79" category="paragraph">Nem todos os aplicativos têm diretrizes específicas, é importante trabalhar com sua equipe do NetApp e usar o<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> para encontrar a documentação mais atualizada.</block>
  <block id="5ee08ab883e000ce6b739dbb0b6ff376" category="summary">Saiba mais sobre as partes do sistema Kubernetes.</block>
  <block id="607ae6360b32f1bd6e559e915d414fab" category="doc">Conceitos do Kubernetes</block>
  <block id="d60f0fff1c23a02458849862f593357e" category="inline-link">Sistema Kubernetes</block>
  <block id="a7018a5fd7b610274c7786aa5402e64d" category="paragraph">Saiba mais sobre as partes do<block ref="f01a74527fa0343e793eb393c9d4809a" category="inline-link-rx"></block>.</block>
  <block id="04333ff788951193122a833ecd614950" category="summary">Há vários objetos de recursos que ditam a relação entre o Kubernetes e o Trident, o Trident e o storage, o Kubernetes e o storage. Alguns desses objetos são gerenciados pelo Kubernetes e os outros são gerenciados pelo Trident.</block>
  <block id="da1e63dd673a1932cebb48b6a81bbbb1" category="doc">Objetos Kubernetes e Trident</block>
  <block id="d107eefb0ce66911b186b03b9e9c337e" category="paragraph">É possível interagir com o Kubernetes e o Trident usando APIs REST lendo e escrevendo objetos de recursos. Há vários objetos de recursos que ditam a relação entre o Kubernetes e o Trident, o Trident e o storage, o Kubernetes e o storage. Alguns desses objetos são gerenciados pelo Kubernetes e os outros são gerenciados pelo Trident.</block>
  <block id="62499e0de79c4d07c7915a36f9faa0d8" category="section-title">Como os objetos interagem uns com os outros?</block>
  <block id="b9ea565816618011ca591fc191fe5e63" category="paragraph">Talvez a maneira mais fácil de entender os objetos, para que eles são e como eles interagem seja seguir uma única solicitação de armazenamento de um usuário do Kubernetes:</block>
  <block id="ec7d6500a82a56ee8f5fff02eafa7af7" category="list-text">Um usuário cria<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> uma solicitação de um novo<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> de um tamanho específico de um Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que foi configurado anteriormente pelo administrador.</block>
  <block id="6b25cc026b6f29464d3fce0f6ec67805" category="list-text">O Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> identifica o Trident como seu provisionador e inclui parâmetros que informam ao Trident como provisionar um volume para a classe solicitada.</block>
  <block id="5b078d6b19593ee6c55f428e2c85faa7" category="list-text">O Trident olha para si<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> mesmo com o mesmo nome que identifica a correspondência<block ref="b81146e6af95bf6e22cf57459890216f" prefix=" " category="inline-code"></block> e<block ref="a410a2a085f482e6dc04e225e54ee323" prefix=" " category="inline-code"></block> que pode usar para provisionar volumes para a classe.</block>
  <block id="ff099186f912c7abb21bcf68690c98d7" category="list-text">O Trident provisiona o storage em um back-end compatível e cria dois objetos: Um<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> no Kubernetes que diz ao Kubernetes como encontrar, montar e tratar o volume e um volume no Trident que mantém a relação entre o<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> e o storage real.</block>
  <block id="6d2ae40bc02e88464563ae42ae22d54c" category="list-text">O Kubernetes vincula<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> o ao novo<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>. Pods que incluem a<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> montagem que Persistentvolume em qualquer host em que ele seja executado.</block>
  <block id="490c1b0e3a604c81abb3db1b778ec07b" category="list-text">Um usuário cria um<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> de um PVC existente, usando um<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block> que aponta para Trident.</block>
  <block id="9f4e11d34d158ebd365226367c8b15d9" category="list-text">O Trident identifica o volume que está associado ao PVC e cria um snapshot do volume em seu back-end. Ele também cria um<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> que instrui o Kubernetes sobre como identificar o snapshot.</block>
  <block id="c6a606bdd6882cd42de13f2ba3614285" category="list-text">Um usuário pode criar um<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> usando<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> como fonte.</block>
  <block id="8ecb92f33c033b00fcf3c18e59c4b177" category="list-text">O Trident identifica o instantâneo necessário e executa o mesmo conjunto de etapas envolvidas na criação de um<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> e um<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block>.</block>
  <block id="428895404a5e57e01a138a5df672d0fc" category="inline-link">Volumes persistentes</block>
  <block id="173423532ed9a565a05f32db2c8f8172" category="admonition">Para ler mais sobre objetos do Kubernetes, é altamente recomendável que você leia a<block ref="92dc8ed82beb7484ab6097a3e91b0deb" category="inline-link-rx"></block> seção da documentação do Kubernetes.</block>
  <block id="c4e2f712f33e39883cdadc27311ff798" category="section-title">Objetos do Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block></block>
  <block id="794a32773794ee6c545794c065d1a88b" category="paragraph">Um objeto Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> é uma solicitação de storage feita por um usuário de cluster do Kubernetes.</block>
  <block id="43cf8e1465c61efc8b1b9bf71aa9931c" category="paragraph">Além da especificação padrão, o Trident permite que os usuários especifiquem as seguintes anotações específicas de volume se quiserem substituir os padrões definidos na configuração de back-end:</block>
  <block id="55f6611cb342565cf0f5002400f53a95" category="cell">Anotação</block>
  <block id="1527fede1d561a899313c8cb3eb1e7bf" category="cell">Opção de volume</block>
  <block id="db8a0bbeae97b94338c1b7a61e2a1ec3" category="cell">Drivers suportados</block>
  <block id="f3780100617165ed98557e3a6d2be72d" category="cell">Trident.NetApp.io/sistema de arquivos</block>
  <block id="44d4d4eb1f08d8eb29766160086f61dd" category="cell">Sistema de ficheiros</block>
  <block id="19ab49765cdd2c8ab592eb40eeff08cf" category="cell">ONTAP-san, SolidFire-san, ONTAP-san-economy</block>
  <block id="979f70bf9da982ee97ac075df4f048c3" category="cell">Trident.NetApp.io/cloneFromPVC</block>
  <block id="b4ead50a5ca4f307f7d61da7763ad204" category="cell">CloneSourcevolume</block>
  <block id="cca7544fa2044ea81b43c1e0896bf58e" category="cell">ONTAP-nas, ONTAP-san, SolidFire-san, azure-NetApp-files, gcp-cvs, ONTAP-san-economy</block>
  <block id="46ec89aa5290ead7b514dd5182caa0a7" category="cell">Trident.NetApp.io/splitOnClone</block>
  <block id="58c1c86186ef8de4f6e12d8f3aed8b64" category="cell">SplitOnClone</block>
  <block id="80f05e749a4f524e8c8a05fa19d5df0e" category="cell">ONTAP-nas, ONTAP-san</block>
  <block id="d6f010e4b4bf9748dcaa34feb70188ce" category="cell">Trident.NetApp.io/protocolo</block>
  <block id="81788ba0d7d02d81c063dbca621ba11b" category="cell">protocolo</block>
  <block id="100b8cad7cf2a56f6df78f171f97a1ec" category="cell">qualquer</block>
  <block id="e9898504ff0569325d48acaee7e9ced9" category="cell">Trident.NetApp.io/exportPolicy</block>
  <block id="647ce4e5394e2e595e46b4fc50a628e9" category="cell">Política de exportação</block>
  <block id="61396290e72fa7d707996351c8815bd6" category="cell">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup</block>
  <block id="2902d12b1fe6d9ef5bd1a3474f2356e9" category="cell">Trident.NetApp.io/snapshotPolicy</block>
  <block id="0a236e7685e50a59df980d0a30929d6c" category="cell">Política de SnapshotPolicy</block>
  <block id="7f3bf2672240703dc69740ce11443cf2" category="cell">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup, ONTAP-san</block>
  <block id="6224177007fc13e9e0d3789985ed165a" category="cell">Trident.NetApp.io/snapshotServe</block>
  <block id="bb0d75280f9b683f2f1f0767fd0aff9b" category="cell">SnapshotServe</block>
  <block id="870594bba77423ccae9ad70861e02951" category="cell">ONTAP-nas, ONTAP-nas-FlexGroup, ONTAP-san, gcp-cvs</block>
  <block id="1cb43054bed661d8c8457ddbb43e1b1b" category="cell">Trident.NetApp.io/snapshotDirectory</block>
  <block id="1ae33c448502ac3d326593aee304c21f" category="cell">SnapshotDirectory</block>
  <block id="ec1739ebad429a70f25efc292c347f8e" category="cell">Trident.NetApp.io/unixPermissions</block>
  <block id="c005e78d4bd808038335c32dd84cf7da" category="cell">UnixPermissions</block>
  <block id="69d900d222446aab8591b45a7363c9e7" category="cell">Trident.NetApp.io/blocksize</block>
  <block id="480d1b61a0432d1319f7504a3d7318dd" category="cell">Tamanho do bloco</block>
  <block id="c0d2a793e71b152662b3e8cd2da00620" category="cell">SolidFire-san</block>
  <block id="fc5f8320f80474f09bdd1e3c3849123e" category="paragraph">Se o PV criado tiver a<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> política de recuperação, o Trident excluirá o PV e o volume de backup quando o PV for liberado (ou seja, quando o usuário exclui o PVC). Caso a ação de exclusão falhe, o Trident marca o PV como tal e periodicamente tenta novamente a operação até que seja bem-sucedida ou o PV seja excluído manualmente. Se o PV usar a<block ref="8d6d1e80894475845ded00dcd1f8cc41" prefix=" " category="inline-code"></block> política, o Trident a ignora e assume que o administrador irá limpá-la do Kubernetes e do back-end, permitindo que o volume seja feito backup ou inspecionado antes de sua remoção. Observe que a exclusão do PV não faz com que o Trident exclua o volume de backup. Você deve removê-lo usando a API REST <block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="(" category="inline-code"></block>).</block>
  <block id="5dad99bb31feaed11fecbe29cf682e51" category="paragraph">O Trident dá suporte à criação de snapshots de volume usando a especificação CSI: Você pode criar um instantâneo de volume e usá-lo como fonte de dados para clonar PVCs existentes. Dessa forma, cópias pontuais de PVS podem ser expostas ao Kubernetes na forma de snapshots. Os instantâneos podem então ser usados para criar novos PVS. Dê uma olhada<block ref="e9de36458dcd95988ba2d0b4f6d8ee2f" prefix=" " category="inline-code"></block> para ver como isso funcionaria.</block>
  <block id="a03c5f2c1a3d118d44bc3e92d52663bb" category="paragraph">O Trident também fornece as<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block> anotações e<block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix=" " category="inline-code"></block> para a criação de clones. Você pode usar essas anotações para clonar um PVC sem precisar usar a implementação do CSI.</block>
  <block id="96e0288ecc3c91f97de46420e70a4f8f" category="paragraph">Aqui está um exemplo: Se um usuário já tem um PVC chamado<block ref="81c3b080dad537de7e10e0987a4bf52e" prefix=" " category="inline-code"></block>, o usuário pode criar um novo PVC chamado<block ref="f68f5a5c173ec94fcc1da047d933d613" prefix=" " category="inline-code"></block> usando a anotação, como<block ref="dd145212234939588777c41b78a948b2" prefix=" " category="inline-code"></block> . Com esse conjunto de anotações, o Trident clona o volume correspondente ao PVC mysql, em vez de provisionar um volume do zero.</block>
  <block id="ff0fa770e22db25a156c5e2d7f017283" category="paragraph">Considere os seguintes pontos:</block>
  <block id="f89d76e06e88814705882a1faad838fb" category="list-text">O PVC e seu clone devem estar no mesmo namespace do Kubernetes e ter a mesma classe de storage.</block>
  <block id="f769a6b54b1d1476b6628ebd1c4b98c4" category="list-text">Com os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, pode ser desejável definir a anotação de PVC<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block> em conjunto<block ref="979f70bf9da982ee97ac075df4f048c3" prefix=" " category="inline-code"></block> com o . Com<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block> definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o Trident divide o volume clonado do volume pai e, portanto, desacoplando completamente o ciclo de vida do volume clonado de seus pais às custas de perder alguma eficiência de storage. Não<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block> configurá-lo ou configurá-lo para<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> resultar em consumo de espaço reduzido no back-end à custa de criar dependências entre os volumes pai e clone, de modo que o volume pai não possa ser excluído a menos que o clone seja excluído primeiro. Um cenário em que dividir o clone faz sentido é clonar um volume de banco de dados vazio, onde é esperado que o volume e seu clone diverjam muito e não se beneficiem das eficiências de armazenamento oferecidas pelo ONTAP.</block>
  <block id="5f117d85f5b23527c781bb26a4b15109" category="paragraph">O<block ref="75e4a0ceb294a9d74374c938e4e8ddc8" prefix=" " category="inline-code"></block> diretório contém exemplos de definições de PVC para uso com Trident. Consulte a <block ref="62155edb2842dfbdb69802620baa3865" category="inline-xref-macro-rx"></block> para obter uma descrição completa dos parâmetros e definições associados aos volumes Trident.</block>
  <block id="40f23ed795a1a88d4da7ac2ef847ff7f" category="section-title">Objetos do Kubernetes<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block></block>
  <block id="6cb5412cc2fe8210c4d14d6d6b08ab79" category="paragraph">Um objeto Kubernetes<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> representa um storage disponibilizado para o cluster do Kubernetes. Ele tem um ciclo de vida que é independente do pod que o usa.</block>
  <block id="292289b7334983e53d9fb9bd00d30820" category="admonition">O Trident cria<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> objetos e os Registra no cluster do Kubernetes automaticamente com base nos volumes provisionados. Você não é esperado para gerenciá-los sozinho.</block>
  <block id="443f09ca4d0d1cc13b5baa064b90c0b7" category="paragraph">Quando você cria um PVC que se refere a um Trident-based<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>, o Trident provisiona um novo volume usando a classe de armazenamento correspondente e Registra um novo PV para esse volume. Ao configurar o volume provisionado e o PV correspondente, o Trident segue as seguintes regras:</block>
  <block id="b27c91fe87605abbb0d5240430518a1c" category="list-text">O Trident gera um nome PV para o Kubernetes e um nome interno que ele usa para provisionar o storage. Em ambos os casos, é garantir que os nomes são únicos em seu escopo.</block>
  <block id="9c2f88a5c4297bd88ead0cd6314fe886" category="list-text">O tamanho do volume corresponde ao tamanho solicitado no PVC o mais próximo possível, embora possa ser arredondado para a quantidade alocável mais próxima, dependendo da plataforma.</block>
  <block id="7df5b64daec466033329296995f05735" category="section-title">Objetos do Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block></block>
  <block id="0d35625a483152791f4e2d0b751a09cc" category="paragraph">Os objetos Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> são especificados por nome em<block ref="455385b545189aa1f74511b5dc40d1eb" prefix=" " category="inline-code"></block> para provisionar o storage com um conjunto de propriedades. A própria classe de storage identifica o provisionador a ser usado e define esse conjunto de propriedades em termos que o provisionador entende.</block>
  <block id="f7738d717849274e5992d460fd2c0a75" category="paragraph">É um dos dois objetos básicos que precisam ser criados e gerenciados pelo administrador. O outro é o objeto backend do Trident.</block>
  <block id="e51377a773f4713e536b061eaa2d4b04" category="paragraph">Um objeto do Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que usa o Trident é parecido com este:</block>
  <block id="39edc8618b50008d4cb2050414d6921f" category="paragraph">Esses parâmetros são específicos do Trident e informam à Trident como provisionar volumes para a classe.</block>
  <block id="b16da8ed7f6c8cce3011dc2b6c7bd1a4" category="paragraph">Os parâmetros da classe de armazenamento são:</block>
  <block id="f2bbdf9f72c085adc4d0404e370f0f4c" category="cell">Atributo</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="cell">Tipo</block>
  <block id="b651efdb98a5d6bd2b3935d0c3f4a5e2" category="cell">Obrigatório</block>
  <block id="736b91750e516139acc13c5eb6564f92" category="cell">atributos</block>
  <block id="59a1e7292a0114529fb1b3401b37bc28" category="cell">map[string]string</block>
  <block id="7fa3b767c460b54a2be4d49030b349c7" category="cell">não</block>
  <block id="1b40216e6fe613bd013bf8710182e650" category="cell">Veja a seção atributos abaixo</block>
  <block id="c614017642b6cfd9e6a25c7df122d917" category="cell">StoragePools</block>
  <block id="b8f32852327d2ffce86ae3ead4fdfb52" category="cell">MAP[string]StringList</block>
  <block id="bdd0ddb870ed9de6f6e7d3a75200e9f7" category="cell">Mapa de nomes de back-end para listas de pools de armazenamento dentro</block>
  <block id="145d1b89a9f9ed8bdc16d1f7a814cace" category="cell">Além disso, StoragePools</block>
  <block id="6907a73ad9068ddf5f99d022102220bb" category="cell">Mapa de nomes de back-end para listas de pools de armazenamento dentro</block>
  <block id="7df974d787ead594df017a11672f2f0e" category="cell">Excluir StoragePools</block>
  <block id="99ba77776c83983f5ecbd2b51f2b43ef" category="cell">Mapa de nomes de back-end para listas de pools de armazenamento dentro</block>
  <block id="f74d4b2b456fb453c0980710290f66eb" category="paragraph">Os atributos de storage e seus possíveis valores podem ser classificados em atributos de seleção de pool de storage e atributos do Kubernetes.</block>
  <block id="2fdf10f3f64b631cd3a137740de02f8b" category="section-title">Atributos de seleção do pool de armazenamento</block>
  <block id="1f5912cd581dba393d5eecc43059adf4" category="paragraph">Esses parâmetros determinam quais pools de storage gerenciado pelo Trident devem ser utilizados para provisionar volumes de um determinado tipo.</block>
  <block id="c82a6100dace2b41087ba6cf99a5976a" category="cell">Valores</block>
  <block id="6bb24468956384c482a8b5a901fb6383" category="cell">Oferta</block>
  <block id="15c2d85f1fae22a3c3a0594510a1f611" category="cell">Pedido</block>
  <block id="7aa57840938d59b415c1e10dcd1f7173" category="cell">Suportado por</block>
  <block id="0e72be2e13bf8a2ff8078d3435e5aa7c" category="cell">1</block>
  <block id="b45cffe084dd3d20d928bee85e7b0f21" category="cell">cadeia de carateres</block>
  <block id="9ccd7f94313a98beb95801927907a0ab" category="cell">hdd, híbrido, ssd</block>
  <block id="9bf3032f6854fb376cd8e3e92e11b077" category="cell">Pool contém Mídia desse tipo; híbrido significa ambos</block>
  <block id="5c79c761bae4c27e96c04e54d1da1e91" category="cell">Tipo de material especificado</block>
  <block id="c9cb5e737e2746339fd0b462332c8740" category="cell">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup, ONTAP-san, SolidFire-san</block>
  <block id="b713baf75bcf13859037b5274d27d4b8" category="cell">ProvisioningType</block>
  <block id="6026fbd9abd05590949de220154e3262" category="cell">fino, grosso</block>
  <block id="3064025fe3541bec9942e14fcaedfab7" category="cell">O pool é compatível com esse método de provisionamento</block>
  <block id="cf65591e3da90317fc132ea7464105d8" category="cell">Método de provisionamento especificado</block>
  <block id="054b5072368dea4f8748909c16c7de98" category="cell">thick: all ONTAP; thin: all ONTAP &amp; SolidFire-san</block>
  <block id="55b56fb238360663afa6230ad82e74a0" category="cell">BackendType</block>
  <block id="dbdc06f8742b98dcacdf7fdb1af111ea" category="paragraph">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup, ONTAP-san, SolidFire-san, gcp-cvs, azure-NetApp-files, ONTAP-san-economy</block>
  <block id="0e1201d4d96df2d9d03c9c66b90874a1" category="cell">Pool pertence a este tipo de backend</block>
  <block id="c4efe19137f43450149d48fddbab6c28" category="cell">Back-end especificado</block>
  <block id="a04622349b3ede0d4176ca2c2e161763" category="cell">Todos os drivers</block>
  <block id="695633290d050f31cec0c9d4bd4a57fe" category="cell">instantâneos</block>
  <block id="c506ff134babdd6e68ab3e6350e95305" category="cell">bool</block>
  <block id="ac1ffb15effdc77a86029972670d022f" category="cell">verdadeiro, falso</block>
  <block id="4ac43bef181074fbd4a1f3620b46f77f" category="cell">O pool é compatível com volumes com snapshots</block>
  <block id="13410bff9f7871113a6af273e2a1b97f" category="cell">Volume com instantâneos ativados</block>
  <block id="33dece0bdda0f88a645c739f3714c038" category="cell">ONTAP-nas, ONTAP-san, SolidFire-san, gcp-cvs</block>
  <block id="bc3832c405ec6cb9c831849328240f3b" category="cell">clones</block>
  <block id="609d32aa243917905f282544b543752a" category="cell">O pool é compatível com volumes de clonagem</block>
  <block id="bcb81802de31cf9c717de3c1d6c2f610" category="cell">Volume com clones ativados</block>
  <block id="5bdf74912a51c34815f11e9a3d20b609" category="cell">criptografia</block>
  <block id="5f2f2cc138a8bc7067c7f61ab4db0f4d" category="cell">O pool é compatível com volumes criptografados</block>
  <block id="0bda31a93b84fd2b45a90df39c4c8049" category="cell">Volume com encriptação ativada</block>
  <block id="dcc09b4a72e31323b652676ce4677771" category="cell">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-flexgroups, ONTAP-san</block>
  <block id="79073619fba8242703524f16870ff858" category="cell">IOPS</block>
  <block id="fa7153f7ed1cb6c0fcf2ffb2fac21748" category="cell">int</block>
  <block id="86e5d65893929e5d38b4bdcb9fb48ecd" category="cell">número inteiro positivo</block>
  <block id="bf57d1db8292b2855fa998a86562cfa7" category="cell">O pool é capaz de garantir IOPS nessa faixa</block>
  <block id="342a7ce5bb7debc6ba84dc2a3bced587" category="cell">Volume garantido estas operações de entrada/saída por segundo</block>
  <block id="895f3d78c77292d9761bdabdc3cf0c99" category="paragraph">1: Não suportado pelos sistemas ONTAP Select</block>
  <block id="5b3c68bde0b3658758a8ebf47ec6abf1" category="paragraph">Na maioria dos casos, os valores solicitados influenciam diretamente o provisionamento; por exemplo, a solicitação de provisionamento espesso resulta em um volume provisionado rapidamente. No entanto, um pool de storage de elemento usa o mínimo e o máximo de IOPS oferecidos para definir valores de QoS, em vez do valor solicitado. Nesse caso, o valor solicitado é usado apenas para selecionar o pool de armazenamento.</block>
  <block id="311fa7e17587a62a6fdcb110253feed7" category="paragraph">O ideal é usar<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> sozinho para modelar as qualidades do storage de que você precisa para atender às necessidades de uma classe específica. O Trident deteta e seleciona automaticamente pools de armazenamento que correspondem a _all_ do<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> que você especificar.</block>
  <block id="d0c865b74e0c4b4b387506e9e95d22b2" category="paragraph">Se você não conseguir usar<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> para selecionar automaticamente os pools certos para uma classe, use os<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> parâmetros e<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> para refinar ainda mais os pools ou até mesmo selecionar um conjunto específico de pools.</block>
  <block id="06a87a25fa98442cf561762851213f7e" category="paragraph">Você pode usar o<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> parâmetro para restringir ainda mais o conjunto de pools que correspondem a qualquer<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> especificado . Em outras palavras, o Trident usa a interseção de pools identificados pelos<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> parâmetros e<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> para o provisionamento. Você pode usar um parâmetro sozinho ou ambos juntos.</block>
  <block id="0c66a737e57eb6ac0885d2ba6d87cc12" category="paragraph">Você pode usar o<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> parâmetro para estender o conjunto de pools que o Trident usa para provisionamento, independentemente de quaisquer pools selecionados pelos<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> parâmetros e.<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block></block>
  <block id="2ed95c63c6e58641d710e098e7e23154" category="paragraph">Você pode usar o<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block> parâmetro para filtrar o conjunto de pools que o Trident usa para provisionar. O uso desse parâmetro remove todos os pools que correspondem.</block>
  <block id="9f8bfd75f7eb5b95503bb0abedf83b40" category="paragraph"><block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>Nos parâmetros e<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>, cada entrada assume o formulário<block ref="54b40b3e6f1384da4e4c920869e31d56" prefix=" " category="inline-code"></block>, onde<block ref="f6beb3e72ef13817e534adfcb53abf8d" prefix=" " category="inline-code"></block> é uma lista separada por vírgulas de pools de armazenamento para o back-end especificado. Por exemplo, um valor para<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> pode parecer como<block ref="f4f4f3be41d583caff484e84868faa12" prefix=" " category="inline-code"></block>. Essas listas aceitam valores de regex tanto para os valores de backend quanto de lista. Você pode usar<block ref="de7f24c692bef12dc6db5ad320f2f284" prefix=" " category="inline-code"></block> para obter a lista de backends e suas piscinas.</block>
  <block id="c087dddd46fcf0fbbf390abeff2216c3" category="section-title">Atributos do Kubernetes</block>
  <block id="d05956159ee82aafaaacfe08d33d3be6" category="paragraph">Esses atributos não têm impacto na seleção de pools de storage/back-ends pelo Trident durante o provisionamento dinâmico. Em vez disso, esses atributos simplesmente fornecem parâmetros compatíveis com volumes persistentes do Kubernetes. Os nós de trabalho são responsáveis pelas operações de criação de sistema de arquivos e podem exigir utilitários de sistema de arquivos, como xfsprogs.</block>
  <block id="0e6ac0d7fca9c59e6545312a071555b6" category="cell">Drivers relevantes</block>
  <block id="ae6b2a160dd2fafdee385c348edee0c1" category="cell">Versão do Kubernetes</block>
  <block id="7cfbb6f07899c8071ff38e69dca190e2" category="cell">FsType</block>
  <block id="010e61d0b40eeb84b96a1321e8f0bab7" category="cell">ext4, ext3, xfs</block>
  <block id="7928a56d4874d982a06a59e3f30f6935" category="cell">O tipo de sistema de arquivos para volumes de bloco</block>
  <block id="f888aa18c19e41f8c1263fa99ca8b94c" category="cell">SolidFire-san, ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup, ONTAP-san, ONTAP-san-economy</block>
  <block id="b1c94ca2fbc3e78fc30069c8d0f01680" category="cell">Tudo</block>
  <block id="6add71a247c8f4513060920be14857bc" category="cell">AllowVolumeExpansion</block>
  <block id="84e2c64f38f78ba3ea5c905ab5a2da27" category="cell">booleano</block>
  <block id="675e3f37a9adfd7ab6433906c490fa06" category="cell">Ative ou desative o suporte para aumentar o tamanho do PVC</block>
  <block id="2e647c10640a301eccdc45d7ad72507d" category="cell">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup, ONTAP-san, ONTAP-san-economy, SolidFire-san, gcp-cvs, azure-NetApp-files</block>
  <block id="c791531450eeeb073b30215d9c306a00" category="cell">Mais de 1,11 anos</block>
  <block id="086b513e7d83c4cf32a8bd3550679276" category="cell">VolumeBindingMode</block>
  <block id="fd656a4f359aa12808a6d0ceb5792342" category="cell">Imediato, WaitForFirstConsumer</block>
  <block id="5e7777e1f9cfa3a93159ee44cf3f1f5a" category="cell">Escolha quando ocorre a vinculação de volume e o provisionamento dinâmico</block>
  <block id="741970ef3d523752ab543427956bb1b8" category="cell">1,19 - 1,26</block>
  <block id="8264769021597389583b0a7d1fa7e076" category="inline-link-macro">Kubernetes: Configurar um contexto de segurança para um pod ou contêiner</block>
  <block id="9ec97307849e95766ab72c5a34828c08" category="list-text">O<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> parâmetro é usado para controlar o tipo de sistema de arquivos desejado para LUNs SAN. Além disso, o Kubernetes também usa a presença de<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> em uma classe de armazenamento para indicar que existe um sistema de arquivos. A propriedade do volume só pode ser controlada usando o<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> contexto de segurança de um pod se<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> estiver definido. <block ref="7940a62969e5aeae7f6e32b04e7a11e3" category="inline-link-macro-rx"></block>Consulte para obter uma visão geral sobre como definir a propriedade do volume usando o<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> contexto. O Kubernetes aplicará o<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> valor somente se:</block>
  <block id="6dd29ca7439e52dcf2fbc569066b3d67" category="list-text"><block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix="" category="inline-code"></block> é definido na classe de armazenamento.</block>
  <block id="45d2174daba36b76955e69d2eddf26ca" category="list-text">O modo de acesso de PVC é RWO.</block>
  <block id="ba5b62efad4f90a8f4bb806cba4a3ea4" category="paragraph">Para drivers de armazenamento NFS, já existe um sistema de arquivos como parte da exportação NFS. Para usar<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> a classe de armazenamento ainda precisa especificar um<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>. você pode configurá-lo como<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> ou qualquer valor não nulo.</block>
  <block id="c2b0df577877e25491f6e1ed397c87df" category="list-text"><block ref="7c28a1514d14039d3824999236c4890d" category="inline-link-macro-rx"></block>Consulte para obter mais detalhes sobre a expansão do volume.</block>
  <block id="2435c5eb0d842c13f635d4b1d6667a52" category="list-text">O pacote de instalação do Trident fornece vários exemplos de definições de classe de armazenamento para uso com o Trident no <block ref="532e65fde9b7cd84dd9a7a9be1e1ddbb" prefix="" category="inline-code"></block>. A exclusão de uma classe de armazenamento Kubernetes faz com que a classe de armazenamento Trident correspondente também seja excluída.</block>
  <block id="db36743614e87531d560fe8ae0bc6c7d" category="section-title">Objetos do Kubernetes<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block></block>
  <block id="65d18b5db5d5f35e4ddc5c696687d1bd" category="paragraph">Os objetos do Kubernetes<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block> são análogos ao<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>. Eles ajudam a definir várias classes de armazenamento e são referenciados por instantâneos de volume para associar o snapshot à classe de snapshot necessária. Cada snapshot de volume é associado a uma classe de snapshot de volume único.</block>
  <block id="031e09713b698739db52cb150ef97605" category="paragraph">A<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block> deve ser definida por um administrador para criar instantâneos. Uma classe de instantâneo de volume é criada com a seguinte definição:</block>
  <block id="879cd061c6bf448cd6fc39dd56947611" category="paragraph">O<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block> especifica ao Kubernetes que as solicitações de snapshots de volume<block ref="6c7238e4718cba62616087e70f5e30ec" prefix=" " category="inline-code"></block> da classe são tratadas pelo Trident. O<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> especifica a ação a ser tomada quando um instantâneo deve ser excluído. <block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>Quando está definido como<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>, os objetos instantâneos de volume e o instantâneo subjacente no cluster de armazenamento são removidos quando um instantâneo é excluído. Alternativamente, configurá-lo para<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block> significa que<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> e o instantâneo físico são retidos.</block>
  <block id="63f2f0978770be469911c5f1722d82ca" category="section-title">Objetos do Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block></block>
  <block id="7ba558df52a052235cf288011e5d667c" category="paragraph">Um objeto Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> é uma solicitação para criar um snapshot de um volume. Assim como um PVC representa uma solicitação feita por um usuário para um volume, um instantâneo de volume é uma solicitação feita por um usuário para criar um instantâneo de um PVC existente.</block>
  <block id="f67af493d1fd83b472d5f27307b2f3d9" category="paragraph">Quando uma solicitação de snapshot de volume entra, o Trident gerencia automaticamente a criação do snapshot para o volume no back-end e expõe o snapshot criando um objeto exclusivo<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>. Você pode criar snapshots a partir de PVCs existentes e usar os snapshots como DataSource ao criar novos PVCs.</block>
  <block id="1ca312948dba5b1321da24bc362f4148" category="section-title">Objetos do Kubernetes<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block></block>
  <block id="e562bdcf97dce6973a736651f45eb054" category="paragraph">Um objeto Kubernetes<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> representa um snapshot retirado de um volume já provisionado. Ele é análogo a<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> e significa um snapshot provisionado no cluster de storage. Semelhante aos<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> objetos e<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>, quando um snapshot é criado, o<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto mantém um mapeamento um-para-um para o<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> objeto, que havia solicitado a criação do snapshot.</block>
  <block id="af741aec1c66e51c00d35a38f92471de" category="paragraph">O<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto contém detalhes que identificam exclusivamente o instantâneo, como o<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block>. Esta<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block> é uma combinação única do nome do PV e do nome do<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto.</block>
  <block id="b22c73e808eef321ee9941ec2e58b64f" category="paragraph">Quando uma solicitação de snapshot entra, o Trident cria o snapshot no back-end. Depois que o snapshot é criado, o Trident configura um<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto e, portanto, expõe o snapshot à API do Kubernetes.</block>
  <block id="aea10b5a282698ad4477a7113234ae65" category="inline-link-macro">importar um instantâneo de volume</block>
  <block id="4171707fb2a131f0fae96196310c5e3b" category="section-title">Objetos do Kubernetes<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block></block>
  <block id="7c43d52062b795d2d8e7f33b9dbbf671" category="paragraph">Os recursos personalizados do Kubernetes são endpoints na API do Kubernetes que são definidos pelo administrador e são usados para agrupar objetos semelhantes. O Kubernetes dá suporte à criação de recursos personalizados para armazenar uma coleção de objetos. Você pode obter essas definições de recursos executando<block ref="1201c6fb7452320c42006b3c6341e824" prefix=" " category="inline-code"></block>o .</block>
  <block id="09d4c17e4e0e002375326eee41d0f77f" category="paragraph">As definições personalizadas de recursos (CRDs) e os metadados de objetos associados são armazenados pelo Kubernetes em seu armazenamento de metadados. Isso elimina a necessidade de uma loja separada para o Trident.</block>
  <block id="9f59afd5e4687b9960361128f049dae4" category="paragraph">CRDs são uma construção do Kubernetes. Os objetos dos recursos definidos acima são criados pelo Trident. Como um exemplo simples, quando um back-end é criado usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o , um objeto CRD correspondente<block ref="0509578b4c12ac2fc745903388753e2c" prefix=" " category="inline-code"></block> é criado para consumo pelo Kubernetes.</block>
  <block id="7cdfd680fe492e028cde251c38475469" category="paragraph">Aqui estão alguns pontos a ter em mente sobre os CRDs do Trident:</block>
  <block id="adecfe476427253e9c680a7c5150a9cc" category="list-text">Quando o Trident é instalado, um conjunto de CRDs é criado e pode ser usado como qualquer outro tipo de recurso.</block>
  <block id="c4b35352cbf7a52a9444a610687067f8" category="inline-link-macro">Desinstale o Trident</block>
  <block id="d7b7b183151bdcc8d68efef8a53c02cb" category="list-text">Ao desinstalar o Trident usando o<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block> comando, os pods Trident são excluídos, mas os CRDs criados não são limpos. <block ref="3e5b286354565ddfee44ed92d763b424" category="inline-link-macro-rx"></block>Consulte para compreender como o Trident pode ser completamente removido e reconfigurado do zero.</block>
  <block id="cfc01756266d8d0e43eb3a9f2753f472" category="paragraph">O Trident cria classes de storage correspondentes para objetos Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que especificam<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block> no campo do provisionador. O nome da classe de storage corresponde ao do objeto Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que ele representa.</block>
  <block id="64cf33bfeab6c6bd8aa626b86fda9cbd" category="admonition">Com o Kubernetes, esses objetos são criados automaticamente quando um Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que usa o Trident como provisionador é registrado.</block>
  <block id="51fa0a833f47d8f00ee2677c6fa7b075" category="paragraph">As classes de armazenamento compreendem um conjunto de requisitos para volumes. O Trident atende a esses requisitos com os atributos presentes em cada pool de storage. Se forem correspondentes, esse pool de storage será um destino válido para volumes de provisionamento que usam essa classe de storage.</block>
  <block id="04d84bba5a5e103ae9c192c03a7ad2f3" category="paragraph">Você pode criar configurações de classe de armazenamento para definir diretamente classes de armazenamento usando a API REST. No entanto, para implantações do Kubernetes, esperamos que elas sejam criadas ao Registrar novos objetos do Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>.</block>
  <block id="3c244b984a2188556c1115a5a27dbe1b" category="paragraph">Os backends representam os fornecedores de storage em cima dos quais o Trident provisiona volumes. Uma única instância do Trident pode gerenciar qualquer número de backends.</block>
  <block id="d71c5fad4769c19422c07158e24510ba" category="admonition">Este é um dos dois tipos de objetos que você cria e gerencia a si mesmo. O outro é o objeto Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>.</block>
  <block id="6386b0f17b85463db72887bca8ae2bb7" category="inline-link-macro">configurando backends</block>
  <block id="7a82af4e68a9aca0b21f107f4c0836ee" category="paragraph">Para obter mais informações sobre como construir esses objetos, <block ref="2e76dfee6bc1b5ee4173b3c5bbcd99e5" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="54fd1dc39c3eecd913b4c9140522996c" category="paragraph">Os pools de storage representam locais distintos disponíveis para provisionamento em cada back-end. Para ONTAP, eles correspondem a agregados em SVMs. Para NetApp HCI/SolidFire, estes correspondem a bandas de QoS especificadas pelo administrador. Para o Cloud Volumes Service, eles correspondem a regiões de provedores de nuvem. Cada pool de storage tem um conjunto de atributos de storage distintos, que definem suas características de performance e proteção de dados.</block>
  <block id="4ab1440e71a70a97c4966bcc0095f02b" category="paragraph">Ao contrário dos outros objetos aqui, os candidatos ao pool de armazenamento são sempre descobertos e gerenciados automaticamente.</block>
  <block id="2e53db54827c8c05b7bfe9cb31f299d9" category="list-text">No Kubernetes, esses objetos são gerenciados automaticamente. Você pode visualizá-los para ver o que o Trident provisionou.</block>
  <block id="22fcc98910d0241e9835f502b7cb2398" category="list-text">Ao excluir um PV com instantâneos associados, o volume Trident correspondente é atualizado para um estado *Deletando*. Para que o volume Trident seja excluído, você deve remover os snapshots do volume.</block>
  <block id="05353bc86910df31b2da9c8d3d26aad1" category="paragraph">Uma configuração de volume define as propriedades que um volume provisionado deve ter.</block>
  <block id="ce9af1e3f0493eb7d5ffdf584ed763ba" category="cell">Versão da API Trident ("1")</block>
  <block id="b068931cc450442b63f5b3d276ea4297" category="cell">nome</block>
  <block id="a6105c0a611b41b08f1209506350279e" category="cell">sim</block>
  <block id="017dbd2b0a2195c3e8052cdff67bad39" category="cell">Nome do volume a criar</block>
  <block id="78ec9b60245b46a4f05158076962ace9" category="cell">StorageClass</block>
  <block id="fa00f346deccdbebef2b3cc0702d41de" category="cell">Classe de storage a ser usada ao provisionar o volume</block>
  <block id="f7bd60b75b29d79b660a2859395c1a24" category="cell">tamanho</block>
  <block id="264c52ca068dfed30f5826bb054839f4" category="cell">Tamanho do volume a provisionar em bytes</block>
  <block id="4f18882934f0472b4bfa32928bf92f14" category="cell">Tipo de protocolo a utilizar; "ficheiro" ou "bloco"</block>
  <block id="252c6d364cc1a0437939a4f01b0717ae" category="cell">InternalName</block>
  <block id="2857a43e58983276d059c0e6e2fcb0e9" category="cell">Nome do objeto no sistema de storage; gerado pelo Trident</block>
  <block id="051fb2c3f62667c87a197ae412a4dbeb" category="cell">ONTAP (nas, san) &amp; SolidFire-*: Nome do volume a partir do qual clonar</block>
  <block id="e94d46d7c89bcb7e6ac2e2df4d21bafb" category="cell">ONTAP (nas, san): Divida o clone de seu pai</block>
  <block id="819549a86d14e849e1d0042c9156d781" category="cell">ONTAP-*: Política de snapshot a ser usada</block>
  <block id="e38882545bfedafc7e8ec5973b2e6dd8" category="cell">ONTAP-*: Porcentagem de volume reservado para snapshots</block>
  <block id="fc86db1233bfa77d5143dcaae9842cb1" category="cell">ONTAP-nas*: Política de exportação para usar</block>
  <block id="48e1d8180a61943f438c259b2b6715f8" category="cell">ONTAP-nas*: Se o diretório snapshot está visível</block>
  <block id="3f7c94eec4bbf43962e1667f5a334469" category="cell">ONTAP-nas*: Permissões iniciais do UNIX</block>
  <block id="4b2d5d83aef608a3fb59ec6eda8bea26" category="cell">SolidFire-*: Tamanho do bloco/setor</block>
  <block id="62fe71ae4f6a04a6937feb48ba5dc4f4" category="cell">Tipo de sistema de ficheiros</block>
  <block id="c12963ed77d398c8f97e09be58a20fed" category="paragraph">O Trident gera<block ref="252c6d364cc1a0437939a4f01b0717ae" prefix=" " category="inline-code"></block> ao criar o volume. Isto consiste em duas etapas. Primeiro, ele prepende o prefixo de armazenamento (o padrão<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> ou o prefixo na configuração de back-end) para o nome do volume, resultando em um nome do formulário<block ref="c1698e7d39f974847e6db255afc061d7" prefix=" " category="inline-code"></block>. Em seguida, procede à higienização do nome, substituindo carateres não permitidos no backend. Para backends ONTAP, ele substitui hífens por sublinhados (assim, o nome interno se torna<block ref="1edd19f408fb01912396584374aad28a" prefix=" " category="inline-code"></block>). Para backends de elemento, ele substitui sublinhados por hífens.</block>
  <block id="49539689cebb34166a417b3b666818e5" category="paragraph">Você pode usar configurações de volume para provisionar volumes diretamente usando a API REST, mas nas implantações do Kubernetes, esperamos que a maioria dos usuários use o método padrão do Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>. O Trident cria esse objeto de volume automaticamente como parte do processo de provisionamento.</block>
  <block id="a1b3787bbd275b7ed5812d022dd36932" category="paragraph">Os snapshots são uma cópia pontual de volumes, que pode ser usada para provisionar novos volumes ou restaurar o estado. No Kubernetes, eles correspondem diretamente a<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objetos. Cada snapshot é associado a um volume, que é a origem dos dados do snapshot.</block>
  <block id="cdf5c8d3dd31e49b82a5b3e2c4a65280" category="paragraph">Cada<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block> objeto inclui as propriedades listadas abaixo:</block>
  <block id="27118326006d3829667a400ad23d5d98" category="cell">Cadeia de carateres</block>
  <block id="de73fbae2864dd61c921cf0648a9717a" category="cell">Nome do objeto snapshot Trident</block>
  <block id="8e744456fb3d02d69442038d3e771460" category="cell">Nome do objeto snapshot Trident no sistema de storage</block>
  <block id="617a43eb0446f84414df73cce2997fa1" category="cell">Nome do volume</block>
  <block id="b58c8ff1e837af6dafa971bf3d320646" category="cell">Nome do volume persistente para o qual o instantâneo é criado</block>
  <block id="2c2aed4b417a0f9c189d7ad6414ae28c" category="cell">VolumeInternalName</block>
  <block id="db1a117103c348ebaec41f9e249554c3" category="cell">Nome do objeto de volume Trident associado no sistema de storage</block>
  <block id="73f3d5934fdd36989f24cbae94ab423b" category="paragraph">Quando uma solicitação de objeto Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> é criada, o Trident funciona criando um objeto snapshot no sistema de storage de backup. <block ref="252c6d364cc1a0437939a4f01b0717ae" prefix=" " category="inline-code"></block>O deste objeto instantâneo é gerado combinando o prefixo<block ref="9df5757552a92dfd36506c9ef1ef6553" prefix=" " category="inline-code"></block> com o<block ref="e7d22294bdcb7133967c3548ece982e5" prefix=" " category="inline-code"></block> do<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> objeto (por exemplo,<block ref="c0d30538d15b43e0140bcf4251703864" prefix=" " category="inline-code"></block> ).<block ref="617a43eb0446f84414df73cce2997fa1" prefix=" " category="inline-code"></block> e<block ref="2c2aed4b417a0f9c189d7ad6414ae28c" prefix=" " category="inline-code"></block> são preenchidos obtendo os detalhes do volume de apoio.</block>
  <block id="253c5669d0ddb02485528df359bfb37d" category="paragraph">Se você precisar de mais controle sobre a cota de recurso padrão e Classe de prioridade, você pode gerar um<block ref="21b1223568b2ae7cd1db3ffddbe3b3fd" prefix=" " category="inline-code"></block> ou configurar o<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> objeto usando o gráfico de Helm.</block>
  <block id="b6ba871f235b09a3d76844b7b5901586" category="paragraph">O seguinte é um exemplo de um objeto 'ResourceQuota' priorizando o daemonset do Trident.</block>
  <block id="4f4b1cca8d1c78f8ba309694d46d80f2" category="inline-link-macro">Kubernetes: Cotas de recursos</block>
  <block id="1894d1b67a8b86d7f876f515c238d5a6" category="paragraph">Para obter mais informações sobre cotas de recursos, <block ref="1fb556021be57083646a3e3c0079c64c" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="4f89992961c018acecad7b373dcce336" category="section-title">Limpe<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> se a instalação falhar</block>
  <block id="222924a66611c61f2a2192a2bab92ecf" category="inline-link-macro">desinstalação</block>
  <block id="dbcf7f603282c175a634104f7dbd55f2" category="paragraph">No caso raro em que a instalação falha depois que o<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> objeto é criado, primeiro <block ref="3bd802fb95da78515b3c3d98916ee73c" category="inline-link-macro-rx"></block>tente e depois reinstale.</block>
  <block id="c4af59b1638f70f51816423f72df4dba" category="paragraph">Se isso não funcionar, remova manualmente o<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> objeto.</block>
  <block id="b9984d1eca39b86eb39cedf7db8f8c62" category="section-title">Retire<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="bc3c69459955aa51e6720ee4098db2c2" category="doc">Padrões de segurança do pod (PSS) e restrições de contexto de segurança (SCC)</block>
  <block id="80af9ab2cf8f28973d329b09a2aa3bf3" category="inline-link-macro">Kubernetes: Segurança</block>
  <block id="bf490af1c404d2415dfe93c23b646bfb" category="admonition">O PSS substitui as políticas de segurança do Pod (PSP). A PSP foi obsoleta no Kubernetes v1,21 e será removida em v1,25. Para obter mais informações, <block ref="18a97095ea40d42decd22f31a2040afe" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="92699490afddc06ebad285ff002fc80d" category="section-title">Contexto de segurança do Kubernetes necessário e campos relacionados</block>
  <block id="ed5dea09095f671b801bee34ea28a319" category="cell">Permissão</block>
  <block id="b315e1c68490baab38c1a28e00fe0f5a" category="cell">Privilegiado</block>
  <block id="62868c5d24fd89e2fd8046454e18b6c4" category="inline-link-macro">Kubernetes: Propagação de montagem</block>
  <block id="8711d10d95f02e2915623a51693eaaac" category="cell">O CSI exige que os pontos de montagem sejam bidirecionais, o que significa que o pod de nó do Trident deve executar um contentor privilegiado. Para obter mais informações, <block ref="36e6e997c8e1e33355ee35fb5cf65f2b" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="92a5c8ffa6bee2a9377f18499950da23" category="cell">Rede de host</block>
  <block id="154cdce0e5451a5578085caa8a7e7a3e" category="cell">Necessário para o daemon iSCSI.<block ref="f88921f58beaaae5bcb9dffac54bf5ad" prefix=" " category="inline-code"></block> Gerencia montagens iSCSI e usa redes de host para se comunicar com o daemon iSCSI.</block>
  <block id="2ff982b19c53a275ae05f015dafe166d" category="cell">IPC do host</block>
  <block id="eac6730a7bdbb0156f167d1a073b4a7c" category="cell">O NFS usa comunicação entre processos (IPC) para se comunicar com o NFSD.</block>
  <block id="b25a60a6190808e0d6e849ca6325b91c" category="cell">PID do host</block>
  <block id="82ec2cd6fda87713f588da75c3b1d0ed" category="cell">Recursos</block>
  <block id="4aeb7a1484240b8d479aee0a012de3a4" category="cell">O<block ref="89e03940e064509cce675def4874338e" prefix=" " category="inline-code"></block> recurso é fornecido como parte dos recursos padrão para contentores privilegiados. Por exemplo, o Docker define esses recursos para contentores privilegiados:<block ref="279f844076697173760b840190800fa7" prefix=" " category="inline-code"></block><block ref="ca9d7807fbdd864698fc848190c05c7a" prefix=" " category="inline-code"></block></block>
  <block id="b2dbe899d8bf9b4c25f337efe8b1ce7c" category="cell">Seccomp</block>
  <block id="1a3d8802d280d4ec910f54042cd62998" category="cell">SELinux</block>
  <block id="52a8b954485e8bf8ebe32865d17563a6" category="cell">DAC</block>
  <block id="6ddc0f1aebd745677bb51e725f080883" category="cell">Os contentores privilegiados devem ser executados como root. Os contentores não privilegiados são executados como root para acessar os sockets unix exigidos pelo CSI.</block>
  <block id="479f0a2e760ff0014bb53fcbe4b5dfbf" category="section-title">Padrões de segurança do pod (PSS)</block>
  <block id="b021df6aac4654c454f46c77646e745f" category="cell">Etiqueta</block>
  <block id="ede4d9142f78c8313ce1ea912023214a" category="cell"><block ref="c50055ec8e6213f61bd81cfda31f072f" prefix="" category="inline-code"></block> <block ref="76404c03a86906ee3beb617ed963367c" prefix=" " category="inline-code"></block></block>
  <block id="0ccd226f7ad098ef19857dcf15eed611" category="cell">Permite que o controlador Trident e os nós sejam admitidos no namespace de instalação. Não altere a etiqueta do namespace.</block>
  <block id="0634b3cd8d233df0b38fe73154f03a86" category="cell"><block ref="65f4d8e6b012530443d6a9f6f2b9ce47" prefix="" category="inline-code"></block> <block ref="c9618b80f22dd4422aedf605ca48825e" prefix=" " category="inline-code"></block></block>
  <block id="830d087702172a8173337c2f014f24b3" category="admonition">Alterar os rótulos do namespace pode resultar em pods não sendo programados, um "erro ao criar: ..." ou, "Aviso: Trident-csi-...". Se isso acontecer, verifique se a etiqueta do namespace para<block ref="bd638b36d2814f488c1497cfe49eceea" prefix=" " category="inline-code"></block> foi alterada. Em caso afirmativo, reinstale o Trident.</block>
  <block id="a2e4b41e2525b6345ec43bbfe91c66fb" category="section-title">Políticas de segurança do pod (PSP)</block>
  <block id="6f16a5f8ff5d75ab84c018adacdfcbb7" category="cell">Campo</block>
  <block id="0c3c80a8b192c50af55549addaec04e9" category="cell"><block ref="18dfe779aeef79958856ed305c2bdf2c" prefix="" category="inline-code"></block></block>
  <block id="13d1281eff2b6a57e6fe877e0379a8f0" category="cell">Os contêineres privilegiados devem permitir o escalonamento de privilégios.</block>
  <block id="f3acfbe4d2b93ab163024b31a31b1a6e" category="cell"><block ref="320921b707f3348e6c98b4280fa1a31d" prefix="" category="inline-code"></block></block>
  <block id="e4938c724a08c7ba91677f8cb5e069f0" category="cell">O Trident não usa volumes efêmeros de CSI inline.</block>
  <block id="ce2c8aed9c2fa0cfbed56cbda4d8bf07" category="cell">Vazio</block>
  <block id="2eb7a988516ab2e49fd1dd1d0f505ba4" category="cell"><block ref="cdefa1888948b5a72fea2994aeca2cab" prefix="" category="inline-code"></block></block>
  <block id="7f18f0f8e3ec21ef031ae007e78292f1" category="cell">Os contêineres Trident não privilegiados não exigem mais recursos do que o conjunto padrão e os contentores privilegiados recebem todos os recursos possíveis.</block>
  <block id="577f713a1a3fd5fe6851754c1e780b62" category="cell"><block ref="5439f69262a770a5f83afbdcce16c7e8" prefix="" category="inline-code"></block></block>
  <block id="5a40ff04e0748fc5c56343bfccb1bf43" category="inline-link-macro">Controlador Flexvolume</block>
  <block id="117394bda9c12e1ab1e0ddefda7340f6" category="cell">O Trident não faz uso de um <block ref="5cf2fb2d9c4de828b06e030ea5b9ff75" category="inline-link-macro-rx"></block>, portanto, eles não estão incluídos na lista de volumes permitidos.</block>
  <block id="e26fd3e84b999df4093d0b9f1cf8bbdb" category="cell"><block ref="5ecb32286b22ea1d317e0328f6ca17f3" prefix="" category="inline-code"></block></block>
  <block id="87c065485525cde8c75f60bd233a546b" category="cell">O pod de nó Trident monta o sistema de arquivos raiz do nó, portanto, não há benefício para definir esta lista.</block>
  <block id="88e5e12dbdeac08e751e562ed902d6af" category="cell"><block ref="c503c5204b219327ad1ec993eafeb60b" prefix="" category="inline-code"></block></block>
  <block id="b989e7796e7fe01d9a48795f499ee3e8" category="cell">O Trident não usa nenhum<block ref="9b2836a126a08612261801d15525c966" prefix=" " category="inline-code"></block>.</block>
  <block id="2cc90cbcd409b90ed2d4270b587b4611" category="cell"><block ref="1f5590dd9e5fe118cb2d0fafdd4a2c76" prefix="" category="inline-code"></block></block>
  <block id="6784c364453355e4499a625166f9d76e" category="cell">O Trident não requer nenhum inseguro<block ref="005b1e0eff7e0d04731c1a9c38e1645f" prefix=" " category="inline-code"></block>.</block>
  <block id="43dbe35647dc1ec91f9ab70bb9c67eb7" category="cell"><block ref="11ed1e398eb4fb87f6dd82eb0c2c484b" prefix="" category="inline-code"></block></block>
  <block id="21b6f9c280cf0efb8619e386208ee181" category="cell">Não são necessários recursos para serem adicionados a contentores privilegiados.</block>
  <block id="782434a33bb3747f8aa86293dc2ae86c" category="cell"><block ref="3262227f241b5104dae49e3b6794a48e" prefix="" category="inline-code"></block></block>
  <block id="4e1db4d4f52542bf76625bb1724050ca" category="cell">Permitir o escalonamento de privilégios é Tratado em cada pod Trident.</block>
  <block id="7b18008579516cbef313996f0c7a3f5e" category="cell"><block ref="8de935bade437bae01a87d360814f8b2" prefix="" category="inline-code"></block></block>
  <block id="1507e7ba036aa98fd30589e618a7a4eb" category="cell">Não<block ref="005b1e0eff7e0d04731c1a9c38e1645f" prefix=" " category="inline-code"></block> são permitidos.</block>
  <block id="042337cb48219589a279b3bf0ba9107a" category="cell"><block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix="" category="inline-code"></block></block>
  <block id="07556f620d0b827238e3ef0142c49b78" category="cell">Os contêineres do Trident são executados como raiz.</block>
  <block id="ac0f2e366ea63da20af91efebbac6563" category="cell"><block ref="9510eecf0d7bfd6ddcc0af8dcab468c3" prefix="" category="inline-code"></block></block>
  <block id="0041ceee5434032966a8b03eae8738ac" category="cell"><block ref="caa805d341a15bff93c4a9a29f49b191" prefix="" category="inline-code"></block></block>
  <block id="41c30833eb5d5997e9b7a31ee0c66616" category="cell">A montagem de volumes NFS requer que o IPC do host se comunique com<block ref="040547f5d1afb7594b15ac44c8996d28" prefix=" " category="inline-code"></block></block>
  <block id="9bffb5bb38918d1a1d3ae47e97dfc0c4" category="cell"><block ref="e3b493bcbdc62af28f127a151a9fb487" prefix="" category="inline-code"></block></block>
  <block id="42a138ad382896646a09fac2eb0167c6" category="cell">O iscsiadm requer que a rede host se comunique com o daemon iSCSI.</block>
  <block id="13135fc0519a6dd0521fa0c0e2445184" category="cell"><block ref="d5eeda68602776a6cc184dc06e8008fb" prefix="" category="inline-code"></block></block>
  <block id="608c4a2fdcf8e14356058df9005ae8ad" category="cell">O PID do host é necessário para verificar se<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block> está sendo executado no nó.</block>
  <block id="7d820b24ee2bfd41495fba608bfe1fb0" category="cell"><block ref="79602710f0451e93a37a68d73146cdfd" prefix="" category="inline-code"></block></block>
  <block id="7afcaaf2763ecc0e6dee9f0b63026a58" category="cell">O Trident não usa nenhuma porta de host.</block>
  <block id="cb8c6f5ff29df99724d3704d1af54bbd" category="cell"><block ref="bd638b36d2814f488c1497cfe49eceea" prefix="" category="inline-code"></block></block>
  <block id="aadb34687d099e9a40c9ad3bbaca9b52" category="cell">Os pods de nós do Trident devem executar um contêiner privilegiado para montar volumes.</block>
  <block id="cd8e4b4bb856b53433b1d0369136d7c3" category="cell"><block ref="a36ad2513fd5bed82000a11cd072c70c" prefix="" category="inline-code"></block></block>
  <block id="7621dbe4e923ccb1331f44e5fc326954" category="cell">Os pods de nós do Trident devem gravar no sistema de arquivos do nó.</block>
  <block id="7214fd778499c002452dfa1de7a63694" category="cell"><block ref="8ef4c526d5dbf854568be0215948562b" prefix="" category="inline-code"></block></block>
  <block id="0a687403dd751d7bcf9d36eb39b73187" category="cell">Os pods de nós do Trident executam um contêiner privilegiado e não podem descartar recursos.</block>
  <block id="e0cfa7f1a22bfc61e3c23d9b472cb229" category="cell"><block ref="24f066518afeea78c9e3e1935e2b4afa" prefix="" category="inline-code"></block></block>
  <block id="72a9e1b9b252e5cf0980f359420147d4" category="cell"><block ref="e70b97e1fe755b3b63eee3148167d06a" prefix="" category="inline-code"></block></block>
  <block id="0be043db3067cfba9e355c71f0d47963" category="cell"><block ref="a1933ffc7c56d4bad559d4aada4b5cf4" prefix="" category="inline-code"></block></block>
  <block id="2b13c797fbca116e0445fe9ed04aa753" category="cell"><block ref="119a538c01fd566d2c6b0a773680c029" prefix="" category="inline-code"></block></block>
  <block id="90eaf8074aef1d40fdd4ebb096ba3445" category="cell">O Trident não usa<block ref="578e49a043cd014389265d3d5745237b" prefix=" " category="inline-code"></block>o .</block>
  <block id="af697e6f277a737b01025e1b3ac8fd44" category="cell"><block ref="35fa9c57956b497d442646153f18643f" prefix="" category="inline-code"></block></block>
  <block id="b2fe00f20eadde0a1ed6fcbd7f899a41" category="cell">O Trident não define<block ref="0221dccbaacc71551feb621f4ebfae36" prefix=" " category="inline-code"></block> porque atualmente existem diferenças em como os tempos de execução de contêineres e as distribuições do Kubernetes lidam com o SELinux.</block>
  <block id="07b8b968ede124e1134951b502139223" category="cell"><block ref="69ca32a3f2c3aed6de1cc5ea72ab45eb" prefix="" category="inline-code"></block></block>
  <block id="707325d27093188691659cc218115f02" category="cell"><block ref="078831e29f354e83fac6da3db6ed6b7b" prefix="" category="inline-code"></block></block>
  <block id="fd284b15eb12231bdce65744e6704677" category="cell">Os pods do Trident exigem esses plugins de volume.</block>
  <block id="c28fb07c7c2463112f74e84cdea6df77" category="cell"><block ref="7af598b967dfa9a65aa6bc1172ac2793" prefix="" category="inline-code"></block></block>
  <block id="12ed56c889a6b18b5fce1be5bd30b1c8" category="section-title">Restrições de contexto de segurança (SCC)</block>
  <block id="3ad6cb6100190c8f81e99fd52debf7ef" category="cell">Etiquetas</block>
  <block id="244a3eb95cc1438e96d275b17eaa5bca" category="cell"><block ref="34f1a1024ebe43028f3959a44bacfc6b" prefix="" category="inline-code"></block></block>
  <block id="bdf1cf802b14a9ec8b930e1603663b2a" category="cell">Os pods de nó Trident montam o sistema de arquivos raiz do nó.</block>
  <block id="bb46f3196a53f2e3664f53addee28df1" category="cell"><block ref="96a892a9f3eea0ca79b145a0eaf9dbb2" prefix="" category="inline-code"></block></block>
  <block id="040a3e4977d39efd21138ca276545e91" category="cell">A montagem de volumes NFS requer que o IPC do host se comunique com<block ref="040547f5d1afb7594b15ac44c8996d28" prefix=" " category="inline-code"></block>o .</block>
  <block id="75a4305006cbe99edf6e6ec43424a3f9" category="cell"><block ref="90837134a0fa2189e147709cb1c8ee73" prefix="" category="inline-code"></block></block>
  <block id="3dc9b606cf3a7a8fc44c8489687131d1" category="cell"><block ref="1f50d8422285f1e4485caf89884871d1" prefix="" category="inline-code"></block></block>
  <block id="31773567f0268170ecfa4c74f91c5b74" category="cell"><block ref="e3370203a64857bb982dfad1f53f32dd" prefix="" category="inline-code"></block></block>
  <block id="606a5f1c705c363af0a1f97e60feaddc" category="cell"><block ref="2290fe08023a5a24bfa0749418021ce3" prefix="" category="inline-code"></block></block>
  <block id="5be47a456f397efee757d8dd4e0c8726" category="cell"><block ref="1471e4e05a4db95d353cc867fe317314" prefix="" category="inline-code"></block></block>
  <block id="c2ca437ef2abb914a8fc2ebb1b926ef6" category="cell">Este SCC é específico do Trident e está vinculado ao seu usuário.</block>
  <block id="fae56626a2743154c04411ee3d701833" category="cell"><block ref="64ed99ed2cd72b59717e6297314edfc3" prefix="" category="inline-code"></block></block>
  <block id="5987c8a1437c5254a436c29c94220b55" category="cell"><block ref="5c9160146b43f9e1879772881e219a6a" prefix="" category="inline-code"></block></block>
  <block id="2c8f9f1b9abdfa728b8f5d50686e4da0" category="cell">Os contentores privilegiados funcionam sempre "sem confinamentos".</block>
  <block id="f94a437fb7858e092079378f93ef2c71" category="cell"><block ref="9bc65c2abec141778ffaa729489f3e87" prefix="" category="inline-code"></block></block>
  <block id="402b7d2d5aea5e79576f9a964df89a32" category="cell">Uma entrada é fornecida para vincular esse SCC ao usuário Trident no namespace Trident.</block>
  <block id="274b68192b056e268f128ff63bfcd4a4" category="cell">n/a.</block>
  <block id="50af2a553c2117ddd78da33865c6e35b" category="cell"><block ref="05b8f3cd42ccc5f3a4847a902e506823" prefix="" category="inline-code"></block></block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">Porta</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">Finalidade</block>
  <block id="7e6b20d014d1c659e4eaf20dc2dcd7eb" category="cell">8443</block>
  <block id="69bbf3571db03f0487c04a8254d15c75" category="cell">Backchannel HTTPS</block>
  <block id="bc3c4a6331a8a9950945a1aa8c95ab8a" category="cell">8001</block>
  <block id="e5a4c481cc6f5935efb2c9d381f2e342" category="cell">Endpoint de métricas Prometheus</block>
  <block id="67ff32d40fb51f1a2fd2c4f1b1019785" category="cell">8000</block>
  <block id="10f5b805a46ea829cc3b9d8560a224ae" category="cell">SERVIDOR REST do Trident</block>
  <block id="35cf0f704286108deb76366a16415140" category="cell">17546</block>
  <block id="fb1396f82d0096741ea1b06f8cee2340" category="cell">Porta de sonda de disponibilidade/disponibilidade usada pelos pods daemonset Trident</block>
  <block id="2a531c1a1d290bb0e5f5a511bb48ad45" category="admonition">A porta da sonda de disponibilidade/disponibilidade pode ser alterada durante a instalação utilizando o<block ref="d2090696319f15a4c659a414db8cd2cd" prefix=" " category="inline-code"></block> sinalizador. É importante garantir que essa porta não esteja sendo usada por outro processo nos nós de trabalho.</block>
  <block id="319c1a7b5479ffa2a028b658ad5b7033" category="inline-link-macro">comandos e opções tridentctl</block>
  <block id="7a72a102c2990b674624e8b6ec834e4d" category="section-title">Quando usar a API REST</block>
  <block id="eee97547fb40d9c4df018377ac6478bb" category="section-title">Usando a API REST</block>
  <block id="8b3c7aa88e751573c842f17535525f19" category="paragraph">A API funciona da seguinte forma:</block>
  <block id="7528035a93ee69cedb1dbddb2f0bfcc8" category="section-title">OBTER</block>
  <block id="943c9b081b44587d874271006286d321" category="list-text"><block ref="22b708d2eccf39e1774f3e179bc6aee0" prefix="" category="inline-code"></block></block>
  <block id="0211fd9d40454137caed274c8b3d6054" category="list-text">Lista todos os objetos desse tipo.</block>
  <block id="a1ed61bb0432fb6b25e4789166744818" category="list-text"><block ref="57e9ee33b6310b193ba789f5dada20cc" prefix="" category="inline-code"></block></block>
  <block id="aa5aa416edde45fdd91bf4eff5a47d7f" category="list-text">Obtém os detalhes do objeto nomeado.</block>
  <block id="a02439ec229d8be0e74b0c1602392310" category="section-title">POST</block>
  <block id="fe25634ce7a9cad53e5d4b1d7a3039a6" category="list-text"><block ref="bb2b5a5fa2bc8d2525063f1afa7571a5" prefix="" category="inline-code"></block></block>
  <block id="777bb10b09d21c1e8001a8a8aa5767d8" category="list-text">Cria um objeto do tipo especificado.</block>
  <block id="5b2f45c3d098b61927afda859c9144f8" category="list-text">Se o objeto já existir, o comportamento varia: Os backends atualizam o objeto existente, enquanto todos os outros tipos de objeto falharão a operação.</block>
  <block id="32f68a60cef40faedbc6af20298c1a1e" category="section-title">ELIMINAR</block>
  <block id="7f43e795c3bf1beb79462cd9164057e4" category="list-text"><block ref="051be5ede889caf3958ca683df6f8d5f" prefix="" category="inline-code"></block></block>
  <block id="99e18f16be02084849198b503c3e3c29" category="list-text">Exclui o recurso nomeado.</block>
  <block id="7d4fab76513c90b603a722620cde60fe" category="doc">Opções de linha de comando</block>
  <block id="8db7df66ab1d7ab5f1dc947acdb5fae4" category="section-title">A registar</block>
  <block id="9b9ef5337f7c7fbad5389e8b34d3fb1f" category="list-text"><block ref="9b945915b0cddbee22047fd529d642f6" prefix="" category="inline-code"></block></block>
  <block id="f4078e4654ff3cac1121079492b0c3f4" category="list-text">Ativa a saída de depuração.</block>
  <block id="ca4acdfba197b4053e99386e85bf4cc4" category="list-text"><block ref="818bc08a4822af612b7904cc24a4d3bf" prefix="" category="inline-code"></block></block>
  <block id="5c8767809eb386e1ab0473de8292544f" category="list-text">Define o nível de log (debug, info, warn, error, fatal). O padrão é INFO.</block>
  <block id="4da29764ff4997096420f0ae6861b27c" category="list-text"><block ref="4012723fd7948507761ae4f00f8a6ce5" prefix="" category="inline-code"></block></block>
  <block id="7db7db05fbaa2896d81a59e8f38fc27a" category="list-text">Use essa opção ou<block ref="b88c1426ddf914ab0ed819649aed75fc" prefix=" " category="inline-code"></block> para ativar o suporte do Kubernetes. Isso faz com que o Trident use suas credenciais de conta de serviço do Kubernetes do pod que contêm para entrar em Contato com o servidor de API. Isso só funciona quando o Trident é executado como um pod em um cluster do Kubernetes com contas de serviço ativadas.</block>
  <block id="1d0a1baeeb99a2ab2b62995cd2ca3fc7" category="list-text"><block ref="b9d0a374603a1c8cc2464bf870d134f0" prefix="" category="inline-code"></block></block>
  <block id="c5fd214cdd0d2b3b4272e73b022ba5c2" category="section-title">Docker</block>
  <block id="4248fc4f101e2b3fe6bdb19065701fa5" category="list-text"><block ref="5cc3c48cd4a7b7c28609e7cad16a63c6" prefix="" category="inline-code"></block></block>
  <block id="fc3445d927bff3ae43a549a8e6534c5c" category="list-text">Nome do driver usado ao Registrar o plug-in do Docker. O padrão é<block ref="16dfba14481ba8b67fd1c1d9e0f32d2a" prefix=" " category="inline-code"></block>.</block>
  <block id="fc9918a81547fe43ace70de85a7bebac" category="list-text"><block ref="3c296b703ef0b6971051fafa0adeec00" prefix="" category="inline-code"></block></block>
  <block id="65ec7391e16f9bd6e659149b86819a17" category="list-text">Ouça nesta porta em vez de um soquete de domínio UNIX.</block>
  <block id="9489e1104464d83e0ce20703b6791e94" category="list-text"><block ref="5fe5cde67e990859d4973ee6fedbf6f0" prefix="" category="inline-code"></block></block>
  <block id="edd29d0afafb06480d68d40a7a22ffa5" category="list-text">Obrigatório; você deve especificar esse caminho para um arquivo de configuração de back-end.</block>
  <block id="50780f47f6839d47d60bc4555ee00c3f" category="section-title">DESCANSO</block>
  <block id="668ae2bb5fbfb42f8d89e94482a4de47" category="list-text"><block ref="786783eafb02594c9668a3cbbc65d473" prefix="" category="inline-code"></block></block>
  <block id="46fedf27957de15ad13ad14b25adb901" category="list-text">Especifica o endereço no qual o servidor REST do Trident deve ouvir. O padrão é localhost. Ao ouvir no localhost e executar dentro de um pod Kubernetes, a interface REST não é diretamente acessível de fora do pod. <block ref="dfbd0635d992733a865e819be2cf08be" prefix=" " category="inline-code"></block>Utilize para tornar a INTERFACE REST acessível a partir do endereço IP do pod.</block>
  <block id="99f1d9ee8daaf03f69217b44950e3442" category="list-text"><block ref="ca77c8464c642146b691455db7a16df6" prefix="" category="inline-code"></block></block>
  <block id="33be5112b1ca3c0147264576f7d2e571" category="list-text">Especifica a porta na qual o servidor REST do Trident deve ouvir. O padrão é 8000.</block>
  <block id="a2714fafd1caea03119590a34bc711c6" category="list-text"><block ref="79d400f844e73cb6e88dabddc36edc38" prefix="" category="inline-code"></block></block>
  <block id="14d37f351bc2789fc70a93a3114308f0" category="list-text">Ativa a interface REST. O padrão é verdadeiro.</block>
  <block id="490414e0366b091220802d406e52c076" category="doc">O que há de novo</block>
  <block id="e4c4d344a524d21b898e4d04b6539aa7" category="admonition">O<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> binário para Linux que é fornecido no arquivo zip do instalador é a versão testada e suportada. Esteja ciente de que o<block ref="43b9d8ea18c48c3a64c4e37338fc668f" prefix=" " category="inline-code"></block> binário fornecido na<block ref="1e6add150fa42ebd470891f1547d31f0" prefix=" " category="inline-code"></block> parte do arquivo zip não é testado ou suportado.</block>
  <block id="c1748037d10cffabb8e95e4ccf77c613" category="section-title">Melhorias</block>
  <block id="68fed7a5dad5dbe38e73f242591f9cdc" category="inline-link-macro">Problema nº 341</block>
  <block id="79695bf027de5b53252ad567db19afc0" category="list-text">**IMPORTANTE**: O<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block> parâmetro agora limita os tamanhos de qtree/LUN nos drivers ONTAP Economy. Use o novo <block ref="c8f83e727d4a4255a6485c24776e86bb" prefix=" " category="inline-code"></block> parâmetro para controlar tamanhos de FlexVol nesses drivers. (<block ref="43e193e4ec566def2b1890b13e291e7f" category="inline-link-macro-rx"></block>).</block>
  <block id="f8a74109e040a7d2fe11f386046e7f0f" category="inline-link-macro">Problema nº 883</block>
  <block id="d9b039cc0482c40024b1c3e5b5bfab48" category="list-text">Adicionada capacidade de recuperação automática iSCSI para iniciar varreduras SCSI por ID LUN exato se grupos obsoletos estiverem em uso (<block ref="1db457cca48a821c9957caae88cdf1d0" category="inline-link-macro-rx"></block>).</block>
  <block id="624c548303efc06e3245885cb046ce02" category="list-text">Adicionado suporte para operações de clone de volume e redimensionamento para ser permitido mesmo quando o back-end está no modo suspenso.</block>
  <block id="53e2f13be42e180fc96be9feca214cc0" category="list-text">Adicionado suporte a metadados e nomes de volume personalizados nos back-ends de storage do ONTAP para novos volumes persistentes.</block>
  <block id="f22dddc969b204ba1f08fd5b6dccf9e5" category="list-text">Aprimorado o<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> driver (ANF) para habilitar automaticamente o diretório snapshot por padrão quando as opções de montagem NFS estão definidas para usar a versão 4.x.</block>
  <block id="b480f0e15ab56f178942ac571ef3d0b4" category="list-text">Adicionado suporte de Bottlerocket para volumes NFS.</block>
  <block id="2b1f345aa37d468275a96267dbf3cc86" category="list-text">Adicionado suporte a pré-visualização técnica para o Google Cloud NetApp volumes.</block>
  <block id="e422e290c66eca7f882976f830b781b4" category="list-text">Adicionado suporte para Kubernetes 1,30.</block>
  <block id="d329ee31cea82ba7b18282e9874fd6fb" category="inline-link-macro">Problema nº 849</block>
  <block id="7bdef3d1e5eba62c2c49345689cb034e" category="list-text">Adicionada anotação em PVC<block ref="36720d50814e4335401b2047257bfedf" prefix=" " category="inline-code"></block> para importar dinamicamente volumes LUKS (<block ref="8164e77c784c82617684b3113cbe7b39" category="inline-link-macro-rx"></block>).</block>
  <block id="88cc43db200dd9a0ba8b9f3d2b3494c5" category="list-text">Adição de reconhecimento de topologia para o driver do ANF.</block>
  <block id="bd97885496639b0f4498d4131198ac36" category="list-text">Adicionado suporte para nós do Windows Server 2022.</block>
  <block id="41cf959adc98386b54829d71a6ed5d37" category="section-title">Correções</block>
  <block id="5f9e29078ffd406f09be67dadfa65c81" category="inline-link-macro">Problema nº 892</block>
  <block id="d2e65e05e52ae58b1bc83b9f92667bc4" category="list-text">Corrigido o tridentctl para ignorar mensagens de aviso do Kubernetes (<block ref="74b3b54ef301f7904eaa2691276657ad" category="inline-link-macro-rx"></block>).</block>
  <block id="6d20ebb6924fd1c28927afadfd523477" category="inline-link-macro">Problema nº 887</block>
  <block id="e0d3d678b5ec46031ee8c6afb7413c9e" category="inline-link-macro">Problema[ n.o 885</block>
  <block id="62a3f40ae48e77863d3e5bdef59c1adb" category="list-text">Falha fixa de importação de volume do ANF com NFS v4,1.</block>
  <block id="a4233200da50a08b295311036bb03ac1" category="section-title">Desvalorizações</block>
  <block id="6a89b6f002954f791e28c8dd2f2afcc8" category="section-title">Mudanças em 24,02</block>
  <block id="ad8deb3ead6fe765f774fdb1b4d51494" category="list-text">Adicionado suporte para o Cloud Identity.</block>
  <block id="1ed2e28ed5e329359ed11fa6b3213f12" category="list-text">AKS com ANF - o Azure Workload Identity será usado como identidade de nuvem.</block>
  <block id="685239028773625de0a3fdc18c584dcc" category="list-text">O EKS com FSxN - função do AWS IAM será usado como identidade na nuvem.</block>
  <block id="a78644e58f124252a596fb7bd5a3f0e3" category="inline-link-macro">Problema nº 864</block>
  <block id="45691f8c8852e7e9f8cf8e2ca1fd1a31" category="list-text">Adicionada capacidade de configurar e desativar a recuperação automática iSCSI (<block ref="eebe101dfd60623e764ed89e9c35e13c" category="inline-link-macro-rx"></block>).</block>
  <block id="77a876e8901fcb15dc01c057f3102ab6" category="inline-link-macro">Problema nº 453</block>
  <block id="210645e9f461c75a53d611ad7ca29990" category="list-text">Adicionado suporte para Kubernetes 1,29.</block>
  <block id="40c23d891efbf79122ffcbfdd4e1fc28" category="inline-link-macro">Problema nº 866</block>
  <block id="b39a2f3ca5558cdf70a39aaa44921e02" category="list-text">Mensagens de aviso do ACP fixas, quando o ACP não está ativado (<block ref="8b8bf8931a263b3cadfea0d794486463" category="inline-link-macro-rx"></block>).</block>
  <block id="694637a910367ab017767d1135910517" category="list-text">Adicionado um atraso de 10 segundos antes de executar uma divisão de clones durante a exclusão de snapshot para drivers ONTAP, quando um clone está associado ao snapshot.</block>
  <block id="52a6fa0a11a7afe868a3a84e42cff7a1" category="list-text">Estrutura de atestações in-toto removida dos manifestos de imagem multi-plataforma.</block>
  <block id="1fc7da31107247b07ab3abf335b217de" category="section-title">Mudanças em 23,10</block>
  <block id="2564a762d021b4beae21f01627773c0f" category="inline-link-macro">Problema nº 834</block>
  <block id="e53ddb8a6947ad5b93f8c82a86836f16" category="list-text">Expansão de volume fixa se um novo tamanho solicitado for menor do que o tamanho total do volume para os drivers de armazenamento ONTAP-nas e ONTAP-nas-FlexGroup (<block ref="6140c2bc2ecfc555b47da5841f5fd8ae" category="inline-link-macro-rx"></block>).</block>
  <block id="d52fe9ebb96cf9ce91bf00e0caa773de" category="inline-link-macro">Problema nº 722</block>
  <block id="676394929bfe922b6aff300499cef5a9" category="list-text">Tamanho de volume fixo para exibir somente o tamanho utilizável do volume durante a importação para drivers de armazenamento ONTAP-nas e ONTAP-nas-FlexGroup (<block ref="1ec6a9e212fa13524af3f3c296d6bb72" category="inline-link-macro-rx"></block> ).</block>
  <block id="c2b105e6592336c26afd4f39319a222e" category="list-text">Conversão de nomes FlexVol fixos para ONTAP-nas-Economy.</block>
  <block id="b680f5ddc32b78c78329f3f15a836381" category="paragraph">Adicionado suporte para Kubernetes 1,28.</block>
  <block id="2284dc5d4add6f82e5bc0121aa82a816" category="list-text">Adicionado suporte para o uso de identidades gerenciadas do Azure (AMI) com o driver de armazenamento azure-NetApp-Files.</block>
  <block id="be1e775eed9a7023c7facbd3f3cd32cd" category="list-text">Adicionado suporte para NVMe sobre TCP para o driver ONTAP-SAN.</block>
  <block id="24a3b687404991a8b5d83740bfde9f9c" category="inline-link-macro">Problema nº 558</block>
  <block id="86826a04ec735c436222d55949b27e52" category="list-text">Adicionada capacidade de pausar o provisionamento de um volume quando o back-end é definido como estado suspenso pelo usuário (<block ref="4ad3a18b49b4979346d26b5940c21a0f" category="inline-link-macro-rx"></block>).</block>
  <block id="d4eb6933e70b3c49a70e1d8427489044" category="section-title">Mudanças em 23.07.1</block>
  <block id="63bfc0691d397470e5b0b05f2a9bcbe4" category="inline-link-macro">Problema nº 740</block>
  <block id="06918a8f55f386d79e64a70ca217b501" category="paragraph">*Kubernetes:* exclusão do daemonset fixa para oferecer suporte a atualizações sem inatividade (<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block>).</block>
  <block id="ca6a658f1db1af30f178530c90cbe8fc" category="section-title">Mudanças em 23,07</block>
  <block id="c8af8b49eb3be9ce411280db66de8a12" category="list-text">Atualização do Trident corrigida para ignorar pods antigos presos no estado de terminação (<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block>).</block>
  <block id="cf182305f6f941fa317842399de1ca4a" category="inline-link-macro">Problema nº 795</block>
  <block id="4f2f189f428da83c5c5d7e21123fb37a" category="list-text">Adicionado tolerância à definição "transient-Trident-version-pod" (<block ref="cc0c8d3c31e9e289114ade0ef394e90b" category="inline-link-macro-rx"></block> ).</block>
  <block id="d5d58a85f5f4a2ac889804742dd7cbb0" category="inline-link-macro">Problema nº 816</block>
  <block id="057a4c7c1e2ca8cd3deafe12ee9f2083" category="list-text">Corrigido o erro de manipulação no código do driver de armazenamento (<block ref="9862a2577d865ba18fdd2c972f46545b" category="inline-link-macro-rx"></block>).</block>
  <block id="97327b29ec21422eaecf8ba479782331" category="list-text">Ajuste o tamanho da cota ao usar drivers ONTAP com o uso-REST.</block>
  <block id="4e6566ec95776d26fcd04a8b88c3e2bc" category="list-text">Criação de clone de LUN fixo em ONTAP-san-Economy.</block>
  <block id="dcfc8521cd4d3b29941e756366e00988" category="list-text">Reverter campo de informações de publicação<block ref="380d41b2be72ecdeb109d9d8bf377a97" prefix=" " category="inline-code"></block> de para<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block>; lógica adicionada para preencher e recuperar (em alguns casos)<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block> campo.</block>
  <block id="4f2d668b01cf06eca683c287dd7e5082" category="list-text">Adicionado suporte para importar instantâneos pré-provisionados.</block>
  <block id="c47a181e80e553128675166326adecf7" category="inline-link-macro">Problema nº 817</block>
  <block id="5f595b574bc00c971991f9f665431b60" category="list-text">Implementação minimizada e permissões do daemonset linux (<block ref="aef28cf398bf45d3657483afbc3d3240" category="inline-link-macro-rx"></block>).</block>
  <block id="62dcabbe3f6dc07f213482f5acada256" category="list-text">Não é mais relatar o campo de estado para volumes e instantâneos "online".</block>
  <block id="4ff2bb4ecc0b6d51be0477f9d63d5273" category="inline-link-macro">Problemas nº 801</block>
  <block id="9fde208cd399f14480a57fc99b20d291" category="inline-link-macro">Nº 543</block>
  <block id="0696447eb82cdf62dcb8b6c916f35746" category="list-text">Atualiza o estado de back-end se o back-end do ONTAP estiver off-line (<block ref="961e04dd6eabff35abb325a6607994ca" category="inline-link-macro-rx"></block>, <block ref="fc57c79b0b6691b508ed06011d9f5581" category="inline-link-macro-rx"></block>).</block>
  <block id="277ca88d500a9627118781ff85088e70" category="list-text">O número de série LUN é sempre recuperado e publicado durante o fluxo de trabalho ControllerVolumePublish.</block>
  <block id="810ba7b767989fc4c733ae7e9e3460cd" category="list-text">Adicionada lógica adicional para verificar o número de série e o tamanho do dispositivo multipath iSCSI.</block>
  <block id="76ba5d25ded4cc29f1dbfeb16ad652f4" category="list-text">Verificação adicional para volumes iSCSI para garantir que o dispositivo multipath correto seja desorganizado.</block>
  <block id="3f46c22d346dcb4ef51b664a9e105030" category="section-title">Aperfeiçoamento experimental</block>
  <block id="866a2a7036f4701ef7fe25f161516e81" category="paragraph">Adicionado suporte de visualização técnica para NVMe sobre TCP para o driver ONTAP-SAN.</block>
  <block id="5b6cf869265c13af8566f192b4ab3d2a" category="section-title">Documentação</block>
  <block id="8e2ae59abc43c08fd49c55abd4da0925" category="paragraph">Muitas melhorias organizacionais e de formatação foram feitas.</block>
  <block id="fbfae4e9fcac672dd7f5304651cd7713" category="list-text">Suporte removido para instantâneos v1beta1.</block>
  <block id="662d0c4b0dab9a3aa7e86162000ad383" category="list-text">Suporte removido para volumes pré-CSI e classes de armazenamento.</block>
  <block id="8c20e8f4703bb12917ce6ae87f5c65a1" category="list-text">Mínimo atualizado com suporte de Kubernetes para 1,22.</block>
  <block id="30e50aa1d9f8718f34cb0ecbef4ec9ea" category="section-title">Mudanças em 23,04</block>
  <block id="3317f97754f7308b6a0e2a12c0241d39" category="admonition">Forçar a desagregação de volume para volumes ONTAP-SAN-* é compatível apenas com versões Kubernetes com o recurso desativação de nó não-gracioso ativado. Forçar a desligação deve ser ativada no momento da instalação utilizando o<block ref="d75e90115a6343745df96039920422fc" prefix=" " category="inline-code"></block> sinalizador do instalador do Trident.</block>
  <block id="19466ff921af5aa01da62b42cdaaf617" category="list-text">Operador Trident fixo para usar localhost IPv6 para instalação quando especificado na especificação.</block>
  <block id="5b313836498a7a26e99e4f084ee1baec" category="inline-link-macro">Problema nº 799</block>
  <block id="8743cc1328bba53ea356fd3e593a3f9c" category="list-text">Permissões de função de cluster do operador do Trident fixas para serem sincronizadas com as permissões do pacote (<block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>).</block>
  <block id="3a35c66b59df0fa02e2490983b964261" category="list-text">Corrigido o problema com a inclusão de volume de bloco bruto em vários nós no modo RWX.</block>
  <block id="21b2b5bca26be7b23af4468b85c68b34" category="list-text">Suporte fixo à clonagem de FlexGroup e importação de volume para volumes SMB.</block>
  <block id="c16e7ed05955f3a772cc5e37988626a6" category="inline-link-macro">Problema nº 811</block>
  <block id="c8b742414af3be73bd16e0c1ed978ae5" category="list-text">Corrigido o problema em que o controlador Trident não podia desligar imediatamente (<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>).</block>
  <block id="e82b00f6dda8d75f6267522d6e8e21b3" category="list-text">Correção adicionada para listar todos os nomes do grupo igrop associados a um LUN especificado provisionado com drivers ONTAP-San-*.</block>
  <block id="97848233b9fe6ae43be1728a4e603020" category="list-text">Adicionada uma correção para permitir que processos externos sejam executados até a conclusão.</block>
  <block id="3f32e3199847516d3773942171a3320e" category="inline-link-macro">Problema nº 537</block>
  <block id="8ac5248178b612abfaaec81ca7b06c94" category="list-text">Corrigido erro de compilação para a arquitetura s390 (<block ref="a2e3737cce03fa6e94f8357a427b1da2" category="inline-link-macro-rx"></block> ).</block>
  <block id="70d039054d2873e8b0f28587cb19086a" category="inline-link-macro">Problema nº 781</block>
  <block id="48b91d8b8b87d6d8c95cbc34bbae12e7" category="list-text">Corrigido o nível de registo incorreto durante as operações de montagem de volume (<block ref="8bb65f034421623db4038f879681c20b" category="inline-link-macro-rx"></block>).</block>
  <block id="6c85ef6d99d7dc6999989d8228ad56d9" category="inline-link-macro">Problema nº 802</block>
  <block id="6edadfcf2d991f369cdf934677bb161a" category="list-text">Corrigido erro de afirmação de tipo potencial (<block ref="e6bc1d779eb6c87e7246c3841e50b482" category="inline-link-macro-rx"></block> ).</block>
  <block id="bc5611c731b034c5f323419d0258aa44" category="list-text">Kubernetes:</block>
  <block id="afcf8fa41398f15ad38c5874372e9b4c" category="list-text">Adicionado suporte para Kubernetes 1,27.</block>
  <block id="67db0e94c8905c93eda71f86cb532e07" category="list-text">Adicionado suporte para importar volumes LUKS.</block>
  <block id="6de845032edacfacdf7599428fce6ce3" category="list-text">Adicionado suporte para o modo de acesso ao PVC ReadWriteOncePod.</block>
  <block id="9297bb6ec4e523b7875643c53cc9f528" category="list-text">Adicionado suporte para Force Detach para volumes ONTAP-SAN-* durante cenários de encerramento de nó não gracioso.</block>
  <block id="bf75c88234d165d6aa37891adda4465a" category="inline-link-macro">Problema nº 758</block>
  <block id="8ba74f6fd31160a630f1dc4eeb7d2e20" category="list-text">Todos os volumes ONTAP-SAN-* agora usarão grupos por nó. Os LUNs só serão mapeados para os grupos enquanto forem publicados ativamente nesses nós para melhorar a nossa postura de segurança. Os volumes existentes serão oportunisticamente comutados para o novo esquema de grupos quando o Trident determinar que é seguro fazê-lo sem afetar cargas de trabalho ativas (<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block> ).</block>
  <block id="79e79d7d8fe825308bd0e601daaa1131" category="list-text">Melhor segurança do Trident ao limpar grupos não utilizados gerenciados pelo Trident dos backends ONTAP-SAN-*.</block>
  <block id="18596399dedf47a387f514e9c9862876" category="list-text">Adicionado suporte para volumes SMB com o Amazon FSX para os drivers de armazenamento ONTAP-nas-Economy e ONTAP-nas-FlexGroup.</block>
  <block id="42bbebea36c49138518f54240583f571" category="list-text">Adicionado suporte para compartilhamentos SMB com os drivers de storage ONTAP-nas, ONTAP-nas-Economy e ONTAP-nas-FlexGroup.</block>
  <block id="4332590e7a6bcbdc2a06dc0e18c0731b" category="inline-link-macro">Problema nº 732</block>
  <block id="5a8fc8277a0f6ed003c225aa1e7c48b6" category="list-text">Adicionado suporte para arm64 nós (<block ref="c2778c70230759cdeecc0357ca334a05" category="inline-link-macro-rx"></block> ).</block>
  <block id="69ef45b431e1a60332ee3ce7e1a67645" category="list-text">Procedimento de encerramento aprimorado do Trident desativando primeiro os servidores API (<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>).</block>
  <block id="be70537c794b0fc1d909e1bf6ffbbc59" category="list-text">Adicionado suporte de compilação entre plataformas para Windows e hosts arm64 para Makefile; veja BUILD.md.</block>
  <block id="6f03549bdf867b6dbabec83da444ffcf" category="paragraph">**Kubernetes: Os grupos com escopo de back-end** não serão mais criados ao configurar drivers ONTAP-san e ONTAP-san-Economy (<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>).</block>
  <block id="7558c614baceb6010756b848dd26325e" category="section-title">Mudanças em 23.01.1</block>
  <block id="b2fc842cefdc715af09b8d184e09db56" category="list-text">Permissões fixas da função de cluster do operador do Trident para estar em sincronia com as permissões do pacote <block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>.</block>
  <block id="190a9f9a8311c8a23bff1fd7a5693342" category="section-title">Mudanças em 23,01</block>
  <block id="1a87abd79c966e67f73bbe738ffa4e59" category="inline-link-macro">Problemas nº 783, nº 794</block>
  <block id="3e45ffbc961fc6c429b6e91f16331ee5" category="list-text">Kubernetes: Adicionadas opções para excluir a criação da Diretiva de Segurança do Pod para corrigir instalações do Trident via Helm (<block ref="f91cf268a0811064670bc9d51a6e2016" category="inline-link-macro-rx"></block>).</block>
  <block id="a47f012619aa18f9e2c0fbb53d5878d9" category="list-text">Adicionado suporte para Kubernetes 1,26.</block>
  <block id="d87b63603588c1795f58658ee14e505f" category="inline-link-macro">Problema nº 757</block>
  <block id="8e3bb4ae68afca021f39502f7954a450" category="list-text">Utilização geral aprimorada de recursos RBAC do Trident (<block ref="92a5fe29b2be509e7db5f2091f236ee0" category="inline-link-macro-rx"></block>).</block>
  <block id="2508a7d2b2da760ab909b40a284aff9f" category="list-text">Automação adicionada para detetar e corrigir sessões iSCSI quebradas ou obsoletas em nós de host.</block>
  <block id="80a9d5ab26eec41d6d6967415e991c91" category="list-text">Adicionado suporte para expandir volumes criptografados LUKS.</block>
  <block id="1e209dc1ac5964d0a9b1f9c2e9f2fc83" category="list-text">Kubernetes: Suporte à rotação de credenciais adicionado para volumes criptografados LUKS.</block>
  <block id="8ce5e316405255bac435287fc5b61f0e" category="list-text">Adicionado suporte para permissões NTFS ao usar volumes SMB.</block>
  <block id="e67f9f12d1f7c510d94da478c87b7d19" category="list-text">Adicionado suporte a pools de storage para volumes do GCP com nível de serviço CVS.</block>
  <block id="493569102442ea9186ac1061bb527388" category="list-text">Adicionado suporte para uso opcional do flexgroupAggregateList ao criar FlexGroups com o driver de armazenamento ONTAP-nas-FlexGroup.</block>
  <block id="c26c6c796afe3b5c10e0c830715daf3a" category="list-text">Atualizações de dataLIF habilitadas para todos os drivers de storage nas do ONTAP.</block>
  <block id="56f71deb4744b8ffc7a92bde36d3f4d4" category="list-text">Atualização da convenção de nomenclatura Trident Deployment e DaemonSet para refletir o sistema operacional do nó host.</block>
  <block id="6ea33f83a7d973b1fa7de807364662d4" category="list-text">Kubernetes: Mínimo atualizado com suporte de Kubernetes para 1,21.</block>
  <block id="562840ed450b90bfe87c70479237a8da" category="section-title">Mudanças em 22,10</block>
  <block id="84ec6afbbe3e33afb3eba2b0375718b1" category="inline-link-macro">Problema nº 759</block>
  <block id="e07bc583b0f70b05fdbb1008303e8f85" category="list-text">Corrigido um problema específico para o back-end do ONTAP criado usando<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block> campo que não aparece on-line durante a atualização do 22.07.0 (<block ref="294e408500bc8358b70c680986c23bdb" category="inline-link-macro-rx"></block> ).</block>
  <block id="958424a347179b6856de7610a2b99b8d" category="inline-link-macro">Problema nº 548</block>
  <block id="9663034bca37c0603d813726d885503d" category="inline-link-macro">Problema nº 760</block>
  <block id="26d08c0516dec92a4420f06d4da4fcf1" category="list-text">**Docker:** corrigiu um problema que fazia com que o plugin de volume do Docker não iniciasse em alguns ambientes (<block ref="78b7b57a86c570439562f2c638103de5" category="inline-link-macro-rx"></block> e <block ref="968dd574470c019c42c32878b5799fe9" category="inline-link-macro-rx"></block>).</block>
  <block id="8f9d66f5cbbd4fc027dbd00d46032c8e" category="list-text">Corrigido problema de desempenho em que verificações desnecessárias para iSCSI LUNs aconteceram ao anexar um volume.</block>
  <block id="08e9e62a917aaf944b6ff85929a9f1dd" category="list-text">Corrigido o problema em que um erro foi retornado ao lavar um dispositivo iSCSI quando o dispositivo multipath correspondente já estava lavado.</block>
  <block id="98f7f8fbd26f9272ad6a29f2fb6c930b" category="list-text">Adicionado um ServiceAccount separado, ClusterRole e ClusterRoleBinding para a implantação do Trident e DaemonSet para permitir melhorias futuras de permissões.</block>
  <block id="609df46dff884c3eec4386eb8db4e358" category="inline-link-macro">compartilhamento de volume entre namespace</block>
  <block id="d041a310ba7cc2599250e64801594107" category="list-text">Adicionado suporte para <block ref="ca184a2eda203b6d98158bdf24e5cf7d" category="inline-link-macro-rx"></block>.</block>
  <block id="09065204259df86d4fe38c35ea23f5af" category="list-text">Todos os drivers de storage Trident<block ref="aa44e980d222d5134b5e0d8a062e1543" prefix=" " category="inline-code"></block> agora funcionam com a API REST do ONTAP.</block>
  <block id="8485ea08789af7b6b7b44e024b526f9b" category="list-text">Adicionado novo operador yaml <block ref="5a02ebff4889c2de0379a0fb10bed282" prefix="(" category="inline-code"></block>) sem um<block ref="316707d12484dd3afede08839dee49bc" prefix=" " category="inline-code"></block> para oferecer suporte ao Kubernetes 1,25.</block>
  <block id="26e871bef43095263845143b043aee4f" category="inline-link-macro">Suporte para volumes criptografados com LUKS</block>
  <block id="816cf1fb2aa5f808ab09b4740f8ec199" category="list-text">Adicionado <block ref="d387032e9d71b36f3d6219f60f33a659" category="inline-link-macro-rx"></block> para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> drivers de armazenamento.</block>
  <block id="30b044636a9c63ab4b202192eec30c1c" category="list-text">Adicionado suporte para nós do Windows Server 2019.</block>
  <block id="38b9dc57f44121e6d970b34eede9ad0d" category="inline-link-macro">Suporte para volumes SMB em nós do Windows</block>
  <block id="adbfe36f6399f2846983b2901604a962" category="list-text">Adicionado <block ref="40be42d37bc6014716dcd0a1d368ffb5" category="inline-link-macro-rx"></block> através do<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> driver de armazenamento.</block>
  <block id="66f2c42a4ca561f5472459301bc7d096" category="list-text">A deteção automática de comutação MetroCluster para controladores ONTAP está agora disponível em geral.</block>
  <block id="af8a9d07c7391207db96957ab59cb459" category="list-text">**Kubernetes:** atualizado com o mínimo de Kubernetes compatível para 1,20.</block>
  <block id="d667cfc8e8d6ec0c2352fe97b0f09e40" category="list-text">Driver do Astra Data Store (ADS) removido.</block>
  <block id="9b363ea2db99fe0dc5e9b43f47a37f20" category="list-text">Removido o suporte<block ref="a6105c0a611b41b08f1209506350279e" prefix=" " category="inline-code"></block> e<block ref="8c319f28d81d1527a9428e9a5c2195f5" prefix=" " category="inline-code"></block> as opções para<block ref="19b30dc119e514235b739e076be9b3cc" prefix=" " category="inline-code"></block> quando configurar multipathing de nó de trabalho para iSCSI.</block>
  <block id="1407cfeeb5e3916e1435ddea0f1c0a28" category="section-title">Mudanças em 22,07</block>
  <block id="05759468b045fc55d22e8e6881dca01f" category="paragraph">**Kubernetes**</block>
  <block id="a885c202ff7951e3ed11491edbe869b2" category="inline-link-macro">GitHub Edição nº 700</block>
  <block id="b649490c5687c23484f5e4043e17b9c5" category="list-text">Corrigido problema para lidar com valores booleanos e numéricos para o seletor de nó ao configurar o Trident com Helm ou o Operador Trident. (<block ref="4be853b49b0a07556a73959d38037d90" category="inline-link-macro-rx"></block>)</block>
  <block id="0ae28ee1c5edfd4bee3e296a8261ed8b" category="inline-link-macro">GitHub Edição nº 736</block>
  <block id="69ce5488c3078e15fc6e51116d1d17ba" category="list-text">Corrigido problema no tratamento de erros do caminho não-CHAP, de modo que kubelet irá tentar novamente se falhar. <block ref="a21b5d75e3a2341288a5ed769d7d4ca2" category="inline-link-macro-rx"></block>)</block>
  <block id="701ba87ab75dde70f4604769defc7d00" category="list-text">Transição do k8s.gcr.io para o registry.k8s.io como Registro padrão para imagens CSI</block>
  <block id="90e3cd7cff1c9f6f4b8d2a509b127d44" category="list-text">Incluído um ResourceQuota com instalações Trident para garantir que o Trident DaemonSet seja programado quando o consumo de PriorityClass é limitado por padrão.</block>
  <block id="838a6d7e89b7c366cfc25d3b2115b901" category="inline-link-macro">GitHub Edição nº 717</block>
  <block id="5ab207578468b7bbc201024492654253" category="list-text">Adicionado suporte para recursos de rede ao driver Azure NetApp Files. (<block ref="e0e89f8bd936a5eb3adce74cac88eab0" category="inline-link-macro-rx"></block>)</block>
  <block id="cab6f6f91105d87aa3f65650df43c553" category="inline-link-macro">GitHub Edição nº 228</block>
  <block id="00ea108f36897d9ed3523b970b09e6ea" category="list-text">Adicionada deteção automática de comutação MetroCluster de pré-visualização técnica aos drivers ONTAP. (<block ref="0c9c84232975bfb33d3481050e5ef924" category="inline-link-macro-rx"></block>)</block>
  <block id="0b4fe975279063a2d1790cd061a8b8d1" category="list-text">**Kubernetes:** atualizado com o mínimo de Kubernetes compatível para 1,19.</block>
  <block id="108e9d089b04380952a04c1021cdad80" category="list-text">A configuração de backend não permite mais vários tipos de autenticação em uma única configuração.</block>
  <block id="3f39a3207529d5f8129199a33e60ef87" category="section-title">Remoções</block>
  <block id="de278730ee66ed696db3f71d20aa30a5" category="list-text">O driver do AWS CVS (obsoleto desde 22,04) foi removido.</block>
  <block id="16cbbf51150ac75556b3850ff4a5a013" category="list-text">Removido recurso SYS_ADMIN desnecessário dos pods de nós.</block>
  <block id="9f0be62f4bbebd42af8782e0151af649" category="list-text">Reduz o nodeprep para informações simples de host e descoberta de serviço ativo para confirmar o melhor esforço de que os serviços NFS/iSCSI estão disponíveis nos nós de trabalho.</block>
  <block id="d3889fc650fa47326b5f1d0c56f50970" category="inline-link-macro">Padrões de segurança do pod</block>
  <block id="278dc4a29aa2b881b9dc4b45a82929c5" category="section-title">Mudanças em 22,04</block>
  <block id="7072ec708b0ea7e3243747d8b79c0d20" category="admonition">Se você estiver atualizando de qualquer versão anterior do Trident e usar o Azure NetApp Files, o <block ref="d5189de027922f81005951e6efe0efd5" prefix="" category="inline-code"></block> parâmetro config agora é um campo único obrigatório.</block>
  <block id="cb60f101c87f3def78d0fef168389244" category="inline-link-macro">GitHub Edição nº 681</block>
  <block id="2901fba3b85d37ea6000d90e72366ba6" category="list-text">Análise melhorada de nomes de iniciadores iSCSI. (<block ref="3947f141b94c1867221790f45a6ee173" category="inline-link-macro-rx"></block>)</block>
  <block id="8804e61e26be921d78a1632ad8607a4c" category="inline-link-macro">GitHub Edição nº 598</block>
  <block id="d0aad022e470a22fe71fa5616ce002f8" category="list-text">Corrigido problema em que os parâmetros da classe de armazenamento CSI não eram permitidos. (<block ref="032ea6b8f2fceffcd025bdcae99652ae" category="inline-link-macro-rx"></block>)</block>
  <block id="34fb36c5e51f4530848bc5114cf29aa7" category="inline-link-macro">GitHub Edição nº 671</block>
  <block id="951995417edc5c2968955384b925b27e" category="list-text">Declaração de chave duplicada corrigida no CRD Trident. (<block ref="6e73ffca3c5d1dc68cd639612845812c" category="inline-link-macro-rx"></block>)</block>
  <block id="55cd7443e4a1278a57f612df28b8eee3" category="inline-link-macro">GitHub Edição nº 629</block>
  <block id="ec74c645b7b5f9d3051f68de156927d9" category="list-text">Corrigidos registos de instantâneos do CSI imprecisos. (<block ref="9b20149e8d36c115b9349e728abebd54" category="inline-link-macro-rx"></block> ))</block>
  <block id="a98b2ebbcbb381d3abc81e2ecfb2054c" category="inline-link-macro">GitHub Edição nº 691</block>
  <block id="28341d7630f486a1b72b5b97d39ce589" category="list-text">Corrigido o problema com a remoção de volumes em nós excluídos. (<block ref="439c8b5253b3b0fa8d2ddb79f44cd784" category="inline-link-macro-rx"></block>)</block>
  <block id="fbb82269f3871bc5751dda6ade9cd9ea" category="inline-link-macro">GitHub Edição nº 656</block>
  <block id="e02171b3da303c0d6b9bd3102650bb07" category="list-text">Adição de manipulação de inconsistências de sistema de arquivos em dispositivos de bloco. (<block ref="b6c419ed0f79d6957e3796ca0e0742cb" category="inline-link-macro-rx"></block>)</block>
  <block id="1bae87f1c9d9a094dce218672331de02" category="inline-link-macro">GitHub Edição nº 715</block>
  <block id="4aeb6a7748e689a0ce92c16344bb6285" category="list-text">Corrigido problema ao puxar imagens de suporte automático ao definir o<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block> sinalizador durante a instalação. (<block ref="5f789d3f3d58c42cfbeb0b6394bac993" category="inline-link-macro-rx"></block>)</block>
  <block id="302e5f91d375f03821f8fd6340563539" category="list-text">Corrigido o problema em que o driver Azure NetApp Files não conseguiu clonar um volume com várias regras de exportação.</block>
  <block id="70703300e76c51632e4ea22ce53c74af" category="inline-link-macro">GitHub Edição nº 698</block>
  <block id="99df1eeec5b67fac5a47fb610c720712" category="list-text">As conexões de entrada para os endpoints seguros da Trident agora exigem um mínimo de TLS 1,3. (<block ref="5ab4d3faf45db0d93ac1a5f7438f1c62" category="inline-link-macro-rx"></block>)</block>
  <block id="723b30bcece2d0d47914a6eaf0c550cc" category="list-text">O Trident agora adiciona cabeçalhos HSTS às respostas de seus endpoints seguros.</block>
  <block id="621b9733ee07089711b96dd6b0b7861a" category="list-text">O Trident agora tenta ativar o recurso de permissões unix do Azure NetApp Files automaticamente.</block>
  <block id="3786cba0bc294f586b13783c69b08371" category="inline-link-macro">GitHub Edição nº 694</block>
  <block id="c0f60be70f5b8a5bc6c7c8071f4481fb" category="list-text">*Kubernetes*: O daemonset do Trident agora é executado na classe de prioridade crítica do nó do sistema. (<block ref="b04869f92878b510e393bc41361c825d" category="inline-link-macro-rx"></block>)</block>
  <block id="3d0d8392962843a02a6fa979f76b5a91" category="paragraph">O driver da série e (desativado desde 20,07) foi removido.</block>
  <block id="72387bfdb0acfd8a27877f000a3abeac" category="section-title">Mudanças em 22.01.1</block>
  <block id="61465c1d4383dd4afdf168925e15e767" category="list-text">Corrigido o problema com a remoção de volumes em nós excluídos. (<block ref="5fee6ab43e8008edba54375694a29266" category="inline-link-macro-rx"></block>)</block>
  <block id="e50f1057ba4b67b255c98fa09c5ba6f8" category="list-text">Corrigido o pânico ao acessar campos nil para espaço agregado nas respostas da API do ONTAP.</block>
  <block id="135c438d01a49275c458e22005e39c6e" category="section-title">Mudanças em 22.01.0</block>
  <block id="3c72f47eeb46270dd13a77b32ec10dd3" category="list-text">*Kubernetes:* aumente o tempo de repetição do backoff do Registro de nós para clusters grandes.</block>
  <block id="0ef48234390855900384d0bc8a0a8a24" category="list-text">Corrigido problema em que o driver azure-NetApp-Files poderia ser confundido por vários recursos com o mesmo nome.</block>
  <block id="404cef2e43cb97ccef52692419ad6f6b" category="inline-link-macro">GitHub Edição nº 489</block>
  <block id="7213ed07f5b718aa66cfac350f023a77" category="list-text">Corrigido o problema em que a tentativa de importar um volume já importado retorna EOF deixando PVC em estado pendente. (<block ref="b9a2290d6389b9a605883cda4e717749" category="inline-link-macro-rx"></block>)</block>
  <block id="d0aaca968285d0d47ea0c5a0f7b9bab5" category="list-text">Substituído SHA-1 por SHA-256 na criação de certificado SSL.</block>
  <block id="1d61f4e1411b6940bc918fb56346f64d" category="list-text">Driver Azure NetApp Files fixo para permitir nomes de recursos duplicados e limitar as operações a um único local.</block>
  <block id="851679bec9b3e6c8e6284128fb750b1e" category="list-text">Melhorias do Kubernetes:</block>
  <block id="2767b461b2b49786f390c9e0509d2d12" category="list-text">Adicionado suporte para Kubernetes 1,23.</block>
  <block id="7f10502f6f15537f180f07f0c89d2642" category="inline-link-macro">GitHub Edição nº 651</block>
  <block id="2ff7a365e7c341f8f381cd7c2a4e15f6" category="list-text">Adicione opções de agendamento para pods Trident quando instalado via Operador Trident ou Helm. (<block ref="15fbe6dcd60762941b28bc5990803bde" category="inline-link-macro-rx"></block>)</block>
  <block id="90fdd892e78b26eb18a250c9c1bc19ff" category="inline-link-macro">GitHub Edição nº 633</block>
  <block id="3ff8e54aa1f3735deb64771c4c65c420" category="list-text">Permitir volumes entre regiões no driver do GCP. (<block ref="efd445659801b6abfdba2997e23e5f4f" category="inline-link-macro-rx"></block>)</block>
  <block id="fef8c75d6cd00955b0f1c84d40af01aa" category="inline-link-macro">GitHub Edição nº 666</block>
  <block id="409ee85d2342bf416b29a45a7b9c4e59" category="list-text">Adicionado suporte para a opção 'unixPermissions' para volumes Azure NetApp Files. (<block ref="b2ee1a79cce917ad1d60b3bec442914a" category="inline-link-macro-rx"></block>)</block>
  <block id="de6284c149d2e011da3909f1ef2af627" category="paragraph">A interface REST do Trident pode ouvir e servir apenas em endereços 127.0.0.1 ou [::1]</block>
  <block id="58a2e8c17107cc1ca9cb1317cd0c1ee9" category="section-title">Mudanças em 21.10.1</block>
  <block id="cdb544a92bee555749f43046d53ef34e" category="admonition">A versão v21.10.0 tem um problema que pode colocar o controlador Trident em um estado CrashLoopBackOff quando um nó é removido e depois adicionado de volta ao cluster do Kubernetes. Esse problema foi corrigido no v21,10.1 (GitHub Issue 669).</block>
  <block id="cd1bf2431d703fd3c62a278b9c812d56" category="list-text">Condição de corrida potencial fixa ao importar um volume em um back-end CVS do GCP, resultando em falha na importação.</block>
  <block id="8e1e1dad95de3dc781f25f58483acdf3" category="list-text">Corrigido um problema que pode colocar o controlador Trident em um estado CrashLoopBackOff quando um nó é removido e depois adicionado de volta ao cluster do Kubernetes (problema 669 do GitHub).</block>
  <block id="d7c32cb5ff2be4aaff3a8eaea9d18e0d" category="list-text">Corrigido o problema em que os SVMs não eram mais descobertos se nenhum nome SVM foi especificado (problema 612 do GitHub).</block>
  <block id="43e92857220d1a7ea1da88250ea5e2e3" category="section-title">Mudanças em 21.10.0</block>
  <block id="a6e7aa999ba654c6844672ae59f5137a" category="list-text">Corrigido o problema em que clones de volumes XFS não podiam ser montados no mesmo nó que o volume de origem (problema 514 do GitHub).</block>
  <block id="852acc81ea6fa7363b73c5313002de83" category="list-text">Correções relacionadas ao Kubernetes:</block>
  <block id="f94cc5159119c43751041256941deb2c" category="list-text">Retorne o espaço usado de um volume como o mínimo restoresSize ao criar snapshots com<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> (GitHub Issue 645).</block>
  <block id="742ce2e3c9c8496323bd1176af2838a4" category="list-text">Corrigido o problema em que<block ref="c80aaf836310b4d6ad1f810928cbb5d2" prefix=" " category="inline-code"></block> o erro foi registrado após o redimensionamento de volume (GitHub problema 560).</block>
  <block id="9a445ecbad9af70a94bd7558ba95e059" category="list-text">Corrigido o problema em que um pod poderia ficar preso<block ref="720f84c3d4dcb9a556ac6adfd1e75b8c" prefix=" " category="inline-code"></block> no estado (GitHub problema 572).</block>
  <block id="4f81c320a621b8c9d81c7334f2cffc71" category="list-text">Corrigido o caso em que um<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> FlexVol pode estar cheio de LUNs instantâneos (GitHub problema 533).</block>
  <block id="169c3be63dd22b315ed7884e246338de" category="list-text">Corrigido o problema do instalador personalizado YAML com imagem diferente (problema 613 do GitHub).</block>
  <block id="1077a1a91a96498c2f56bc630e632eee" category="list-text">Corrigido cálculo do tamanho do instantâneo (GitHub edição 611).</block>
  <block id="27b76ffa775f907a1fd51f21a669551b" category="list-text">Corrigido o operador do Trident para parar a reconciliação se o servidor da API do Kubernetes não estiver acessível (problema 599 do GitHub).</block>
  <block id="1f9e922b6eff6cb06fca1ed9137eed38" category="list-text">Adicionado suporte à<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block> opção para volumes de performance do GCP-CVS.</block>
  <block id="294b850a76a040c20913e76c2fe6589a" category="list-text">Adicionado suporte para volumes CVS otimizados para escala no GCP na faixa de 600 GiB a 1 TIB.</block>
  <block id="0333eb54465646b87754facff75fdb5f" category="list-text">Aprimoramentos relacionados ao Kubernetes:</block>
  <block id="c32aa411caa1ffd0e30a271f5be834d9" category="list-text">Adicionado suporte para Kubernetes 1,22.</block>
  <block id="fa1fd8841173fa7ccde5059fb7c2f903" category="list-text">Habilitou o operador do Trident e o gráfico Helm para trabalhar com o Kubernetes 1,22 (GitHub Issue 628).</block>
  <block id="dbaa551f190105e514f7816811f4b397" category="list-text">Adicionado a imagem do operador ao<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> comando imagens (GitHub Issue 570).</block>
  <block id="be575f1ff204f2800114965a5c0d8575" category="section-title">Melhorias experimentais</block>
  <block id="29ddf941d9825cc9283521ee90468595" category="list-text">Adicionado suporte para replicação de volume no<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver.</block>
  <block id="e2f2b85987da5e2397c1e342a6fd9e28" category="list-text">Adicionado suporte REST *Tech Preview* para os<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> drivers ,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, e<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> .</block>
  <block id="95dc0391ce7b396d7dd5622284e8fc3e" category="section-title">Problemas conhecidos</block>
  <block id="64a8f71bee95a6635e88bce00f1a2d3c" category="paragraph">Problemas conhecidos identificam problemas que podem impedi-lo de usar o produto com sucesso.</block>
  <block id="6d791d3b45515fd8619e489b938f39e8" category="inline-link">opção de montagem</block>
  <block id="0821431aba133adbfa7fa0ca1781eedd" category="list-text">A ONTAP não pode provisionar simultaneamente mais de um FlexGroup de cada vez, a menos que o conjunto de agregados seja exclusivo para cada solicitação de provisionamento.</block>
  <block id="18c20e5d2e368f36f420dd39019d460f" category="list-text">Se estiver usando<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> o driver com OpenShift 4,5, certifique-se de que os nós de trabalho subjacentes usem MD5 como o algoritmo de autenticação CHAP. Os algoritmos CHAP seguros compatíveis com FIPS SHA1, SHA-256 e SHA3-256 estão disponíveis com o Element 12,7.</block>
  <block id="9c83e144e5481ac6766f4055e566594d" category="section-title">Encontre mais informações</block>
  <block id="f353c2f2ba62c120d68a9fde333ef59f" category="summary">Saiba mais sobre as opções de configuração de back-end NFS e SMB para Azure NetApp Files e reveja exemplos de configuração.</block>
  <block id="17a48ec106d5505e674ccdf56fce1058" category="doc">Exemplos e opções de configuração de back-end do Azure NetApp Files</block>
  <block id="15b7c7ffe264d7b8c61915ff2a6ef96c" category="section-title">Opções de configuração de back-end</block>
  <block id="b9acebca540d60eef74f6ffc3e4aa2e7" category="paragraph">Os backends Azure NetApp Files fornecem essas opções de configuração.</block>
  <block id="40e27006e7b709772172391a3d17b331" category="cell">Sempre 1</block>
  <block id="5aae2c40b50d296edbd4ba9cfb462b49" category="cell">Nome do controlador de armazenamento</block>
  <block id="3e566c45584d66d2ab94c2108f7c3488" category="cell">"ficheiros azure-NetApp"</block>
  <block id="f5b55596d3f53b1857a4980dac9db979" category="cell"><block ref="a3d5885ebdbdbb3f39c48e483cc04978" prefix="" category="inline-code"></block></block>
  <block id="5afd6479855e8d63f324b6ec2fa787b4" category="cell">Nome personalizado ou back-end de storage</block>
  <block id="9dd18f393b35bf22098cf53e9c1c7fa6" category="cell">Nome do condutor e carateres aleatórios</block>
  <block id="665120e71659a6a32f990a3181688d1b" category="cell"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block></block>
  <block id="213e4b0f68f673550c1154cabddf4142" category="cell">O ID de assinatura da sua assinatura do Azure Opcional quando identidades gerenciadas está habilitado em um cluster AKS.</block>
  <block id="e07778d10cef90430253876cba7157e4" category="cell"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block></block>
  <block id="35140a26b22dd9ba254fba38858d8b10" category="cell">O ID do locatário de um Registo de aplicações Opcional quando identidades geridas ou identidade na nuvem são utilizadas num cluster AKS.</block>
  <block id="949ba1045db0d48bd189044e672d8097" category="cell"><block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix="" category="inline-code"></block></block>
  <block id="68aab7c1f293b3f340c21d4598bbf943" category="cell">A ID do cliente de um registo de aplicações opcional quando identidades geridas ou identidade na nuvem são utilizadas num cluster AKS.</block>
  <block id="56ef18e84ab36c2bdc4546e6a2756673" category="cell"><block ref="2b53761249254ce6b502f521e5cc0683" prefix="" category="inline-code"></block></block>
  <block id="6224cbf7bf787bd81b6e12ade1b5069a" category="cell">O segredo do cliente de um Registo de aplicações Opcional quando identidades geridas ou identidade na nuvem são utilizadas num cluster AKS.</block>
  <block id="0322003a3502f221fdb74b059dfff46e" category="cell"><block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix="" category="inline-code"></block></block>
  <block id="1c65f12b4d30114593cc01384938cb5f" category="cell">Um de<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block>,<block ref="8d5e7e72f12067991186cdf3cb7d5d9d" prefix=" " category="inline-code"></block>, ou<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block></block>
  <block id="b21b08bb55acd409e40e9b45edd3bb34" category="cell">"" (aleatório)</block>
  <block id="fc7dd5b65d21ee7272a067c9404a8498" category="cell"><block ref="d5189de027922f81005951e6efe0efd5" prefix="" category="inline-code"></block></block>
  <block id="938c7b48cad00c77e1900399388741e8" category="cell">Nome do local do Azure onde os novos volumes serão criados Opcional quando identidades gerenciadas estiverem ativadas em um cluster AKS.</block>
  <block id="016a4b469916e37291cfe2f7fab49aaf" category="cell"><block ref="6a3560738716ddd805d769d4460ca7aa" prefix="" category="inline-code"></block></block>
  <block id="66d09fbe1165f3d10b368cbe0cc029f4" category="cell">Lista de grupos de recursos para filtragem de recursos descobertos</block>
  <block id="36cbcb8a57112362b05d06b9fe037a6e" category="cell">"[]" (sem filtro)</block>
  <block id="d4b4343f054233d7d339bb1501425fd4" category="cell"><block ref="87d26f327b9deeb6141721bda7f8ca65" prefix="" category="inline-code"></block></block>
  <block id="61476ef20a8015760b9cb3c1bd0ea435" category="cell">Lista de contas do NetApp para filtragem de recursos descobertos</block>
  <block id="722c7b4409fa4d1fe6aaa2902ae66473" category="cell"><block ref="338b00a62e6d8d3234c056bf48b711d0" prefix="" category="inline-code"></block></block>
  <block id="225abbb59bc0bbaa2a5852ada333b31b" category="cell">Lista de pools de capacidade para filtrar recursos descobertos</block>
  <block id="f2a5b99a63a463017b3e5f5848444d9a" category="cell">"[]" (sem filtro, aleatório)</block>
  <block id="32ef1af5ccda7c2f6d85e55f5034f105" category="cell"><block ref="a88edbe6cce8d8f180d87bef83408312" prefix="" category="inline-code"></block></block>
  <block id="10afd0959cfa4a53bce9c8d395c40c48" category="cell">Nome de uma rede virtual com uma sub-rede delegada</block>
  <block id="ec045173f4df65e5e8951c3ca9579945" category="cell"><block ref="4f556606ab1f7cb51dd23811407facbd" prefix="" category="inline-code"></block></block>
  <block id="0b8deda0ecc5080e8c0ed0b475e983ba" category="cell">Nome de uma sub-rede delegada<block ref="0c20a1ae75c1cc4efae31193e0d47718" prefix=" " category="inline-code"></block></block>
  <block id="412427d9207c4cc4b01539aff3c50e7c" category="cell"><block ref="b0fdc9c7b96e4249152c61b506703142" prefix="" category="inline-code"></block></block>
  <block id="55eaeeb515ba1b8a42eb736b0e58f41f" category="cell">Conjunto de recursos VNet para um volume, pode ser<block ref="972e73b7a882d0802a4e3a16946a2f94" prefix=" " category="inline-code"></block> ou<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block>. Os recursos de rede não estão disponíveis em todas as regiões e podem ter que ser ativados em uma assinatura. Especificar <block ref="b0fdc9c7b96e4249152c61b506703142" prefix=" " category="inline-code"></block> quando a funcionalidade não está ativada faz com que o provisionamento de volume falhe.</block>
  <block id="cc3d42de123c784e8d8e3c8404b943be" category="cell">Controle refinado das opções de montagem NFS. Ignorado para volumes SMB. Para montar volumes usando o NFS versão 4,1, inclua <block ref="c72da907ddca73ee114d92e5e098ce0e" prefix=" " category="inline-code"></block>na lista de opções de montagem delimitadas por vírgulas para escolher NFS v4,1. As opções de montagem definidas em uma definição de classe de armazenamento substituem as opções de montagem definidas na configuração de back-end.</block>
  <block id="2d1474e8b52ef42851337fb3fef4e1a1" category="cell">"3"</block>
  <block id="2288620b3dc019c6359bcc7f50b72ab3" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor</block>
  <block id="567c7f0eca746ed7513764be5ecf6d03" category="cell">"" (não aplicado por padrão)</block>
  <block id="f2f2c7c3c767da610bd95934104674f6" category="cell"><block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix="" category="inline-code"></block></block>
  <block id="91b3c29beb3641dce2fcf3d2382fac4f" category="cell">Debug flags para usar ao solucionar problemas. Exemplo,<block ref="533cf7c7aac0ee35b2153c8cf933013b" prefix=" " category="inline-code"></block>. Não use isso a menos que você esteja solucionando problemas e exija um despejo de log detalhado.</block>
  <block id="37a6259cc0c1dae299a7866489dff0bd" category="cell">nulo</block>
  <block id="f0873081464f48da27a1068215270c60" category="cell"><block ref="296026821ada2ab8aebcf13547a63df5" prefix="" category="inline-code"></block></block>
  <block id="c0a4a0396978d1ad8816d2e358a2f05e" category="cell">Configurar a criação de volumes NFS ou SMB. As opções são<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>,<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> ou null. A configuração como null padrão para volumes NFS.</block>
  <block id="71e598dd105d32592243532b55392c55" category="cell"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block></block>
  <block id="4487bf4a5d2565e471a4ac1e0bba9af6" category="cell"><block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix="" category="inline-code"></block></block>
  <block id="3d4635d3cf4f27b0e87f3fe86a84744d" category="inline-link-macro">Use a topologia CSI</block>
  <block id="d9ecfcade7b244fc0100c0ff4359f5ea" category="cell">Representa uma lista de regiões e zonas que são suportadas por este backend. Para obter mais informações, <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="8cacf42dcc11f9e7779267100d4fd305" category="inline-link-macro">Configurar recursos de rede para um volume Azure NetApp Files</block>
  <block id="4ace77649689419cf09eed38ddf4e74c" category="admonition">Para obter mais informações sobre recursos de rede, <block ref="d4c16e3034c39d54544a2d5f2b2953d9" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="d37198994935307f0e4a95505678642e" category="section-title">Permissões e recursos necessários</block>
  <block id="1860dce26ad531b08f4b17950bbda6a7" category="paragraph">Os valores para<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>,<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>,<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block>, ,<block ref="a88edbe6cce8d8f180d87bef83408312" prefix=" " category="inline-code"></block> e<block ref="4f556606ab1f7cb51dd23811407facbd" prefix=" " category="inline-code"></block> podem ser especificados usando nomes curtos ou totalmente qualificados. Nomes totalmente qualificados são recomendados na maioria das situações, pois nomes curtos podem corresponder vários recursos com o mesmo nome.</block>
  <block id="8771cfaef1f991e1642d0a1ece8dcfa3" category="paragraph">Os<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block> valores ,<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>, e<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block> são filtros que restringem o conjunto de recursos descobertos aos disponíveis para esse back-end de armazenamento e podem ser especificados em qualquer combinação. Nomes totalmente qualificados seguem este formato:</block>
  <block id="520d0db389f362bf79ef56ca0af3dcab" category="cell">Formato</block>
  <block id="dde92bca1b59f0db813ef42a2688752e" category="cell">Grupo de recursos</block>
  <block id="671e72ca3ef632233f4c27dfef1ec109" category="cell">&lt;resource group&gt;</block>
  <block id="ac252743de820aac9183d9f76d4bed67" category="cell">Conta NetApp</block>
  <block id="2bf2783c6d0d867a9fe629138b38bd84" category="cell">&lt;resource group&gt;/ cliente NetApp account&gt;</block>
  <block id="9eea1c08013c37f1499f428378764a08" category="cell">Pool de capacidade</block>
  <block id="01c656d6b97f45a90022ee307283ae01" category="cell">&lt;resource group&gt;/ cliente NetApp account&gt;/&lt;capacity pool&gt;</block>
  <block id="bf76cafc47141522dca89c4d6e25b822" category="cell">Rede virtual</block>
  <block id="8c9309282517a29ad09b10443d825c7c" category="cell">&lt;resource group&gt;/&lt;virtual network&gt;</block>
  <block id="9770c6469e9d27585d6c0c389ede7bc3" category="cell">Sub-rede</block>
  <block id="7addf9faaab78a084548d05b695cd2e2" category="cell">&lt;resource group&gt;/&lt;virtual network&gt;/&lt;subnet&gt;</block>
  <block id="be1b9ef68f31ecee991e2282c1f24f0f" category="section-title">Provisionamento de volume</block>
  <block id="6154de53659ccfe0ba0733effdb2da13" category="paragraph">Você pode controlar o provisionamento de volume padrão especificando as seguintes opções em uma seção especial do arquivo de configuração. <block ref="c850cc933797a5d4472ae11f15a5ef5e" category="inline-xref-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="9c64942fe493cb70c474ff447429d8a4" category="cell"><block ref="c72971f17465d2a32345bc872af62a34" prefix="" category="inline-code"></block></block>
  <block id="ea221277b2f168f5e17d112765f4a1c0" category="cell">Regras de exportação para novos volumes. <block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> Deve ser uma lista separada por vírgulas de qualquer combinação de endereços IPv4 ou sub-redes IPv4 na notação CIDR. Ignorado para volumes SMB.</block>
  <block id="1274e36c193ec0ce8b5c49d5e78ffd7b" category="cell">"0,0.0,0/0"</block>
  <block id="08ee53e1d5cefb7967a295e98036598e" category="cell">Controla a visibilidade do diretório .snapshot</block>
  <block id="c07fbc0b2a1a865fe9e3a55c05b4f690" category="cell">"falso"</block>
  <block id="e5ac299cc3b14e1fac29518569ca9bb1" category="cell">O tamanho padrão dos novos volumes</block>
  <block id="ef81b740be2293b7e3c41047afe98764" category="cell">"100G"</block>
  <block id="21590b83460bd480131384ef53bdccc4" category="cell">As permissões unix de novos volumes (4 dígitos octal). Ignorado para volumes SMB.</block>
  <block id="976a6dc52dbcabb541efa0a91e922604" category="cell">"" (recurso de pré-visualização, requer lista branca na assinatura)</block>
  <block id="10c0eb6973453da95b4ef937f19ddb6c" category="section-title">Exemplos de configurações</block>
  <block id="bca36ce39f61ce2d375cbdb66eab5162" category="paragraph">Os exemplos a seguir mostram configurações básicas que deixam a maioria dos parâmetros padrão. Esta é a maneira mais fácil de definir um backend.</block>
  <block id="91644df8bfaf55210374666164ee92c9" category="example-title">Configuração mínima</block>
  <block id="639aa44ce5a6709a5719b427993c9657" category="paragraph">Essa configuração é ideal quando você está apenas começando a usar o Azure NetApp Files e experimentando as coisas, mas na prática você vai querer fornecer um escopo adicional para os volumes provisionados.</block>
  <block id="eea342529fcf22d8fbdaf58545a9c617" category="example-title">Identidades gerenciadas para AKS</block>
  <block id="943aa8ce869cfeaf7f72cc41df7f891c" category="paragraph">Esta configuração de back-end omits ,<block ref="8c443e170595ba0feac007ffb92cb49a" prefix=" " category="inline-code"></block><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>,<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>, e<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>, que são opcionais ao usar identidades gerenciadas.</block>
  <block id="cdc0ef7f865a8837e4fd99ce3898f1d8" category="example-title">Identidade de nuvem para AKS</block>
  <block id="1b6104dea07d224d6a76ba8bd88c586a" category="paragraph">Essa configuração de back-end omits ,<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block><block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>, e<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>, que são opcionais ao usar uma identidade de nuvem.</block>
  <block id="f961873909dcbbea92f3791e505cd3cf" category="example-title">Configuração específica de nível de serviço com filtros de pool de capacidade</block>
  <block id="119dd5a342e981b13bf0024d5c6a6933" category="example-title">Configuração avançada</block>
  <block id="a83f4a534ccef7ac1d209fb0015cd907" category="paragraph">Essa configuração de back-end reduz ainda mais o escopo do posicionamento de volume para uma única sub-rede e também modifica alguns padrões de provisionamento de volume.</block>
  <block id="d61a62faa23948cd42b53cf6de97e445" category="example-title">Configuração do pool virtual</block>
  <block id="baca3a42ff523348689308c7bd411b38" category="paragraph">Essa configuração de back-end define vários pools de storage em um único arquivo. Isso é útil quando você tem vários pools de capacidade com suporte a diferentes níveis de serviço e deseja criar classes de storage no Kubernetes que os representem. Rótulos de pool virtual foram usados para diferenciar os pools com base<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> no .</block>
  <block id="65a6416f3ed9552fcc006c830dbeac72" category="example-title">Configuração de topologias compatíveis</block>
  <block id="857fa84eb2e850753da87c8599addab3" category="section-title">Definições de classe de armazenamento</block>
  <block id="cad675ae3fb846705512fe460e615ac3" category="paragraph">As definições a seguir<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> referem-se aos pools de armazenamento acima.</block>
  <block id="260817022a7340fc89eae3e7dbed8f6a" category="section-title">Exemplos de definições usando<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> campo</block>
  <block id="1abbfd87ab307af55b755fd27ce60191" category="paragraph">Usando<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> você pode especificar para cada<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> pool virtual que é usado para hospedar um volume. O volume terá os aspetos definidos no pool escolhido.</block>
  <block id="4b7db799aa8307d15835ff36beb1b97c" category="section-title">Definições de exemplo para volumes SMB</block>
  <block id="82b60bb483328d8efe9240dc8aa4a600" category="paragraph">Usando<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>,<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block> e <block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>, você pode especificar um volume SMB e fornecer as credenciais necessárias do ative Directory.</block>
  <block id="67c909cf936115be1012171c5c38b8cf" category="example-title">Configuração básica no namespace padrão</block>
  <block id="17903b7c199529a65f8f0b36aa084d2e" category="example-title">Usando diferentes segredos por namespace</block>
  <block id="6cb4c0cee2d8e6992a3a10d346015761" category="example-title">Usando diferentes segredos por volume</block>
  <block id="5c766f1444b8b25e9f55f0dc6400b77e" category="admonition"><block ref="1023eff0970e3a4277fcde214fad86ef" prefix="" category="inline-code"></block> Filtros para pools compatíveis com volumes SMB.<block ref="d71f62a5b903ebd8681263d310db1d6d" prefix=" " category="inline-code"></block> Ou<block ref="9c8ff3d34f58e4965d72fb9c8a993707" prefix=" " category="inline-code"></block> filtros para NFS Pools.</block>
  <block id="c51cc3b801a879870aea846bdde1c7a3" category="section-title">Crie o backend</block>
  <block id="3ad256eea0abb551eaab63c84aa3d1f9" category="paragraph">Depois de criar o arquivo de configuração de back-end, execute o seguinte comando:</block>
  <block id="a61ed3c1ecae587dbee1f2c0ace81e3b" category="paragraph">Se a criação do backend falhar, algo está errado com a configuração do backend. Você pode exibir os logs para determinar a causa executando o seguinte comando:</block>
  <block id="8427b84145b88f048d5caa532324cd11" category="paragraph">Depois de identificar e corrigir o problema com o arquivo de configuração, você pode executar o comando create novamente.</block>
  <block id="d2aae26c4b1e25027872b1df4cee2081" category="summary">Antes de configurar o back-end do Azure NetApp Files, você precisa garantir que os seguintes requisitos sejam atendidos.</block>
  <block id="aec47cf6a0cb83824b504b756eb4b71c" category="doc">Prepare-se para configurar um back-end do Azure NetApp Files</block>
  <block id="84444089b52eed627a838de74ae8d652" category="section-title">Pré-requisitos para volumes NFS e SMB</block>
  <block id="97d64245613ba751b698ce77fd51779a" category="inline-link">Azure: Configure o Azure NetApp Files e crie um volume NFS</block>
  <block id="d90582d42d65d5af05c3d40ad0eb4987" category="paragraph">Se você estiver usando o Azure NetApp Files pela primeira vez ou em um novo local, será necessária alguma configuração inicial para configurar o Azure NetApp Files e criar um volume NFS. Consulte a<block ref="b6e93c3bfc36cf835c63e42e55586d97" category="inline-link-rx"></block>.</block>
  <block id="07e7004c50a67a3e4e366b4ca1c28e3d" category="paragraph">Para configurar e usar um<block ref="24a785881ff1cdf191a2239811dc9597" category="inline-link-rx"></block> back-end, você precisa do seguinte:</block>
  <block id="4e92a2addd95bd2076226bce70449f6d" category="list-text"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>, ,<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>, ,<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> E<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> são opcionais ao usar identidades gerenciadas em um cluster AKS.</block>
  <block id="5c0a5e9c97099065874a650cf8c67a66" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block><block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>, , E<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> são opcionais ao usar uma identidade de nuvem em um cluster AKS.</block>
  <block id="99c7065ab76131a7b7763287bb5b6735" category="inline-link-macro">Microsoft: Crie um pool de capacidade para o Azure NetApp Files</block>
  <block id="ee59ecaa79882c8dc8f7f897c113094a" category="list-text">Um pool de capacidade. <block ref="96caced282b604468ab13f86483cd9f6" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="7ed0731ff411d37210b51a78b95c1fc3" category="inline-link-macro">Microsoft: Delegar uma sub-rede ao Azure NetApp Files</block>
  <block id="c896cfae248dc2b000cc04c39d8a8de6" category="list-text">Uma sub-rede delegada ao Azure NetApp Files. <block ref="795b5e8f62d2267a0996a3b260968048" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="66d640a9a050b05e6a914cbcd88a1e2e" category="list-text"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block> A partir de uma subscrição do Azure com o Azure NetApp Files ativado.</block>
  <block id="b12fb354025b3dfa01277964eb72c060" category="inline-link-macro">Registo da aplicação</block>
  <block id="caa7dc98c21b44b17c214508b9b0fa3c" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block>,<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block> E<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> de um <block ref="63405c89f422580946169fa59c41e7ae" category="inline-link-macro-rx"></block> no Azure ative Directory com permissões suficientes para o serviço Azure NetApp Files. O Registro de aplicativos deve usar:</block>
  <block id="ee495045d2c4c5131217a0248a404b4d" category="inline-link-macro">Pré-definido pelo Azure</block>
  <block id="856955b6cbc3fe2168b2dcd43fb0a5dd" category="list-text">A função proprietário ou Colaborador <block ref="76b3209c91e1786a477c35a6e91cf55f" category="inline-link-macro-rx"></block>.</block>
  <block id="2fbc632d5939633cc9c3b254d116080f" category="inline-link-macro">Função de Colaborador personalizada</block>
  <block id="b0ee19cc46a4fb3df97c1c676c0a5d57" category="inline-link-macro">Atribua a função usando o portal do Azure</block>
  <block id="28389c00d52ebc3b9610c591613894a1" category="example-title">Função de colaborador personalizada</block>
  <block id="f494e4df0fff53e809d6563f8ec1782f" category="inline-link">sub-rede delegada</block>
  <block id="9837781971083d3fe119b0217014d301" category="list-text">O Azure<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> que contém pelo menos um<block ref="c5f14b2142014dc234282a513132bad4" category="inline-link-rx"></block>. A partir do Trident 22,01, o<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> parâmetro é um campo obrigatório no nível superior do arquivo de configuração de back-end. Os valores de localização especificados em pools virtuais são ignorados.</block>
  <block id="30cce5213fe0e4b50d664920d7075cdf" category="inline-link">identidade gerenciada atribuída pelo usuário</block>
  <block id="345615c7e1785c38b1b2d2aadeef42bb" category="list-text">Para usar<block ref="12e3f82975710931e07ec1b3138bd8bf" prefix=" " category="inline-code"></block>o , obtenha o<block ref="032e8204d9a4acfa22151783caa18894" prefix=" " category="inline-code"></block> de a<block ref="f857b557e72afd63cd1e3ca2faab2a5b" category="inline-link-rx"></block> e especifique esse ID no<block ref="ab6b275be02c02a9982cb7a0c234629e" prefix=" " category="inline-code"></block>.</block>
  <block id="77a4a369d552f7d3be163bda86f9113f" category="section-title">Requisitos adicionais para volumes SMB</block>
  <block id="227e516e7258b6dcab3e7bcb4148f7f1" category="paragraph">Para criar um volume SMB, você deve ter:</block>
  <block id="d8c74c31c4550aed073521ba0fb8984a" category="inline-link-macro">Microsoft: Crie e gerencie conexões do ative Directory para Azure NetApp Files</block>
  <block id="6bb7e9dc5268dcbdde1a91b151d9a94b" category="list-text">Ative Directory configurado e conetado ao Azure NetApp Files. <block ref="2f3bcda54aaf4e8e45316bb04708293f" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="7595de66780a622cdd37b4823afebc07" category="inline-link-macro">GitHub: CSI Proxy</block>
  <block id="c680a0c023a6d45186b9752a07e9938c" category="inline-link-macro">GitHub: CSI Proxy para Windows</block>
  <block id="2d6b406e65ac91f2af09f4228e3efe4f" category="list-text">Um proxy CSI configurado como um serviço Windows. Para configurar um<block ref="0f8126c17871ed45f2a848f15d96a1bb" prefix=" " category="inline-code"></block>, <block ref="3ca23c6eadaac7aa23a492aef5e5d012" category="inline-link-macro-rx"></block>consulte ou <block ref="0b56a9ad79a8fef177779e7d3d856994" category="inline-link-macro-rx"></block> para nós do Kubernetes executados no Windows.</block>
  <block id="28b0abcecaf7a63edb46e4e137337018" category="doc">Configurar um back-end do Azure NetApp Files</block>
  <block id="2f73efb41160e66d2e4f5b500c984de8" category="section-title">Detalhes do driver Azure NetApp Files</block>
  <block id="48cf24486d9a8e65a142b25682f19949" category="cell">Condutor</block>
  <block id="888a77f5ac0748b6c8001822417df8b6" category="cell">Protocolo</block>
  <block id="4f0e7dc30ffb3e25e75331c9afb2243a" category="cell">VolumeMode</block>
  <block id="d5e2d9f8d8f10044e38b71b49e675d2e" category="cell">Modos de acesso suportados</block>
  <block id="15971126972a002fcddb2c507534e371" category="cell">Sistemas de arquivos suportados</block>
  <block id="3262251091b863054cfabf046c0e3493" category="paragraph">NFS, SMB</block>
  <block id="ac52cf637478f3656a1fdee5c02324fd" category="paragraph">Sistema de ficheiros</block>
  <block id="ad90b7d29d0d8a9c746868fe1f38ca90" category="paragraph">RWO, ROX, RWX, RWOP</block>
  <block id="7e7d2470a40e817070cd42bd81713c7b" category="paragraph"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block>,<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">Considerações</block>
  <block id="a57ed56fc7ee91a9263e1c2ae851ac11" category="inline-link-macro">identidades gerenciadas</block>
  <block id="9586e9fc5ee74b6ceeab5ab5484c95b6" category="list-text">Um cluster do Kubernetes implantado usando AKS</block>
  <block id="4dca0f5a5f78322a0f3bfa9c6b8f54ad" category="list-text">Identidades gerenciadas configuradas no cluster AKS kuquilla</block>
  <block id="4f5dbc74e3448e08fe0e7bfd62876fc8" category="open-title">Operador Trident</block>
  <block id="152090ff5e9a05ea7e1cf0c248449638" category="open-title">Leme</block>
  <block id="fed6290ac938ca603cf5f4f680802954" category="open-title">&lt;code&gt;dtridentctl&lt;/code&gt;</block>
  <block id="f77d4be42f8ef9e2474d677786cf6d7a" category="paragraph">A identidade na nuvem permite que os pods do Kubernetes acessem recursos do Azure autenticando como uma identidade de workload em vez de fornecendo credenciais explícitas do Azure.</block>
  <block id="088be2b53cfa8710d751578d273c4af0" category="paragraph">Para aproveitar a identidade da nuvem no Azure, você deve ter:</block>
  <block id="c5ac38b2b362dbfd1b55bdb2b7e9375b" category="list-text">Identidade da carga de trabalho e oidc-emitente configurados no cluster AKS Kubernetes</block>
  <block id="506c2c0c7f5b70af3df68c45c46f45a7" category="paragraph">Por exemplo:</block>
  <block id="919b714a25b423ceadcf231ff05b607b" category="paragraph">Defina os valores para sinalizadores *provedor de nuvem (CP)* e *identidade de nuvem (IC)* usando as seguintes variáveis de ambiente:</block>
  <block id="91a7e225ea23690e36a162b9c8a45058" category="paragraph"><block ref="256d12880dee7515c7ed6253fd0a228a" prefix="" category="inline-code"></block><block ref="a5f4eea4d47cf2db58f43a66329ecf1e" prefix=" " category="inline-code"></block></block>
  <block id="400e51795e42b1bfc94a14aeeeacc04a" category="paragraph">Defina os valores para os sinalizadores *provedor de nuvem* e *identidade de nuvem* usando as seguintes variáveis de ambiente:</block>
  <block id="a8e174c63ac21920b8405ffddc39214a" category="doc">Crie backends com kubectl</block>
  <block id="454631312fab234fc91bb2f85a751fac" category="section-title"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block></block>
  <block id="b44c2fd5cefc815abed7e31c0fa8c8ac" category="paragraph">Após a criação de<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> um objeto, acontece o seguinte:</block>
  <block id="1efc3a14ca6dc7c90db79e02f3abe7d5" category="paragraph">Cada<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> um mantém um mapeamento um-para-um com um<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block>. o primeiro é a interface fornecida ao usuário para projetar e configurar backends; o último é como o Trident representa o objeto backend real.</block>
  <block id="9c3385530cf6e460576e5f6e7cc1b912" category="paragraph">Veja o exemplo a seguir para o formato do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR:</block>
  <block id="c84ef67352bb6783ff2881f9f2821c2a" category="inline-link">instalador do Trident</block>
  <block id="f13a06ff6eab87969a9f96765f31ed9c" category="paragraph">Você também pode dar uma olhada nos exemplos<block ref="6511e50af21389f9e77db56e03f6dd72" category="inline-link-rx"></block> no diretório para configurações de exemplo para a plataforma/serviço de armazenamento desejado.</block>
  <block id="06df669f3ef6f929e9b58c9f47b65310" category="inline-link-macro">informações de configuração de back-end para seu driver de armazenamento</block>
  <block id="75d6668e40a552149b5d5868b03080c8" category="paragraph">O<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block> utiliza parâmetros de configuração específicos do back-end. Neste exemplo, o backend usa o<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver de armazenamento e usa os parâmetros de configuração que são tabulados aqui. Para obter a lista de opções de configuração para o driver de armazenamento desejado, consulte o <block ref="5f2d139eefa7c36061f4d97161be02ea" category="inline-link-macro-rx"></block>.</block>
  <block id="92051c832f01d9070a7ed71d1ce523c5" category="paragraph">A<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block> seção também inclui<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block> campos e<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>, que são recentemente introduzidos no<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR:</block>
  <block id="5ab961de690e071f0dc1c0dabac7fd89" category="list-text"><block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix="" category="inline-code"></block>: Este parâmetro é um campo obrigatório e contém as credenciais usadas para autenticar com o sistema/serviço de armazenamento. Isso é definido como um segredo do Kubernetes criado pelo usuário. As credenciais não podem ser passadas em texto simples e resultarão em um erro.</block>
  <block id="9f11e03722a7b912083c63fc68f4dd7b" category="list-text"><block ref="98e7d6463271d7848db255ae6467817a" prefix="" category="inline-code"></block>: Este campo define o que deve acontecer quando o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> é excluído. Pode tomar um dos dois valores possíveis:</block>
  <block id="d09d50d3f84f9c585492818f491a2497" category="list-text"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block>: Isso resulta na exclusão do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR e do back-end associado. Este é o valor padrão.</block>
  <block id="f0c89ce27bf4c43949ad8f26a4f586bb" category="list-text"><block ref="16d79ff80feadcf2f52096f073f2b94a" prefix="" category="inline-code"></block>: Quando um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR é excluído, a definição de back-end ainda estará presente e poderá ser gerenciada com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o . Definir a política de exclusão para<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block> permitir que os usuários façam o downgrade para uma versão anterior (anterior a 21,04) e mantenham os backends criados. O valor para este campo pode ser atualizado após a criação de um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>.</block>
  <block id="7f2208582df334d090d35357eb5d6901" category="admonition">O nome de um back-end é definido usando<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>. Se não for especificado, o nome do backend é definido como o nome do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto (metadata.name). Recomenda-se definir explicitamente nomes de back-end usando<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>o .</block>
  <block id="625cc9b8ccc34496dc2b3fcffb7e384a" category="section-title">Visão geral dos passos</block>
  <block id="a867c4bbc8d632a517f22b7377b9b8ed" category="paragraph">Para criar um novo back-end usando<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>o , você deve fazer o seguinte:</block>
  <block id="4db4699aa0126dfb06878d7e07c0abdf" category="inline-link">Segredo do Kubernetes</block>
  <block id="c39d193a9cc4084cc6c7964e1bb5efd8" category="list-text">Crie<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> um objeto. Isso contém detalhes sobre o cluster/serviço de armazenamento e faz referência ao segredo criado na etapa anterior.</block>
  <block id="286b0035cf59742ffe54696b798f2368" category="paragraph">Depois de criar um backend, você pode observar seu status usando<block ref="20d1f22897b2280e34f2e6aa25c7bab0" prefix=" " category="inline-code"></block> e coletar detalhes adicionais.</block>
  <block id="494cb787cd1c1f78123323c1006f2081" category="section-title">Etapa 1: Crie um segredo do Kubernetes</block>
  <block id="7ba8d326bd3ffe1308f04d8ab5bf3d1a" category="paragraph">Crie um segredo que contenha as credenciais de acesso para o back-end. Isso é exclusivo para cada serviço/plataforma de storage. Aqui está um exemplo:</block>
  <block id="04402bf69acac56c72a55c0e4ac2165c" category="paragraph">Esta tabela resume os campos que devem ser incluídos no segredo para cada plataforma de armazenamento:</block>
  <block id="94cec86c6eef229009007e6d00d54ef1" category="cell">Descrição dos campos secretos da plataforma de armazenamento</block>
  <block id="1e6947ac7fb3a9529a9726eb692c8cc5" category="cell">Segredo</block>
  <block id="c11257eff6563de2c05e353770c514ca" category="cell">Descrição dos campos</block>
  <block id="93c5bebdea9c94a0740fe6fd9bb250f0" category="paragraph">ID do cliente</block>
  <block id="012e85295e2f1f744cfb8757f8dd4830" category="paragraph">A ID do cliente a partir de um registo de aplicação</block>
  <block id="ee64ef6c307cfcfe5c0f085471cd61fa" category="paragraph">private_key_id</block>
  <block id="1e31c22f827d25c5973eee697baace79" category="paragraph">ID da chave privada. Parte da chave da API para a conta de serviço do GCP com a função de administrador do CVS</block>
  <block id="156a17333e77a3c504018cae5ada8c3b" category="paragraph">chave_privada</block>
  <block id="8e0708b67ba6ce0f70a948152e7e7895" category="paragraph">Chave privada. Parte da chave da API para a conta de serviço do GCP com a função de administrador do CVS</block>
  <block id="25de05ab7f10e99b499db62e0b89ad33" category="cell">Elemento (NetApp HCI/SolidFire)</block>
  <block id="2a6ba72e93aa7fa676d07973ed2716bb" category="paragraph">Endpoint</block>
  <block id="41eba2d95ecaf35c8bd3a972c263ffe4" category="paragraph">MVIP para o cluster SolidFire com credenciais de locatário</block>
  <block id="14c4b06b824ec593239362517f538b29" category="paragraph">nome de utilizador</block>
  <block id="6e1b40351708d93ce8c387f6f8ca7533" category="paragraph">Nome de usuário para se conetar ao cluster/SVM. Usado para autenticação baseada em credenciais</block>
  <block id="5f4dcc3b5aa765d61d8327deb882cf99" category="paragraph">palavra-passe</block>
  <block id="4d3fd9a7ab4c84b857fc26b2633237d0" category="paragraph">Senha para se conectar ao cluster/SVM. Usado para autenticação baseada em credenciais</block>
  <block id="19dce7ac7f5290fc8fa218ad0c858df5" category="paragraph">ClientPrivateKey</block>
  <block id="8c5e8d4f9acf9295e1a96feef0c0b516" category="paragraph">Valor codificado em base64 da chave privada do cliente. Usado para autenticação baseada em certificado</block>
  <block id="039e9d80fa53ba861c06b590ba3f9d34" category="paragraph">ChapUsername</block>
  <block id="a7128cd45d4a277fe5c6ed6f6c4238f7" category="paragraph">Nome de utilizador de entrada. Necessário se useCHAP-true. Para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e.<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="f9d0dc78b203f2c1106dc0c7d58a5397" category="paragraph">IniciadorSecreto</block>
  <block id="2f573af61fb37b4f1c5e2def2341b7c4" category="paragraph">Segredo do iniciador CHAP. Necessário se useCHAP-true. Para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e.<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="2ebe107bb3bc9551fbb0e5033046931c" category="paragraph">ChapTargetUsername</block>
  <block id="e945f079b3e50bd5722f056b72282608" category="paragraph">Nome de utilizador alvo. Necessário se useCHAP-true. Para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e.<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="4ab84a55744951d967033db9b64f6b27" category="paragraph">ChapTargetInitiatorSecret</block>
  <block id="61b50fba255c10a4a2b5f7cf8276849a" category="paragraph">Segredo do iniciador de destino CHAP. Necessário se useCHAP-true. Para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e.<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="73d583a1445e1497ec3adaa011e2724c" category="paragraph">O segredo criado nesta etapa será referenciado<block ref="52c7b8f36716d3230d8fac3536f346c7" prefix=" " category="inline-code"></block> no campo do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto que é criado na próxima etapa.</block>
  <block id="e892fda55ead7e15eed753e850d35f12" category="section-title">Passo 2: Crie o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="3394622f88ed2c82c85e92e908879095" category="paragraph">Agora você está pronto para criar seu<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR. Neste exemplo, um back-end que usa<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o driver é criado usando o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto mostrado abaixo:</block>
  <block id="d6f4b4bedc693acd49ad08c1cf0cdad5" category="section-title">Etapa 3: Verifique o status do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="967688089cfc07a6c8e893bce5186445" category="paragraph">Agora que criou o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR, pode verificar o estado. Veja o exemplo a seguir:</block>
  <block id="edc9d2e179d9bd8effd5277699967aff" category="paragraph">Um backend foi criado com sucesso e vinculado ao<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR.</block>
  <block id="ecb5320e6f020f2c2dcad7a6268111ed" category="paragraph">A fase pode ter um dos seguintes valores:</block>
  <block id="afad9414d1bc420e58e3a72442b8f495" category="list-text"><block ref="685d1f2146dd079015e81918414e8971" prefix="" category="inline-code"></block>: O<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR está associado a um back-end, e esse backend contém<block ref="217026e5af08bfde5815657113dbfc82" prefix=" " category="inline-code"></block> definido como<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> uid do CR.</block>
  <block id="f2edf590deb30828e48e7290aa78e788" category="list-text"><block ref="edac80248b7bf68ccfaa9c78bfb81c32" prefix="" category="inline-code"></block>: Representado<block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block> usando . O<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto não está vinculado a um backend. Todos os CRS recém-criados<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> estão nesta fase por padrão. Após as alterações de fase, ela não pode voltar a Unbound.</block>
  <block id="5008913e7135c645ebbfbd67112d3184" category="list-text"><block ref="ffbb410a55bb31f801dea6387e2745ac" prefix="" category="inline-code"></block>: Os<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR's<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> foram definidos para eliminar. Quando o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR é excluído, ele passa para o estado de exclusão.</block>
  <block id="ffd02eb489e62222a00391567d0bad81" category="list-text">Se um ou mais PVCs estiverem presentes no back-end, ele vai para um estado de exclusão. Posteriormente, o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR entra também na fase de eliminação. O back-end e<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> são excluídos somente depois que todos os PVCs são excluídos.</block>
  <block id="39d978e14d4d8c9f19589af0d4e72661" category="list-text"><block ref="b578b733cbb788fc6ad208314d2c4c2b" prefix="" category="inline-code"></block>: O back-end associado ao<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR foi acidentalmente ou deliberadamente excluído e o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR ainda tem uma referência ao back-end excluído. O<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR ainda pode ser eliminado independentemente do<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> valor.</block>
  <block id="fdf3d4560a801cb64c255cc2790fe9cc" category="inline-link-macro">atualizações de back-end e exclusões de back-end</block>
  <block id="57867491a75119ccf33f6ed8a434ff8e" category="paragraph">Nesta fase, um backend é criado com sucesso! Existem várias operações que podem ser tratadas adicionalmente, <block ref="9f5a7b55f1a44b55d5336cefd3bf688e" category="inline-link-macro-rx"></block>como o .</block>
  <block id="4dca0b80562cc590644c1acfada17219" category="section-title">(Opcional) passo 4: Obtenha mais detalhes</block>
  <block id="22f66c61dd35abb0ae1840a7e38ae1b9" category="paragraph">Você pode executar o seguinte comando para obter mais informações sobre seu back-end:</block>
  <block id="aab3a73056ee2962dff0130da0538454" category="paragraph">Além disso, você também pode obter um despejo YAML/JSON do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>.</block>
  <block id="7b7587593fc7d381339d450faa35dfa9" category="paragraph">Você pode executar o<block ref="78b137a0e31097f4e74b4d44c43efc40" prefix=" " category="inline-code"></block> comando para obter detalhes dos logs de eventos.</block>
  <block id="6dc07da7e54d697726bb349fb693fa8b" category="inline-link-macro">veja aqui</block>
  <block id="c732962a4a01ea5f406ec66e50e98903" category="admonition">Não é possível atualizar ou excluir um back-end que contenha um objeto<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> associado<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> usando o . Compreender as etapas envolvidas na troca entre<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> e<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>, <block ref="8d6bc70a41f48e3f72c3f5ea8752090b" category="inline-link-macro-rx"></block>.</block>
  <block id="2941c38dbb7c39c325787067c0540247" category="summary">Saiba mais sobre como executar operações de gerenciamento de back-end usando<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>o .</block>
  <block id="634b471e6af84767e06324552492b533" category="section-title">Excluir um back-end</block>
  <block id="337d79852891a37d41285c9101c3fff4" category="paragraph">Execute o seguinte comando:</block>
  <block id="d694c8966214ec6d0068c0ab2951b65c" category="section-title">Veja os backends existentes</block>
  <block id="265ab4809f08d248e5045a8638ac7afa" category="paragraph">Você também pode executar<block ref="86d87141fccdd14380a93351cf8a88e3" prefix=" " category="inline-code"></block> ou<block ref="d6b02c316f6c883e36a3c61bc723ec25" prefix=" " category="inline-code"></block> obter uma lista de todos os backends que existem. Esta lista também incluirá backends que foram criados com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="93dbcf0189ff94d39230d2e3726969ab" category="section-title">Atualize um back-end</block>
  <block id="93700a3ea9dc6d858638cd66cd2f2bfa" category="paragraph">Pode haver várias razões para atualizar um backend:</block>
  <block id="d1cc287cede970a7472833938f39b940" category="list-text">Os parâmetros (como o nome do SVM do ONTAP sendo usado) precisam ser atualizados.</block>
  <block id="bb5c9e20ecc2d96bd9d91107161bf89b" category="list-text">Você pode atualizar<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objetos diretamente pelo Kubernetes usando o seguinte comando:</block>
  <block id="ccec41e7609b17a7fe58691b5cbf68ea" category="list-text">Alternativamente, você pode fazer alterações no CR existente<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> usando o seguinte comando:</block>
  <block id="d38f034e9aa082af3ec19c23caff4b0f" category="list-text">Se uma atualização de back-end falhar, o back-end continuará em sua última configuração conhecida. Pode visualizar os registos para determinar a causa executando<block ref="f06ab1779eb739084ddf83006fb6f403" prefix=" " category="inline-code"></block> ou<block ref="f9d8dd15d0562f29d38ca5412f8d3a1b" prefix=" " category="inline-code"></block>.</block>
  <block id="5878b59fb3a8430928026b63b5ca336f" category="list-text">Depois de identificar e corrigir o problema com o arquivo de configuração, você pode executar novamente o comando update.</block>
  <block id="72a5926b7fb086fe87e93771f6620556" category="summary">Saiba mais sobre como executar operações de gerenciamento de back-end usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="748a22b5f1312291ad55429ba4b809a0" category="doc">Execute o gerenciamento de back-end com o tridentctl</block>
  <block id="aeeb03235358f0f4bf3be628bed08721" category="section-title">Crie um backend</block>
  <block id="34746f7a1d24170eeebf5510a045d43d" category="inline-link-macro">arquivo de configuração de back-end</block>
  <block id="99b7232073a67a8c82304f979e3dc83f" category="paragraph">Depois de criar um <block ref="03c0b6ed8698193668e92f56e9be3efa" category="inline-link-macro-rx"></block>, execute o seguinte comando:</block>
  <block id="1cabe44c722167581b1e219de6c58341" category="paragraph">Se a criação do backend falhar, algo estava errado com a configuração do backend. Você pode exibir os logs para determinar a causa executando o seguinte comando:</block>
  <block id="b5f9999463782f0c36ecc89573a90a49" category="paragraph">Depois de identificar e corrigir o problema com o arquivo de configuração, você pode simplesmente executar o<block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix=" " category="inline-code"></block> comando novamente.</block>
  <block id="f6816a6570e6b6097177f9adc1f4805b" category="list-text">Recuperar o nome do backend:</block>
  <block id="11f4ccb46eb9afc4b1187c376b53123f" category="list-text">Excluir o backend:</block>
  <block id="a6345aca446812b9124c47b385b33f43" category="paragraph">Para visualizar os backends que o Trident conhece, faça o seguinte:</block>
  <block id="cb325bc4dded2aa4744b594966262a99" category="list-text">Para obter um resumo, execute o seguinte comando:</block>
  <block id="9f073deeee70a1418443c3b8379c5c02" category="list-text">Para obter todos os detalhes, execute o seguinte comando:</block>
  <block id="27709162cf6b8ffced7bb1da6dd49df3" category="paragraph">Depois de criar um novo arquivo de configuração de back-end, execute o seguinte comando:</block>
  <block id="4ca005817e9c882d0ef15d451a97dbf0" category="paragraph">Se a atualização do backend falhar, algo estava errado com a configuração do backend ou você tentou uma atualização inválida. Você pode exibir os logs para determinar a causa executando o seguinte comando:</block>
  <block id="20b5ebaa2558437206eb6d1d47577805" category="paragraph">Depois de identificar e corrigir o problema com o arquivo de configuração, você pode simplesmente executar o<block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix=" " category="inline-code"></block> comando novamente.</block>
  <block id="d47f84a3cda326babf841866ad2326ab" category="section-title">Identificar as classes de armazenamento que usam um back-end</block>
  <block id="02fe9d429af25b46c16a1172d735124f" category="paragraph">Este é um exemplo do tipo de perguntas que você pode responder com o JSON que<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> produz para objetos de back-end. Isso usa o<block ref="d8757fb4e9ea07606d23a1ef5a4b8d4e" prefix=" " category="inline-code"></block> utilitário, que você precisa instalar.</block>
  <block id="e00013adda7b5901ea3e44ae300fd73d" category="paragraph">Isso também se aplica a backends que foram criados usando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>o .</block>
  <block id="4342473e01edd2e1440b8b76076f4c9e" category="doc">Alternar entre opções de gerenciamento de back-end</block>
  <block id="798f4548a52b3c91b25609a82ff6a12e" category="paragraph">Com a introdução<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>do , os administradores agora têm duas maneiras exclusivas de gerenciar backends. Isso coloca as seguintes perguntas:</block>
  <block id="a7b407f571446f9f4a30f63e8160784a" category="list-text">Os backends podem ser criados usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ser gerenciados com<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>?</block>
  <block id="3e1fc11d05c13404995af2b9fda64675" category="list-text">Os backends podem ser criados usando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> ser gerenciados<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> usando ?</block>
  <block id="6c6e605e09d47da14693d106977b6eb0" category="section-title">Gerenciar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> backends usando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="d6da18e16f248df47ee8e5139ef0156a" category="paragraph">Esta seção aborda as etapas necessárias para gerenciar backends que foram criados usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> diretamente a interface do Kubernetes criando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objetos.</block>
  <block id="bee2ae6068ad50344ddb325737434004" category="paragraph">Isso se aplicará aos seguintes cenários:</block>
  <block id="88512325ffcc13fbee60f3ca0669f67e" category="list-text">Backends pré-existentes, que não têm um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> porque foram criados com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="8eed1f3ae09f008e2dbfb4280a0c137c" category="list-text">Novos backends que foram criados com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>, enquanto outros<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objetos existem.</block>
  <block id="95328f21e7a6deb7bb94acb3866753a6" category="list-text">Continue<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> usando para gerenciar backends que foram criados usando-o.</block>
  <block id="82c1dd66573aab904c86b63e2d5486ad" category="list-text">Vincular backends criados usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> a um novo<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto. Fazer isso significaria que os backends serão gerenciados usando<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> e não<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="d12d5022b29f44c340ee55411970fe10" category="paragraph">Para gerenciar um back-end pré-existente usando<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>o , você precisará criar um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> que se vincule ao back-end existente. Aqui está uma visão geral de como isso funciona:</block>
  <block id="b863de09ccfaf2861ead350dd78a9933" category="list-text">Crie<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> um objeto. Isso contém detalhes sobre o cluster/serviço de armazenamento e faz referência ao segredo criado na etapa anterior. Deve-se ter cuidado para especificar parâmetros de configuração idênticos (como<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block> , ,<block ref="670f8a39d00195ce172543b2794c522b" prefix=" " category="inline-code"></block>,<block ref="4f361a1568cc7e740f7642f6f59e2fe0" prefix=" " category="inline-code"></block> e assim por diante).<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block> deve ser definido como o nome do backend existente.</block>
  <block id="44411eb1f3a70196b442f0ed4bb62820" category="section-title">Passo 0: Identifique o backend</block>
  <block id="4bf283d1d1c781fbb7e90b237dc80ac4" category="paragraph">Para criar um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> que se vincula a um backend existente, você precisará obter a configuração de backend. Neste exemplo, vamos supor que um backend foi criado usando a seguinte definição JSON:</block>
  <block id="2181a22b3daf7866094f9f0d79da87d0" category="paragraph">Crie um segredo que contenha as credenciais para o back-end, como mostrado neste exemplo:</block>
  <block id="78fb4311dea625690d7fb6274025625a" category="section-title">Passo 2: Crie um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="276e25c1cf06c603ba2d133ae2e39dde" category="paragraph">O próximo passo é criar um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR que se vinculará automaticamente ao pré-existente<block ref="50f1baa55915aa000046e11e5aca6e3e" prefix=" " category="inline-code"></block> (como neste exemplo). Certifique-se de que os seguintes requisitos são cumpridos:</block>
  <block id="0cbfd18f16db9afdef577eeddd6a8bee" category="list-text">O mesmo nome de back-end é definido no<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>.</block>
  <block id="f261e4f2fe82344f35f04f9b3813e425" category="list-text">Os parâmetros de configuração são idênticos ao back-end original.</block>
  <block id="c632eed28bf53466df8b8a33aedab3af" category="list-text">Os pools virtuais (se presentes) devem manter a mesma ordem que no back-end original.</block>
  <block id="8f50f98a5b56105263e2f7ab18dc0686" category="list-text">As credenciais são fornecidas por meio de um segredo do Kubernetes e não em texto simples.</block>
  <block id="05c8cd2e49ae2ecaee101c9bc5619d49" category="paragraph">Neste caso, o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> será parecido com este:</block>
  <block id="63d6f3ce15066b6232a788bb692bf721" category="paragraph">Após a criação do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> , sua fase deve ser<block ref="685d1f2146dd079015e81918414e8971" prefix=" " category="inline-code"></block>. Ele também deve refletir o mesmo nome de back-end e UUID que o do back-end existente.</block>
  <block id="d1a75f7c76623350486029378ab164c3" category="paragraph">O backend agora será completamente gerenciado usando o<block ref="f695ccd8d6d09cfeee2cf7d06725f9e5" prefix=" " category="inline-code"></block><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto.</block>
  <block id="a035fed1dd97545349b5fffbd9e3e88f" category="section-title">Gerenciar<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> backends usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="fcea92f3e948217919ca8b4051c2c61e" category="paragraph"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block> pode ser usado para listar backends que foram criados usando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>. Além disso, os administradores também podem optar por gerenciar completamente esses backends<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> excluindo<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> e certificando-se de<block ref="665ed1e9e5fa7278d49de298928f771c" prefix=" " category="inline-code"></block> que está definido como<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>.</block>
  <block id="ab0c73d8e0377b2df5b783d3a76f2249" category="paragraph">Por exemplo, vamos supor que o seguinte backend foi criado usando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>:</block>
  <block id="4cfeb5a9099082a66a720c90a50036af" category="paragraph">A partir da saída, vê-se que<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> foi criado com sucesso e está vinculado a um backend [observe o UUID do backend].</block>
  <block id="0901a332c26ed210204bad23d45c8b6d" category="section-title">Passo 1: Confirmar<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> está definido como<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block></block>
  <block id="1ad97e0f65ef91102831baaa31630c76" category="admonition">Não avance para o passo seguinte, a menos<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> que esteja definido para<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>.</block>
  <block id="2f1beb23541bc11eb53ca6b33485d4f8" category="section-title">Etapa 2: Exclua o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="8313f77478cb0df464604ae4435acce2" category="paragraph">O passo final é eliminar o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR. Depois de confirmar que o<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> está definido como<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>, pode avançar com a eliminação:</block>
  <block id="2acbb5dd492d792d00383b0c76ade4ad" category="list-text"><block ref="2acbb5dd492d792d00383b0c76ade4ad" category="inline-link-macro-rx"></block></block>
  <block id="252e63ff646a0204671ca04a26b88e06" category="inline-link-macro">Configure um back-end do Cloud Volumes Service para o Google Cloud Platform</block>
  <block id="c00b6e370d4496e06d2135275a992af5" category="list-text"><block ref="c00b6e370d4496e06d2135275a992af5" category="inline-link-macro-rx"></block></block>
  <block id="f2733a323df72dea4b230205225bdc13" category="inline-link-macro">Configurar um back-end NetApp HCI ou SolidFire</block>
  <block id="b1064b6f7a5906eac23601dc24ba95a8" category="list-text"><block ref="b1064b6f7a5906eac23601dc24ba95a8" category="inline-link-macro-rx"></block></block>
  <block id="a3610578ce54198653d7e0b2cc53c05d" category="inline-link-macro">Configurar um back-end com drivers nas ONTAP ou Cloud Volumes ONTAP</block>
  <block id="f4f833852bac4217eff92d53c1bd24dc" category="list-text"><block ref="f4f833852bac4217eff92d53c1bd24dc" category="inline-link-macro-rx"></block></block>
  <block id="29db8b676d0a02f8179869506102c8ce" category="inline-link-macro">Configure um back-end com drivers SAN ONTAP ou Cloud Volumes ONTAP</block>
  <block id="df7d9b009cdb0a2623872cb3f905e161" category="list-text"><block ref="df7d9b009cdb0a2623872cb3f905e161" category="inline-link-macro-rx"></block></block>
  <block id="95d4f411b57eb8201e27fa4636c30816" category="section-title">Configurar um objeto Kubernetes StorageClass</block>
  <block id="b8d89cc8455fbb137550c0819b7813c8" category="inline-link">Objeto Kubernetes StorageClass</block>
  <block id="d955a256e02907c43d2afd5bfdb671ea" category="paragraph">Depois de criar o objeto StorageClass, você pode criar a classe de armazenamento. <block ref="1310ad9d78b8b659f76828400b5d8126" category="inline-xref-macro-rx"></block> fornece algumas amostras básicas que você pode usar ou modificar.</block>
  <block id="a221a060125881c2027807248f8302a2" category="list-text">Esse é um objeto do Kubernetes, então use<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> para criá-lo no Kubernetes.</block>
  <block id="f31a577daf927c7edc5555c9ceabc983" category="section-title">Amostras da classe de armazenamento</block>
  <block id="64c314ed1bd24115a72a8a4284115a5c" category="inline-link">definições de classe de armazenamento simples para backends específicos</block>
  <block id="d9ab9b10b2101546e16eeab0b981d10c" category="paragraph">Alternativamente, você pode editar<block ref="9a35c6080acd99f860d0c669b1a980f9" prefix=" " category="inline-code"></block> o arquivo que vem com o instalador e substituir<block ref="9c9a0798e59f3f4d7b08e45faef1e131" prefix=" " category="inline-code"></block> pelo nome do driver de armazenamento.</block>
  <block id="4abea6bac3b0b48d11dd8dcd02a11bf9" category="inline-link">Recurso de topologia CSI</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">Visão geral</block>
  <block id="592af423a2f6a51f57c639ec7f7b245e" category="admonition">Saiba mais sobre o recurso de topologia de CSI<block ref="ff042e7f24bd2adcec09d78466034177" category="inline-link-rx"></block> .</block>
  <block id="bbdcaf9b704dc7a7cf73e6000101b65a" category="paragraph">O Kubernetes oferece dois modos exclusivos de vinculação de volume:</block>
  <block id="5fca24470d51aa51b0fb2d0f27c25c68" category="list-text">Com<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block> definido como<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>, a criação e a vinculação de um volume persistente para um PVC é adiada até que um pod que usa o PVC seja programado e criado. Dessa forma, os volumes são criados para atender às restrições de agendamento impostas pelos requisitos de topologia.</block>
  <block id="3bbc2da928dcf77a048cdd745fe7d208" category="admonition">O<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block> modo de encadernação não requer rótulos de topologia. Isso pode ser usado independentemente do recurso de topologia de CSI.</block>
  <block id="edff21c44983aaa85506a3dfe467c494" category="paragraph">Para fazer uso da topologia de CSI, você precisa do seguinte:</block>
  <block id="c27e444dab3a08bf8ec59794897c1a27" category="inline-link-macro">Versão do Kubernetes compatível</block>
  <block id="1dedbfd605df8b562acc8f759a8e9acc" category="list-text">Um cluster de Kubernetes executando um <block ref="229e1052bb9ecd8cf2680d6f44691174" category="inline-link-macro-rx"></block></block>
  <block id="0bd58c9826639ac2db106c3b277a7e0f" category="section-title">Etapa 1: Crie um back-end com reconhecimento de topologia</block>
  <block id="bd4b2f0d545a83fd434f5ba1f17dd087" category="paragraph">Aqui está um exemplo de definição de backend:</block>
  <block id="217d95247b26701da7fd823884d84723" category="paragraph">Você também pode definir<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block> por pool de armazenamento. Veja o exemplo a seguir:</block>
  <block id="c6c80256ac468b3d88d7b62d8753f192" category="paragraph">Neste exemplo, as<block ref="960db2ed82202a9706b97775a4269378" prefix=" " category="inline-code"></block> etiquetas e<block ref="a84e5f25e7f6d5de9b82ce3f64d1b8fa" prefix=" " category="inline-code"></block> representam a localização do conjunto de armazenamento.<block ref="e1ff98cb39abe026da77d207e1fd46de" prefix=" " category="inline-code"></block><block ref="c4d11894a6687c3a84f5daeda7154443" prefix=" " category="inline-code"></block> e dite de onde os pools de storage podem ser consumidos.</block>
  <block id="54e204e8e05b6eb24d965741eb977e69" category="section-title">Etapa 2: Defina StorageClasses que estejam cientes da topologia</block>
  <block id="090f70d385b4a21aa6c8f2a0ca558616" category="paragraph">Com base nas etiquetas de topologia fornecidas aos nós no cluster, o StorageClasses pode ser definido para conter informações de topologia. Isso determinará os pools de storage que atuam como candidatos a solicitações de PVC feitas e o subconjunto de nós que podem fazer uso dos volumes provisionados pelo Trident.</block>
  <block id="ecb383148a1bc974cba3ac735a79f4c6" category="paragraph">Veja o exemplo a seguir:</block>
  <block id="df340fb31051c975afb3518dfd32e07c" category="section-title">Passo 3: Criar e usar um PVC</block>
  <block id="f98be29d352e7c38a6502e76bbfaf34c" category="paragraph">Com o StorageClass criado e mapeado para um back-end, agora você pode criar PVCs.</block>
  <block id="c4b17c8733f9f36fdc682242d2b64ab2" category="paragraph">Veja o exemplo<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block> abaixo:</block>
  <block id="427e01a8fca484c85a1e8e3a672b999a" category="paragraph">Criar um PVC usando este manifesto resultaria no seguinte:</block>
  <block id="e65f170821e3417d48579a28989a9260" category="paragraph">Para o Trident criar um volume e vinculá-lo ao PVC, use o PVC em um pod. Veja o exemplo a seguir:</block>
  <block id="9b8ff27bceb4601d1f866c4cf39fe449" category="paragraph">Este podSpec instrui o Kubernetes a agendar o pod em nós presentes na<block ref="71a19c09ed1636680a56d8f8d9766808" prefix=" " category="inline-code"></block> região e escolher entre qualquer nó presente nas<block ref="6b255e25f36cde4f15e99ca4978b2710" prefix=" " category="inline-code"></block> zonas ou<block ref="ed5c4bc41bbc57e4165f20d56c997a77" prefix=" " category="inline-code"></block>.</block>
  <block id="c93345596f9f82deea04d17ef8c6ca89" category="paragraph">Veja a seguinte saída:</block>
  <block id="19ef07597f79648211dbed100709836b" category="section-title">Atualize os backends para incluir<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block></block>
  <block id="476950aea923438779c9544953093cb9" category="paragraph">Os backends pré-existentes podem ser atualizados para incluir uma lista<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block> de uso<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>do . Isso não afetará os volumes que já foram provisionados e só será usado para PVCs subsequentes.</block>
  <block id="ded10f93b9e4453980b7009035c63418" category="inline-link">Gerenciar recursos para contêineres</block>
  <block id="47ea3356a13b3f6644e6c05450e9d5e1" category="list-text"><block ref="47ea3356a13b3f6644e6c05450e9d5e1" category="inline-link-rx"></block></block>
  <block id="6370f866cf64618c026027da41bd248e" category="inline-link">NodeSeletor</block>
  <block id="2a4ad9fc807789134426a1b2babc5733" category="list-text"><block ref="2a4ad9fc807789134426a1b2babc5733" category="inline-link-rx"></block></block>
  <block id="873bf2b9b61a741ce5b7326a3a053489" category="inline-link">Afinidade e anti-afinidade</block>
  <block id="ec5df0a2adb621359563958138462e34" category="list-text"><block ref="ec5df0a2adb621359563958138462e34" category="inline-link-rx"></block></block>
  <block id="e1e08e40036f927a0e660c22aa837f88" category="inline-link">Taints e Tolerations</block>
  <block id="66b1e0aa9cd6e46c0b85fdf56a15154a" category="list-text"><block ref="66b1e0aa9cd6e46c0b85fdf56a15154a" category="inline-link-rx"></block></block>
  <block id="4e7d6286f837d54a4e4154d4b21b0659" category="section-title">Detalhes do driver do elemento</block>
  <block id="1b5e109e8afd1f9b7f5bbf951eea3442" category="cell">Modo de volume</block>
  <block id="e1e4c8c9ccd9fc39c391da4bcd093fb2" category="paragraph">Bloco</block>
  <block id="02017e70674a0c740b2b95fbb0cc2aa1" category="paragraph">Sem sistema de ficheiros. Dispositivo de bloco bruto.</block>
  <block id="fcd147679464b9eda6367f4e90e16ff8" category="paragraph">RWO, RWOP</block>
  <block id="a029cca698cbf05f07897f86c43cf9e8" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block><block ref="66f137c5dc684da2a6a65917c86edd67" prefix=" " category="inline-code"></block>, ,<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="6792aad2d8c086a9d25f5ad8ec090f35" category="paragraph">Você precisará do seguinte antes de criar um backend de elemento.</block>
  <block id="d1d184cecc23825cff20fabf3cdfb862" category="list-text">Um sistema de storage compatível que executa o software Element.</block>
  <block id="4055116469942da7f6ed83abcf57d0a4" category="list-text">Credenciais para um usuário de administrador ou locatário de cluster do NetApp HCI/SolidFire que possa gerenciar volumes.</block>
  <block id="d5fa5f22855b065d96647dfb0c06d685" category="inline-link-macro">informações sobre a preparação do nó de trabalho</block>
  <block id="d1b5b194ace83d9f896d8f8b6765def5" category="list-text">Todos os seus nós de trabalho do Kubernetes devem ter as ferramentas iSCSI apropriadas instaladas. <block ref="073953144b84efd85603bb3d49521e06" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="9d370350f8d0178b5dfbec9def10d13a" category="paragraph">Consulte a tabela a seguir para obter as opções de configuração de back-end:</block>
  <block id="b07ca7de83de58a699966c9bc9003020" category="cell">Porta e endereço IP de armazenamento (iSCSI)</block>
  <block id="eea443d4fcc24d4cd2cab08c2a6c062f" category="cell"><block ref="42cecfeff00cc916fef4f64e7b921079" prefix="" category="inline-code"></block></block>
  <block id="749df53d02481e75dd919dddf42fbbef" category="cell">Conjunto de rótulos arbitrários formatados em JSON para aplicar em volumes.</block>
  <block id="251f1fc42c38ca55f30e5e9d11dac168" category="cell">Nome do locatário a utilizar (criado se não for encontrado)</block>
  <block id="4381b3c378885de93e2166f240096338" category="cell">Restringir o tráfego iSCSI a uma interface de host específica</block>
  <block id="5ff567e0863a47346f44f87ed793f508" category="cell"><block ref="1cc3921c0ab34ebcad1d7d62dc850c0a" prefix="" category="inline-code"></block></block>
  <block id="32738663b16444872e4e5721c7c37660" category="cell"><block ref="86d1f8dbc0e863904895b40bd0ac1775" prefix="" category="inline-code"></block></block>
  <block id="c4ca01925aae0c37398f0b30a4ce1273" category="cell">Lista de IDs de Grupo de Acesso a utilizar</block>
  <block id="18320b2a705a7bed37a6bc0af4aee093" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor</block>
  <block id="88dce60232453383ab0d1c3c59cc931d" category="admonition">Não use<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> a menos que você esteja solucionando problemas e exija um despejo de log detalhado.</block>
  <block id="891d26d5e7410db6c0a971245c6025c0" category="section-title">Exemplo 1: Configuração de back-end para<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver com três tipos de volume</block>
  <block id="3185240fb49cba19667fbdf639f3271e" category="paragraph">Este exemplo mostra um arquivo de back-end usando autenticação CHAP e modelagem de três tipos de volume com garantias de QoS específicas. Provavelmente você definiria classes de armazenamento para consumir cada uma delas usando o<block ref="79073619fba8242703524f16870ff858" prefix=" " category="inline-code"></block> parâmetro de classe de armazenamento.</block>
  <block id="bfd7bf04b3d28a42267e8d1b30a05f01" category="section-title">Exemplo 2: Configuração de classe de back-end e armazenamento para<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver com pools virtuais</block>
  <block id="418ff75ccabac38370cc8570721746a3" category="paragraph">Este exemplo mostra o arquivo de definição de back-end configurado com pools virtuais junto com o StorageClasses que se referem a eles.</block>
  <block id="b003731e1d339366ed065ffe5a0f50ca" category="paragraph">No arquivo de definição de back-end de exemplo mostrado abaixo, padrões específicos são definidos para todos os pools de armazenamento, que definem o<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block> em Prata. Os pools virtuais são definidos na<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> seção. Neste exemplo, alguns dos pools de armazenamento definem seu próprio tipo, e alguns pools substituem os valores padrão definidos acima.</block>
  <block id="615c9f89b360c50cfba2b2de02584387" category="paragraph">As seguintes definições do StorageClass referem-se aos pools virtuais acima. Usando o<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> campo, cada StorageClass chama qual(s) pool(s) virtual(s) pode(m) ser(ão) usado(s) para hospedar um volume. O volume terá os aspetos definidos no pool virtual escolhido.</block>
  <block id="4d0d37d727675761e4c0e324eb57ca2f" category="list-text"><block ref="4d0d37d727675761e4c0e324eb57ca2f" category="inline-link-macro-rx"></block></block>
  <block id="cb4d8d2a5476183e7996047b4bd621a5" category="summary">Saiba mais sobre as opções de configuração de back-end NFS e NFS para o Google Cloud NetApp volumes e revise exemplos de configuração.</block>
  <block id="45868a9cc24b15883bb385cc21568b9c" category="doc">Exemplos e opções de configuração de back-end do Google Cloud NetApp volumes</block>
  <block id="4dd7128ceae058946c44bbbb0985ec6f" category="paragraph">Cada back-end provisiona volumes em uma única região do Google Cloud. Para criar volumes em outras regiões, você pode definir backends adicionais.</block>
  <block id="24efddb2a68726b53abbc21ed25602ec" category="cell">O valor de<block ref="d45aebe724c55b101f2ae8924ba3d486" prefix=" " category="inline-code"></block> deve ser especificado como "google-cloud-NetApp-volumes".</block>
  <block id="486c28964f4c2b1cb7d4cf8476c6f43b" category="cell">(Opcional) Nome personalizado do back-end de armazenamento</block>
  <block id="f476273c71e20fc5a845a5345a620117" category="cell">Nome do driver e parte da chave da API</block>
  <block id="5782f9a9357b5678058d6d3ceed21988" category="cell"><block ref="c614017642b6cfd9e6a25c7df122d917" prefix="" category="inline-code"></block></block>
  <block id="04075132f95c6ef305485ab113422c5a" category="cell">Parâmetro opcional usado para especificar pools de armazenamento para criação de volume.</block>
  <block id="c96383270cbab23de47b4f0961f64929" category="cell"><block ref="80ef6899136dfcff295c16caa93c2138" prefix="" category="inline-code"></block></block>
  <block id="4149383e1cf45a36b373c5bded2ff6ba" category="cell">Número do projeto da conta Google Cloud. O valor é encontrado na página inicial do portal do Google Cloud.</block>
  <block id="a34d72a685d5e27eb6bc18f54a7bab1d" category="cell"><block ref="c9ff119073ea2567730fb42e3a4fe805" prefix="" category="inline-code"></block></block>
  <block id="b9cc8276829a756e7a22476617204267" category="cell">Controle refinado das opções de montagem NFS.</block>
  <block id="4d9239a7fce916964ba8529021ab535f" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor.</block>
  <block id="1713a0b57aa7aa8811b66291bd6740ea" category="cell">O nível de serviço de um pool de storage e seus volumes. Os valores são<block ref="897a779351421523cadbafccdce22efe" prefix=" " category="inline-code"></block>,<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block>,<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block>,<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block> ou .</block>
  <block id="1631dca111b8c1a922c7f29d48eb7121" category="cell"><block ref="91e02cd2b8621d0c05197f645668c5c4" prefix="" category="inline-code"></block></block>
  <block id="c1a95f00cc65baba0b4226ef5a52eb6c" category="cell">Rede do Google Cloud usada para volumes GCNV.</block>
  <block id="ed9bce6a4d879e7f479badb9932b75b3" category="cell">Debug flags para usar ao solucionar problemas. Exemplo,<block ref="448bcae3131355f9b92b192b1057af2f" prefix=" " category="inline-code"></block>. Não use isso a menos que você esteja solucionando problemas e exija um despejo de log detalhado.</block>
  <block id="eb60cd2c0cff094ad0ecbe9d6fededcf" category="section-title">Opções de provisionamento de volume</block>
  <block id="afe8445a326424c54dfec7cc20994e8f" category="paragraph">Você pode controlar o provisionamento de volume padrão<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> na seção do arquivo de configuração.</block>
  <block id="95c5fc7684c0c685ae305908e8360de5" category="cell">As regras de exportação para novos volumes. Deve ser uma lista separada por vírgulas de qualquer combinação de endereços IPv4.</block>
  <block id="51b2015e6da8653f4041b71312ad43fe" category="cell">Acesso ao<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> diretório</block>
  <block id="31ed61cc3c85d0bb697cd12b77f37fd1" category="cell">Porcentagem de volume reservado para snapshots</block>
  <block id="3731633acfd0b9fb847e03ce2fdab4fa" category="cell">"" (aceitar predefinição de 0)</block>
  <block id="f666bd4432d66c3d0a6c3eb68602a507" category="cell">As permissões unix de novos volumes (4 dígitos octal).</block>
  <block id="b0663450e547d90a59ef16fd10b49313" category="paragraph">Essa configuração é ideal quando você está apenas começando a usar o Google Cloud NetApp volumes e experimentando tudo. No entanto, na prática, é provável que você precise fornecer um escopo adicional para os volumes provisionados.</block>
  <block id="2d55ceabc505d58735d6f639a0ddee3c" category="example-title">Configuração com filtro StoragePools</block>
  <block id="9f50e88dc1b2f50c32d6623a46186422" category="paragraph">Essa configuração de back-end define vários pools virtuais em um único arquivo. Os pools virtuais são definidos na<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> seção. Elas são úteis quando você tem vários pools de storage com suporte a diferentes níveis de serviço e deseja criar classes de storage no Kubernetes que os representem. Rótulos de pool virtual são usados para diferenciar os pools. Por exemplo, no exemplo abaixo<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> label e<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block> type é usado para diferenciar pools virtuais.</block>
  <block id="88b8febb44310d1976318cdfbfc8e272" category="paragraph">Você também pode definir alguns valores padrão para serem aplicáveis a todos os pools virtuais e substituir os valores padrão para pools virtuais individuais. No exemplo a seguir,<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> e<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> serve como padrão para todos os pools virtuais.</block>
  <block id="6a34de146c5cb15d515a8eccfe1e159a" category="paragraph">Para obter mais informações, <block ref="2485f0c91682fe52be2f7fb65e682d5e" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="aae18f7253cac406ae284f53b287a9df" category="paragraph">Para verificar se o back-end foi criado com sucesso, execute o seguinte comando:</block>
  <block id="03b8a172613e4de074d79fb4f46074a3" category="paragraph">Se a criação do backend falhar, algo está errado com a configuração do backend. Você pode descrever o back-end usando o<block ref="229abe1e223382a9207e6c5818f53303" prefix=" " category="inline-code"></block> comando ou visualizar os logs para determinar a causa executando o seguinte comando:</block>
  <block id="c80946da495de259ca1ba66a90f669f1" category="paragraph">Depois de identificar e corrigir o problema com o arquivo de configuração, você pode excluir o backend e executar o comando create novamente.</block>
  <block id="7412fabe1fe110c48954fa7d913c7aa6" category="paragraph">A seguir está uma definição básica<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que se refere ao backend acima.</block>
  <block id="73edba1e6e192a3d47eeb049261cf706" category="paragraph">* Exemplo de definições usando o<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> campo:*</block>
  <block id="131942def57ce0eceb784a70e3a3c6b7" category="inline-link-macro">pool virtual</block>
  <block id="21f282d336bd6884d8049de5c63672b5" category="paragraph">Usando<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> você pode especificar para cada<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> um <block ref="6679d756882db6798c9460928c0b140b" category="inline-link-macro-rx"></block> que é usado para hospedar um volume. O volume terá os aspetos definidos no pool escolhido.</block>
  <block id="017c90fe97524fad37b16a935c4a6d93" category="paragraph">Para obter mais detalhes sobre classes de armazenamento, <block ref="70514be1adf68f525abe0b1ddd1123f6" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="f9f2eb48a9034cb5dc809b4a8cfe0514" category="section-title">Exemplo de definição de PVC</block>
  <block id="1fa71ec0db169cb1ef6cfabf7648910e" category="paragraph">Para verificar se o PVC está vinculado, execute o seguinte comando:</block>
  <block id="42d7c2849e22a4d78da8b275f64f75aa" category="summary">Antes de configurar o back-end do Google Cloud NetApp volumes, você precisa garantir que os requisitos a seguir sejam atendidos.</block>
  <block id="b50d4e4fb1b847d1270df87e42364fe0" category="doc">Prepare-se para configurar um back-end do Google Cloud NetApp volumes</block>
  <block id="0935df2153a18d9a4776751ebfb7cb82" category="section-title">Pré-requisitos para volumes NFS</block>
  <block id="a03c3224ff98ca5b518f8a11ed9d6f72" category="paragraph">Se você estiver usando o Google Cloud NetApp volumes pela primeira vez ou em um novo local, precisará de alguma configuração inicial para configurar o Google Cloud NetApp volumes e criar um volume NFS. <block ref="d2edeebd0b5ddcd8a293f6eb7960f37c" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="ec8b4b1603705e8f5deb17b1f83c5b04" category="paragraph">Antes de configurar o back-end do Google Cloud NetApp volumes:</block>
  <block id="1215f8190533dfdf63d2224a6d88266f" category="inline-link-macro">Google Cloud NetApp volumes</block>
  <block id="cbd1a08f0c7e9ece495b85acebbda95f" category="list-text">Uma conta do Google Cloud configurada com o serviço Google Cloud NetApp volumes. <block ref="633097af004065de10009ea2f33900c4" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="d602f37c15ba943e502f28694eb5a2b1" category="inline-link-macro">Identificação de projetos</block>
  <block id="ecf1c0124555e123ac90e38128ef83e5" category="list-text">Número do projeto da sua conta do Google Cloud. <block ref="64c0ff4c5d45f1d3f3d8ce4197eed1cc" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="aa22e5fd0429d1ecf78d5deedf0c6dc8" category="inline-link-macro">Funções e permissões de gerenciamento de identidade e acesso</block>
  <block id="ef2186bedd233e9b009e5d1764dc1e3c" category="inline-link-macro">Visão geral dos pools de armazenamento</block>
  <block id="33773afc759728866f9a57d82940a56c" category="list-text">Um pool de armazenamento. <block ref="d347dce2da907b926fcf6a02a7257712" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="dd2c158264290c91be79556252aca308" category="inline-link-macro">Configurar o acesso ao Google Cloud NetApp volumes</block>
  <block id="7cef0ad261753740989fa192df2e19e9" category="paragraph">Para obter mais informações sobre como configurar o acesso ao Google Cloud NetApp volumes, <block ref="5e9b4ec852ec4a511a1370be58118d01" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="b73a4f3ea8538e5ef0b4078c119b3c8d" category="doc">Configurar um back-end do Google Cloud NetApp volumes</block>
  <block id="23fa813a6884f33dc0d2070ae5260e6a" category="section-title">Detalhes do driver do Google Cloud NetApp volumes</block>
  <block id="5ab9649a1218ec1b35bfb38efbeaea76" category="cell"><block ref="94594b2ccbc8e0d220ad37504461650b" prefix="" category="inline-code"></block></block>
  <block id="53ba532dfa04fe29152221a3efb3e98f" category="doc">Configure um back-end do Cloud Volumes Service para o Google Cloud</block>
  <block id="8126e96f64b1a5de24d4cf6e4b09b986" category="section-title">Detalhes do driver do Google Cloud</block>
  <block id="1d326a2a7f267c800fe3eafb89e5c7cd" category="inline-link-macro">tipos de serviço</block>
  <block id="3671a5060127094ad405aad9295e6609" category="inline-link-macro">três níveis de serviço</block>
  <block id="1b3b34a1280074ca8311ff50bbacac6c" category="list-text"><block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix="" category="inline-code"></block></block>
  <block id="3f27980baf5bae9c9c40df09c54f6f23" category="list-text"><block ref="a288195832f8717bca4671416014a464" prefix="" category="inline-code"></block></block>
  <block id="091d891c1f040cef1072e2593b7f1f3b" category="list-text"><block ref="287e9593819b2fcdf9945e7ccacd637d" prefix="" category="inline-code"></block></block>
  <block id="1048ee58172376b84dda9c7505d858ea" category="inline-link-macro">dois níveis de serviço</block>
  <block id="6c62a8c68facf167a61fbd54e9cceb5f" category="list-text">*CVS*: O tipo de serviço CVS fornece alta disponibilidade por zonas com níveis de desempenho limitados a moderados. O tipo de serviço CVS é uma opção de software que usa pools de armazenamento para dar suporte a volumes tão pequenos quanto 1 GiB. O pool de storage pode conter até 50 volumes em que todos os volumes compartilham a capacidade e a performance do pool. Você pode escolher um dos <block ref="21d52e1e64b94d45bea308be30f5a76a" category="inline-link-macro-rx"></block>:</block>
  <block id="277d5dd64fbcc2dbcd79252b41d6113e" category="list-text"><block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix="" category="inline-code"></block></block>
  <block id="4bfd77bf3278584b71bc8c9deef39ca9" category="list-text"><block ref="75b65576cc4a19f0836b73610ad5957a" prefix="" category="inline-code"></block></block>
  <block id="da195e41c537042ae77405110c4512ff" category="paragraph">Para configurar e usar o<block ref="5129d3f1116e9c5221bfcf965a1ede35" category="inline-link-rx"></block> back-end, você precisa do seguinte:</block>
  <block id="66d7ad821e261a4b5099f37ced19ebb1" category="list-text">Uma conta do Google Cloud configurada com o NetApp Cloud Volumes Service</block>
  <block id="2c00ff9c7700dc3529c57f0a5281bbe2" category="list-text">Número do projeto da sua conta do Google Cloud</block>
  <block id="43752d169c5729fffa3a6557a0978cb8" category="list-text">Conta de serviço do Google Cloud com a<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block> função</block>
  <block id="f56a3add505b7e123b55b814f7acc26b" category="list-text">Arquivo de chave de API para sua conta Cloud Volumes Service</block>
  <block id="07cc9934740ba3dd46a0d7d2c9502d39" category="cell">"gcp-cvs"</block>
  <block id="6eb82a822b962404b9694b93f2967679" category="cell"><block ref="78ec9b60245b46a4f05158076962ace9" prefix="" category="inline-code"></block></block>
  <block id="4efa10ec47c98c5ed67e1a72f7515240" category="cell">Apenas tipo de serviço CVS. Parâmetro opcional usado para especificar pools de armazenamento para criação de volume.</block>
  <block id="1a269fb3ec0496720ca75e984d8de40e" category="cell"><block ref="b5caf2c58446baec75b83bf637a98d1b" prefix="" category="inline-code"></block></block>
  <block id="f0559497c76611a262c1a6fa93592cd7" category="cell">Necessário se estiver usando uma rede VPC compartilhada. Neste cenário,<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block> é o projeto de serviço, e<block ref="b5caf2c58446baec75b83bf637a98d1b" prefix=" " category="inline-code"></block> é o projeto host.</block>
  <block id="2086191016950a784040f7d22ab27f60" category="cell"><block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix="" category="inline-code"></block></block>
  <block id="665f1a07bc016a07fdc13ef823fcdb03" category="cell">Chave de API para a conta de serviço do Google Cloud com a<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block> função. Ele inclui o conteúdo formatado em JSON do arquivo de chave privada de uma conta de serviço do Google Cloud (copiado literalmente no arquivo de configuração de back-end).</block>
  <block id="af18429250667f805769a7755a008c1f" category="cell"><block ref="10231d8ea5ef7f2b145e34a646b05e79" prefix="" category="inline-code"></block></block>
  <block id="3430995d97c2d987bf88dfb93ddb34f7" category="cell">URL do proxy se o servidor proxy for necessário para se conetar à conta CVS. O servidor proxy pode ser um proxy HTTP ou um proxy HTTPS. Para um proxy HTTPS, a validação do certificado é ignorada para permitir o uso de certificados autoassinados no servidor proxy. Os servidores proxy com autenticação ativada não são suportados.</block>
  <block id="c4105759a421b56f4e5aa47752aa6812" category="cell">O nível de serviço CVS-Performance ou CVS para novos volumes. Os valores CVS-Performance são<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block>,<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block>,<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block> ou . Os valores CVS são<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block> ou<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block>.</block>
  <block id="5c3d9364df4807427e3297a90edf2831" category="cell">O padrão CVS-Performance é "padrão". O padrão CVS é "standardsw".</block>
  <block id="5715e76155b75e9062107ef13c0576ed" category="cell">Rede Google Cloud usada para Cloud Volumes Service volumes.</block>
  <block id="9aa82da0cffe247b84587c1cc8e32746" category="cell">"predefinição"</block>
  <block id="ad438db80cb3bcd5f6fccdb1010b02f1" category="cell">Debug flags para usar ao solucionar problemas. Exemplo,<block ref="9b8710f6da218ae915e4ba2ae63f23d0" prefix=" " category="inline-code"></block>. Não use isso a menos que você esteja solucionando problemas e exija um despejo de log detalhado.</block>
  <block id="a5f4597012dd7af2b717fd4cc2f687fe" category="cell"><block ref="df6ccab784b5892507a7d11443254dc8" prefix="" category="inline-code"></block></block>
  <block id="d2e98deb07632de971600ae032776fe8" category="cell">Para habilitar o acesso entre regiões, a definição do StorageClass para<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block> deve incluir todas as regiões. Por exemplo:<block ref="3e7c75911911d149520dd40104fd92d7" prefix=" " category="inline-code"></block></block>
  <block id="fdcd5d79603b7f7c0f9b4525dd19b6ab" category="cell">As regras de exportação para novos volumes. Deve ser uma lista separada por vírgulas de qualquer combinação de endereços IPv4 ou sub-redes IPv4 na notação CIDR.</block>
  <block id="e76dcf1d6497658a2994b5f1f65b7a83" category="cell">"" (aceitar o padrão CVS de 0)</block>
  <block id="d5c8102144978e060556ba194e006d1e" category="cell">O tamanho dos novos volumes. O mínimo de desempenho do CVS é de 100 GiB. CVS mínimo é de 1 GiB.</block>
  <block id="400f2f53e7d26564783ac50a601d32cb" category="cell">O tipo de serviço CVS-Performance é padrão para "100GiB". O tipo de serviço CVS não define um padrão, mas requer um mínimo de 1 GiB.</block>
  <block id="94e5c486f56b72f4237fe801615b4406" category="section-title">Exemplos de tipos de serviço CVS-Performance</block>
  <block id="dea6ff4202a54251e04f7b84647690b6" category="paragraph">Os exemplos a seguir fornecem exemplos de configurações para o tipo de serviço CVS-Performance.</block>
  <block id="25f4894ddaab3c1182f12732d3bcf889" category="example-title">Exemplo 1: Configuração mínima</block>
  <block id="ae174742813090d1ddbc3ed75d27f7f2" category="paragraph">Essa é a configuração mínima de back-end usando o tipo de serviço CVS-Performance padrão com o nível de serviço padrão.</block>
  <block id="8228a8de88271b4a6a07d5021ae4ff7c" category="example-title">Exemplo 2: Configuração do nível de serviço</block>
  <block id="38a24bdf59c77f7705c407c60f3ea81e" category="paragraph">Este exemplo ilustra as opções de configuração de back-end, incluindo nível de serviço e padrões de volume.</block>
  <block id="4565a2282ee3312eddd091b3a3f6a263" category="example-title">Exemplo 3: Configuração de pool virtual</block>
  <block id="ed7c2c2093c7c8deca88a6580c82633a" category="paragraph">Este exemplo usa<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> para configurar pools virtuais e os<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> que se referem a eles. <block ref="f986c11e10e5f3c768f256080a1f3f99" category="inline-xref-macro-rx"></block>Consulte para ver como as classes de armazenamento foram definidas.</block>
  <block id="935927e4b464388790a08251e1c2254d" category="paragraph">Aqui, padrões específicos são definidos para todos os pools virtuais, que definem o<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> em 5% e o<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> para 0,0.0,0/0. Os pools virtuais são definidos na<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> seção. Cada pool virtual individual define seu próprio<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block>, e alguns pools substituem os valores padrão. Rótulos de pool virtual foram usados para diferenciar os pools com base em<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> e<block ref="152f5dc0f7ac734f8e8ee17d4a482462" prefix=" " category="inline-code"></block>.</block>
  <block id="5b797cdb3913e416eaea99109620eb0d" category="paragraph">As seguintes definições do StorageClass se aplicam ao exemplo de configuração de pool virtual. Usando<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>o , você pode especificar para cada StorageClass o pool virtual usado para hospedar um volume. O volume terá os aspetos definidos no pool escolhido.</block>
  <block id="ea7cdbae94b0329e6731e1f3ae9fc4fc" category="example-title">Exemplo de classe de armazenamento</block>
  <block id="48bbf2b27d410d92674b0f8f5d3447a0" category="list-text">O primeiro StorageClass ) <block ref="d3b08f69c5bb5aadd45b7ba9391c7447" prefix="(" category="inline-code"></block>mapeia para o primeiro pool virtual. Esse é o único pool que oferece desempenho extremo com uma reserva de snapshot de 10%.</block>
  <block id="d371b8466ee11b2a14782e343e3ed344" category="section-title">Exemplos de tipo de serviço CVS</block>
  <block id="f7a4e685ebf6839fc43b3bbaeff96c33" category="paragraph">Os exemplos a seguir fornecem exemplos de configurações para o tipo de serviço CVS.</block>
  <block id="96899a80429985fe87db6dedf997357e" category="example-title">Exemplo 1: Configuração mínima</block>
  <block id="2bab01748045e624b36f643d0a50b1c2" category="paragraph">Essa é a configuração mínima de back-end usada<block ref="78ec9b60245b46a4f05158076962ace9" prefix=" " category="inline-code"></block> para especificar o tipo de serviço CVS e o nível de serviço padrão<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block>.</block>
  <block id="d1f5fcc31a1c5bb592600c9f986af71c" category="example-title">Exemplo 2: Configuração do pool de armazenamento</block>
  <block id="879b7d1da5135e7d94358584a7245e33" category="paragraph">Essa configuração de back-end de exemplo é usada<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> para configurar um pool de armazenamento.</block>
  <block id="a22a8450047f7b7aea2c76b348f6ba43" category="summary">Você pode exibir classes de armazenamento existentes, definir uma classe de armazenamento padrão, identificar o back-end da classe de armazenamento e excluir classes de armazenamento.</block>
  <block id="e8b9c3a9859a62e9a58431c3b61f75d5" category="doc">Gerenciar classes de armazenamento</block>
  <block id="e606165355271961ba07945766fbf83a" category="section-title">Exibir as classes de armazenamento existentes</block>
  <block id="7c237bc6c124137d25df2dec1cb3e528" category="list-text">Para visualizar as classes de armazenamento do Kubernetes existentes, execute o seguinte comando:</block>
  <block id="4aae22fbb9c0d354d0a9c15c6c126d89" category="list-text">Para ver os detalhes da classe de storage do Kubernetes, execute o seguinte comando:</block>
  <block id="ce32eb748bd7452bd6ee6d1d7ad6d3a7" category="section-title">Defina uma classe de armazenamento padrão</block>
  <block id="f30a1542c01c3c493f3c01c88dfe5fcd" category="paragraph">O Kubernetes 1,6 adicionou a capacidade de definir uma classe de storage padrão. Esta é a classe de armazenamento que será usada para provisionar um volume persistente se um usuário não especificar um em uma reivindicação de volume persistente (PVC).</block>
  <block id="7c435ae4763642458286cb691812ea55" category="list-text">Defina uma classe de armazenamento padrão definindo a anotação<block ref="2e87d06175a666e414e1b430b811ef2d" prefix=" " category="inline-code"></block> como verdadeira na definição da classe de armazenamento. De acordo com a especificação, qualquer outro valor ou ausência da anotação é interpretado como falso.</block>
  <block id="61fd76f55d29aaceb4a6ee09a318dc45" category="list-text">Você pode configurar uma classe de armazenamento existente para ser a classe de armazenamento padrão usando o seguinte comando:</block>
  <block id="800477137444bec636483de85335cbb5" category="list-text">Da mesma forma, você pode remover a anotação de classe de armazenamento padrão usando o seguinte comando:</block>
  <block id="2d2f31c3012657fd7b38b41312d1a0b8" category="paragraph">Há também exemplos no pacote de instalação do Trident que incluem esta anotação.</block>
  <block id="e372af4ebeb99af557aa13609f47f47c" category="admonition">Deve haver apenas uma classe de armazenamento padrão no cluster de cada vez. O Kubernetes não impede tecnicamente que você tenha mais de um, mas se comportará como se não houvesse nenhuma classe de storage padrão.</block>
  <block id="6c36cb9c072dc4cb9e163c44568f6a91" category="section-title">Identificar o back-end de uma classe de storage</block>
  <block id="0fe0aa7b9b7529f66030afb1629507bb" category="section-title">Excluir uma classe de armazenamento</block>
  <block id="4bf50148821c75f616a96daca9255e6f" category="paragraph">Para excluir uma classe de armazenamento do Kubernetes, execute o seguinte comando:</block>
  <block id="65494a0b3404ce637afd88bcb7c82998" category="paragraph"><block ref="4c13babc60c6bf50b7fe85107bcf8af2" prefix="" category="inline-code"></block> deve ser substituído pela sua classe de armazenamento.</block>
  <block id="64dbac0ca36d9b1f6a8cf1e8a0123261" category="list-text">Examine as informações de uso do back-end e entenda quantos volumes são provisionados em um back-end e a quantidade de espaço consumido, etc.</block>
  <block id="7f6516030964b624d9c71fd9ec7f83dd" category="list-text">Mantenha um mapeamento da quantidade de volumes provisionados em backends disponíveis.</block>
  <block id="efe0d75090a22534acabc936f8669994" category="admonition">Por padrão, as métricas do Trident são expostas na porta de destino<block ref="bc3c4a6331a8a9950945a1aa8c95ab8a" prefix=" " category="inline-code"></block> no<block ref="ae3b848d2daecffc635ae20b0b882d8f" prefix=" " category="inline-code"></block> endpoint. Essas métricas são *ativadas por padrão* quando o Trident está instalado.</block>
  <block id="eb8bfd69bb88378a6f4d987811890ce6" category="inline-link">Implantação do Prometheus em contêiner</block>
  <block id="42ae2e91a939ffa9bbda53c10bf5f89f" category="inline-link">aplicação nativa</block>
  <block id="050899631250104f17d24b27cc8a12e5" category="list-text">Uma instância Prometheus. Isso pode ser um<block ref="bd5b9e4bd7b88b90afb221fb760a777c" category="inline-link-rx"></block> ou você pode optar por executar Prometheus como um<block ref="3f1d5beaea78c0fd8cb397fbeb1c88bd" category="inline-link-rx"></block>.</block>
  <block id="68276ca40dfbfd36de911402152fa452" category="section-title">Passo 1: Defina um alvo Prometheus</block>
  <block id="c33638e0de87536b08eeb94264671d0f" category="section-title">Passo 2: Crie um Prometheus ServiceMonitor</block>
  <block id="81a21a88b42cd5c83d149a080a627bad" category="paragraph">Para consumir as métricas do Trident, você deve criar um Prometheus ServiceMonitor que vigia<block ref="d9585690fd147c34fbd50c487a3520de" prefix=" " category="inline-code"></block> o serviço e escuta na<block ref="aa59d67c2123f094d0d6798ffe651c4d" prefix=" " category="inline-code"></block> porta. Um exemplo de ServiceMonitor se parece com isso:</block>
  <block id="1db2022a8a8de5d612eda8e3be0e1065" category="section-title">Passo 3: Consultar métricas do Trident com PromQL</block>
  <block id="f5142e19a3b1edf809fce9d3b6aefc05" category="paragraph">PromQL é bom para criar expressões que retornam dados de séries temporais ou tabulares.</block>
  <block id="8c6fb1be2521fd16337c11c626672678" category="paragraph">Aqui estão algumas consultas PromQL que você pode usar:</block>
  <block id="b214fd0009b3929347f097bd843f0bfd" category="section-title">Obtenha informações de saúde do Trident</block>
  <block id="f160a52d617adf6e6c5d379a9b8bca89" category="list-text">**Tamanho médio do volume**</block>
  <block id="eb978bfe01ec0c72ad231f3953e304a2" category="list-text">**Espaço total de volume provisionado por cada back-end**</block>
  <block id="5f735ae12eafbe476178928f4645475b" category="section-title">Obtenha uso de volume individual</block>
  <block id="ee0898e9f0caa503f3eaa39c919f4c53" category="admonition">Isso é ativado somente se as métricas do kubelet também forem coletadas.</block>
  <block id="0bc301d2423b2ffaa38a5e275e4ec6f9" category="list-text">** Porcentagem de espaço usado para cada volume**</block>
  <block id="ca0f9a86ca33f1d6baa9051bd7f4ed21" category="inline-link">política de privacidade</block>
  <block id="5224919a4ae5ccf610fb0ee74e4e7a94" category="inline-link">Trident AutoSupport</block>
  <block id="53084cad3d11df800502598c11e2d10b" category="inline-link">EULA</block>
  <block id="b9a641d903e611a87a5e68ac7fdb0b84" category="list-text">A Trident AutoSupport não coleta nem transmite informações de identificação pessoal (PII) ou informações pessoais. Ele vem com um<block ref="173a360b412944768c2ab13e6c8fd1c7" category="inline-link-rx"></block> que não é aplicável à própria imagem de contentor Trident. Você pode saber mais sobre o compromisso da NetApp com a segurança e a confiança dos dados<block ref="d3cc55401bc8303e01c6b0c43ba0733f" category="inline-link-rx"></block> .</block>
  <block id="d2ec86f126f845e79aff07e70bf89472" category="list-text">As mensagens do AutoSupport são enviadas para o ponto de extremidade do AutoSupport do NetApp. Se você estiver usando um Registro privado para armazenar imagens de contentor, você pode usar o<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block> sinalizador.</block>
  <block id="86c5a11fba83815412aec79f67f2d276" category="list-text">Você também pode configurar URLs de proxy gerando os arquivos YAML de instalação. Isso pode ser feito usando<block ref="758aee5ba3aed3d4e9a31a16ea04b47a" prefix=" " category="inline-code"></block> para criar os arquivos YAML e adicionar o<block ref="46f08f4431bbd907a039e14ddf39cf5f" prefix=" " category="inline-code"></block> argumento para o<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block> contentor no<block ref="eb6cdeddd28243c1552ea3b1061b4410" prefix=" " category="inline-code"></block>.</block>
  <block id="8ec47dab227d183e0d3ad0cd529d289b" category="paragraph">Para **desabilitar métricas** de serem reportadas, você deve gerar YAMLs personalizados (usando o<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block> sinalizador) e editá-los para remover o<block ref="7d91b1e10cf86478be03f54a8c39320a" prefix=" " category="inline-code"></block> sinalizador de ser invocado para o<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block> contentor.</block>
  <block id="a288b0971f8f6c63f5e6510bcebf421b" category="cell">Nome do driver e dataLIF</block>
  <block id="ae8df8316f5c485b7db4e7141e899701" category="cell">Endereço especificado ou derivado do SVM, se não for especificado (não recomendado)</block>
  <block id="19611c32e434019e356af9e0da999936" category="cell">Máquina virtual de armazenamento para usar *omit for MetroCluster.* Consulte <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>.</block>
  <block id="ef65dd3301d78701f7cfcf8a01834f2f" category="cell">Derivado se uma SVM<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> for especificada</block>
  <block id="a0f3a965c12688befda99da850903dcb" category="cell"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block></block>
  <block id="b4ad0dff08149092bc3e4b16572af575" category="cell"><block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix="" category="inline-code"></block></block>
  <block id="e50e8adc0d4818a8ed496eb95b3aea51" category="cell">["0,0.0,0/0", "::/0"]»</block>
  <block id="b5cbbe3dadaab4a036fdb38af67ee936" category="cell">Conjunto de rótulos arbitrários formatados em JSON para aplicar em volumes</block>
  <block id="cbdaf784161be9806a24fe78a8046c01" category="cell"><block ref="79fffaff4013c1e8c508e76646eca77b" prefix="" category="inline-code"></block></block>
  <block id="a84cbedc106b973917ae925d04533f97" category="cell">Valor codificado em base64 do certificado do cliente. Usado para autenticação baseada em certificado</block>
  <block id="8545e54eea74cf2579fbe1cb56b11862" category="cell"><block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix="" category="inline-code"></block></block>
  <block id="4a54228eb2be79492f8f76bb814ddf63" category="cell">Valor codificado em base64 da chave privada do cliente. Usado para autenticação baseada em certificado</block>
  <block id="b071cd8105f8f59b777098388b7a3322" category="cell"><block ref="8468461bca00a47ab5ddba2afc45f52c" prefix="" category="inline-code"></block></block>
  <block id="ffe4ce29fe1a6176d496c40332e9cb98" category="cell">Valor codificado em base64 do certificado CA confiável. Opcional. Usado para autenticação baseada em certificado</block>
  <block id="83425e975af1b2d60355aa4162300198" category="cell">Nome de usuário para se conetar ao cluster/SVM. Usado para autenticação baseada em credenciais</block>
  <block id="63d06d6cc41e485615f99a3aad0002b3" category="cell">Senha para se conectar ao cluster/SVM. Usado para autenticação baseada em credenciais</block>
  <block id="e3f688f3aa653574b3253640aa98f47c" category="cell">Prefixo usado ao provisionar novos volumes na SVM. Não pode ser atualizado depois de configurá-lo</block>
  <block id="86780ad6247dfbcd90ca1455ee592852" category="cell">"Trident"</block>
  <block id="280a6a6866847c57b1a98bbcdc929268" category="cell">"" (não aplicado por padrão)</block>
  <block id="c9a303edbc714d051896c3a678e59a8a" category="cell"><block ref="10c2308c62a9c0c2c33bcb4ad2f72be1" prefix="" category="inline-code"></block></block>
  <block id="79892588cbecd0b88729ea1a55b2a3a4" category="cell">Máximo de LUNs por FlexVol, tem de estar no intervalo [50, 200]</block>
  <block id="7e6a32bd8074b1aa2c8c0d2529140ae4" category="cell">Debug flags para usar ao solucionar problemas. Por exemplo, não use<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> a menos que você esteja solucionando problemas e exija um despejo de log detalhado.</block>
  <block id="a13306f726fdf72d2d992a7ebdc63b1b" category="cell">Qtrees máximos por FlexVol, têm de estar no intervalo [50, 300]</block>
  <block id="89ffa293e05655bd6be9d422345be38a" category="cell">"200"</block>
  <block id="7bb910e3cf11d0b34ca215aa399d3f23" category="cell"><block ref="5910159ef86741f119f7574a9064b5b0" prefix="" category="inline-code"></block></block>
  <block id="2bd69c3354973375e1abed3c9beb1eff" category="cell"><block ref="f777ab485270937cd9b9efc63021484f" prefix="" category="inline-code"></block></block>
  <block id="f703d18584e163e18762e4dc13ad96a0" category="cell"><block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix="" category="inline-code"></block></block>
  <block id="a8d3b70256520cece459d618f0b69d22" category="cell"><block ref="b326b5062b2f0e69046810717534cb09" prefix="" category="inline-code"></block> Para ONTAP 9.15,1 ou posterior, caso contrário<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>.</block>
  <block id="193a49bcfb561fea878daa5efe72cad9" category="section-title">Opções de configuração de back-end para volumes de provisionamento</block>
  <block id="c59183b2f668b355e81e7bb1256f92b3" category="paragraph">Você pode controlar o provisionamento padrão usando essas opções na<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> seção da configuração. Para obter um exemplo, consulte os exemplos de configuração abaixo.</block>
  <block id="26161d08a960162cd8633d0e23058aed" category="cell">Alocação de espaço para LUNs</block>
  <block id="ebc576222020c2a2ae2fc769169f1d2a" category="cell">"verdadeiro"</block>
  <block id="c41b872c22969c2098a0056121589349" category="cell">Modo de reserva de espaço; "nenhum" (fino) ou "volume" (grosso)</block>
  <block id="f6d62a8e69201d3806ac1ef24ec64c4d" category="cell">"nenhum"</block>
  <block id="77f69e470b8766d2dc5df4b7f469ed72" category="cell">Política de instantâneos a utilizar</block>
  <block id="84d2c2c768bd1900489bad5fb46b4aac" category="cell"><block ref="36c38058d66835923c982c773a817f0b" prefix="" category="inline-code"></block></block>
  <block id="54b94bba5d336f4e3d5fd7e88544fad1" category="cell">Grupo de políticas de QoS a atribuir aos volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento/backend</block>
  <block id="952e3a12d35e717bf86a6000b0c08976" category="cell"><block ref="3e5432e43a275793680f854329e05b72" prefix="" category="inline-code"></block></block>
  <block id="5896cc977dd7b9854957e18a2a5bf072" category="cell">Grupo de políticas de QoS adaptável a atribuir para volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento/backend. Não suportado pela ONTAP-nas-Economy.</block>
  <block id="6b3e1a8dae111668b3e4e13c5949a7c0" category="cell">"0" se<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> for "nenhum", caso contrário ""</block>
  <block id="6f5c0c94b1a17baffd2c33facaa10db6" category="cell">Divida um clone de seu pai na criação</block>
  <block id="7639141e9ab9cd89ef8bc0b16fd34e6a" category="cell">Política de disposição em camadas para usar "nenhuma"</block>
  <block id="3e9a232d025270ed6767c385b8291871" category="cell">Modo para novos volumes</block>
  <block id="3eda001907760c018e29ddf4cb7aa3c8" category="cell">"777" para volumes NFS; vazio (não aplicável) para volumes SMB</block>
  <block id="7e8aabb1dc00b7d4aac6d0876f6507f4" category="cell">Controla o acesso ao<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> diretório</block>
  <block id="c1a0e97f953c948568aed6c134fc9711" category="cell">Política de exportação a utilizar</block>
  <block id="375aa0b790f300787cdecf0f896b97f5" category="cell">Estilo de segurança para novos volumes. Estilos de segurança e<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> suporte de NFS<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>. Suporta SMB<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> e<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> estilos de segurança.</block>
  <block id="4a359bdcdb3ce547581bdea3ce6c5bd7" category="cell">O padrão NFS é<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>. O padrão SMB é<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>.</block>
  <block id="1a917db78e9060d4bb44a3e3d9a60cb3" category="cell"><block ref="feeb5473f4afb4f667dfc9d369c3b454" prefix="" category="inline-code"></block></block>
  <block id="ae7206c28f1d0ee5f9f116f1cfe22c54" category="cell">Modelo para criar nomes de volume personalizados.</block>
  <block id="e62f5d0a5a95571e25197caafe78cd98" category="section-title">Exemplos de provisionamento de volume</block>
  <block id="2043559d67ba802541907de326b5ecdd" category="paragraph">Aqui está um exemplo com padrões definidos:</block>
  <block id="86ec808b80973d24eadfc617926f534e" category="paragraph">O cálculo é o seguinte:</block>
  <block id="2f1534ee8d0c6ec998511ed37cfe0da9" category="image-alt">Mostra a saída do comando volume show.</block>
  <block id="2aae2b6accd04335b3eeceb2193b34d6" category="section-title">Exemplos mínimos de configuração</block>
  <block id="f35c0fe4b6581c16866c964cef229bfa" category="admonition">Se você estiver usando o Amazon FSX no NetApp ONTAP com Trident, a recomendação é especificar nomes DNS para LIFs em vez de endereços IP.</block>
  <block id="9561077d9ef091b88a253b8593eb8bfb" category="example-title">Exemplo de economia nas do ONTAP</block>
  <block id="d24ddd1da817847ede47979e6e68c60e" category="example-title">Exemplo de ONTAP nas FlexGroup</block>
  <block id="16d35233bf6aa04a2ff7b9ec19d64661" category="example-title">Exemplo de MetroCluster</block>
  <block id="fd9313829353096dad83775c55ce66f8" category="paragraph">Você pode configurar o back-end para evitar ter que atualizar manualmente a definição do back-end após o switchover e o switchback durante <block ref="6ffda35fd03109cc0d7cf7a1f79d2c30" category="inline-link-macro-rx"></block>o .</block>
  <block id="abc765e949697f25e96670a5cab132f3" category="paragraph">Para comutação e switchback contínuos, especifique o SVM usando<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> e omite os<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> parâmetros e.<block ref="924ff83ff1e671bacfb07ff12b845703" prefix=" " category="inline-code"></block> Por exemplo:</block>
  <block id="8788fe54575b03d9b62dbb1a38a7a277" category="example-title">Exemplo de volumes SMB</block>
  <block id="dacbfb309aa16cb942510c02c224fdbc" category="example-title">Exemplo de autenticação baseada em certificado</block>
  <block id="78e5b29e139db71ceb7ca6bc99b5e228" category="paragraph">Este é um exemplo de configuração de back-end mínimo.<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block>,<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block> E<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block> (opcional, se estiver usando CA confiável) são preenchidos<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> e recebem os valores codificados em base64 do certificado do cliente, da chave privada e do certificado de CA confiável, respetivamente.</block>
  <block id="1ce00ab507a065e4febc57b244e25d18" category="example-title">Exemplo de política de exportação automática</block>
  <block id="5ef13a507a243e20eb0469a9d7670527" category="example-title">Exemplo de endereços IPv6</block>
  <block id="0275de02c3bba722f4540469d23cc535" category="paragraph">Este exemplo mostra<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> usando um endereço IPv6.</block>
  <block id="ee8af8063e9ea3725931d232730b8a8e" category="example-title">Exemplo do Amazon FSX para ONTAP usando volumes SMB</block>
  <block id="33ef55e82416e2c1c4beb9cba9560b02" category="paragraph">O<block ref="5910159ef86741f119f7574a9064b5b0" prefix=" " category="inline-code"></block> parâmetro é necessário para o FSX for ONTAP usando volumes SMB.</block>
  <block id="b797b4560e6c4ae4e13d035bbce23b4d" category="example-title">Exemplo de configuração de backend com nameTemplate</block>
  <block id="1b9ef354b22d8a8b125247fd538da4b2" category="section-title">Exemplos de backends com pools virtuais</block>
  <block id="71b79981e733eabd769324fa40c8fa6d" category="paragraph">Nos arquivos de definição de back-end de exemplo mostrados abaixo, padrões específicos são definidos para todos os pools de armazenamento, como<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> em nenhum,<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> em falso e<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> em falso. Os pools virtuais são definidos na seção armazenamento.</block>
  <block id="71fcdf20b31ca43f6ef64c06530f313d" category="paragraph">Nesses exemplos, alguns dos pools de armazenamento definem seus próprios<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block><block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> valores , e<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> , e alguns pools substituem os valores padrão.</block>
  <block id="574e53d92fdeaac37ba2d879a9b88f12" category="example-title">Exemplo de ONTAP nas</block>
  <block id="bdb252122df8a6e68a54782628d1944f" category="example-title">Exemplo de ONTAP nas FlexGroup</block>
  <block id="f00b69018be0961b32ee24ec54fb56d1" category="section-title">Mapeie os backends para StorageClasses</block>
  <block id="eb2e955f1a984e2be0e3fa8cdbe6667c" category="paragraph">As seguintes definições do StorageClass referem-se <block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>a . Usando o<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> campo, cada StorageClass chama quais pools virtuais podem ser usados para hospedar um volume. O volume terá os aspetos definidos no pool virtual escolhido.</block>
  <block id="01eacb47d802acac83a7e60311768055" category="list-text">O<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> StorageClass será mapeado para o primeiro e segundo pool virtual<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> no back-end. Estas são as únicas piscinas que oferecem proteção de nível de ouro.</block>
  <block id="6b35cdd98b7f7e55e698a6d0628e18e0" category="list-text">O<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block> StorageClass será mapeado para o terceiro e quarto pool virtual no<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> back-end. Estas são as únicas piscinas que oferecem um nível de proteção diferente do ouro.</block>
  <block id="535efa214445261dfda5d5edc613e56b" category="list-text">O<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block> StorageClass será mapeado para o quarto pool virtual<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> no back-end. Este é o único pool que oferece configuração de pool de armazenamento para o aplicativo tipo mysqldb.</block>
  <block id="d0c5a28c77fc4e37f7271d37f7372724" category="list-text">O<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block> StorageClass será mapeado para o terceiro pool virtual no<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> back-end. Esta é a única piscina que oferece proteção de nível de prata e 20000 pontos de crédito.</block>
  <block id="0191eea3640b05213a7522d6581a2fd5" category="list-text">O<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block> StorageClass será mapeado para o terceiro pool virtual<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> no back-end e o segundo pool virtual<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> no back-end. Estas são as únicas ofertas de pool com 5000 pontos de crédito.</block>
  <block id="0bd54df5242a2a2e9eca045fc695b41f" category="section-title">Atualização<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> após a configuração inicial</block>
  <block id="ef0e40b987d8b9ad523bdde2bba5157a" category="summary">Entenda os requisitos, as opções de autenticação e as políticas de exportação para configurar um back-end do ONTAP com drivers nas do ONTAP.</block>
  <block id="fd05c90de484dbc1cb963df796886af4" category="doc">Prepare-se para configurar um back-end com drivers nas ONTAP</block>
  <block id="ffd4000c9e43a23d97e231d47f99dcd4" category="list-text">Você pode executar mais de um driver e criar classes de armazenamento que apontam para um ou outro. Por exemplo, você pode configurar uma classe Gold que usa o<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> driver e uma classe Bronze que usa o<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> um.</block>
  <block id="d7e54271baba05c2253c5c79a6155965" category="list-text">Todos os seus nós de trabalho do Kubernetes precisam ter as ferramentas NFS apropriadas instaladas. <block ref="f1f954e59a21e3ffe189e77dd2ee9f86" category="inline-link-macro-rx"></block>Consulte para obter mais detalhes.</block>
  <block id="c63609aba869239be30364b58d99b1a3" category="section-title">Autenticar o back-end do ONTAP</block>
  <block id="f3554362e5b550c58586036685aca0f6" category="list-text">Baseado em credenciais: Esse modo requer permissões suficientes para o back-end do ONTAP. Recomenda-se usar uma conta associada a uma função de login de segurança predefinida, como<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> ou<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> para garantir a máxima compatibilidade com as versões do ONTAP.</block>
  <block id="1ea1b160621872df5909653ebde1bf7f" category="paragraph">Você pode atualizar os backends existentes para mover entre métodos baseados em credenciais e baseados em certificado. No entanto, apenas um método de autenticação é suportado por vez. Para alternar para um método de autenticação diferente, você deve remover o método existente da configuração de back-end.</block>
  <block id="7335992f174c029a990442aca68aacbd" category="admonition">Se você tentar fornecer *credenciais e certificados*, a criação de back-end falhará com um erro que mais de um método de autenticação foi fornecido no arquivo de configuração.</block>
  <block id="a2f8f419bf420960ef8cca73e1999e09" category="section-title">Ative a autenticação baseada em credenciais</block>
  <block id="2312b8f77f99c346269b67308afc3649" category="paragraph">Uma definição de backend de exemplo será assim:</block>
  <block id="2a2ef6dcf08a8789a55301af5f71304c" category="paragraph">Tenha em mente que a definição de back-end é o único lugar onde as credenciais são armazenadas em texto simples. Depois que o back-end é criado, os nomes de usuário/senhas são codificados com Base64 e armazenados como segredos do Kubernetes. A criação/updation de um backend é a única etapa que requer conhecimento das credenciais. Como tal, é uma operação somente de administrador, a ser realizada pelo administrador do Kubernetes/storage.</block>
  <block id="052f76b486189a7b01340d5134eb7985" category="section-title">Ativar autenticação baseada em certificado</block>
  <block id="0778b06c5ea9fded4fd7b586b248dd86" category="paragraph">Backends novos e existentes podem usar um certificado e se comunicar com o back-end do ONTAP. Três parâmetros são necessários na definição de backend.</block>
  <block id="d5b9c9db262b1927d7914504f3587adb" category="list-text">ClientCertificate: Valor codificado base64 do certificado do cliente.</block>
  <block id="8f2b750dd6a57864f0e36828c248ddfc" category="list-text">ClientPrivateKey: Valor codificado em base64 da chave privada associada.</block>
  <block id="200c2d2a44dec6455fa1c947f9c1f534" category="list-text">TrustedCACertificate: Valor codificado base64 do certificado CA confiável. Se estiver usando uma CA confiável, esse parâmetro deve ser fornecido. Isso pode ser ignorado se nenhuma CA confiável for usada.</block>
  <block id="6b634823c19ebc37c9e4fdbf08de1fff" category="paragraph">Um fluxo de trabalho típico envolve as etapas a seguir.</block>
  <block id="c92e58d7dd251e6e6cdb16291a6dec90" category="list-text">Gerar um certificado e chave de cliente. Ao gerar, defina Nome Comum (CN) para o usuário ONTAP para autenticar como.</block>
  <block id="69b521cddbc52a2d14539e349e2930f0" category="list-text">Adicionar certificado de CA confiável ao cluster do ONTAP. Isso pode já ser Tratado pelo administrador do armazenamento. Ignore se nenhuma CA confiável for usada.</block>
  <block id="2f3945695e5ca88abb46af80d87c6972" category="list-text">Instale o certificado e a chave do cliente (a partir do passo 1) no cluster do ONTAP.</block>
  <block id="e81810c4035ad015ad3f0d8c4f2c6454" category="list-text">Confirme se a função de login de segurança do ONTAP suporta<block ref="b6ba9fa6ea18201bf39ea635ecca9f13" prefix=" " category="inline-code"></block> o método de autenticação.</block>
  <block id="997cff957213b9212a22d7cac2b4275d" category="list-text">Teste a autenticação usando certificado gerado. Substitua o ONTAP Management LIF&gt; e o &lt;vserver name&gt; por IP de LIF de gerenciamento e nome da SVM. Você deve garantir que o LIF tenha sua política de serviço definida como<block ref="1e2cb0c539a96182e302d676a4b791be" prefix=" " category="inline-code"></block>.</block>
  <block id="83f2adf143dc8f5fbbb9d924f840c1ce" category="list-text">Codificar certificado, chave e certificado CA confiável com Base64.</block>
  <block id="8d36e570f1edac5ae19e6733e3fbb4d5" category="list-text">Crie backend usando os valores obtidos na etapa anterior.</block>
  <block id="2ab8ad0fce083cd02635b9126cf4353c" category="section-title">Atualizar métodos de autenticação ou girar credenciais</block>
  <block id="31aae55e68bb5034f8f948ec526b9ff3" category="paragraph">Você pode atualizar um back-end existente para usar um método de autenticação diferente ou para girar suas credenciais. Isso funciona de ambas as maneiras: Backends que fazem uso de nome de usuário / senha podem ser atualizados para usar certificados; backends que utilizam certificados podem ser atualizados para nome de usuário / senha com base. Para fazer isso, você deve remover o método de autenticação existente e adicionar o novo método de autenticação. Em seguida, use o arquivo backend.json atualizado contendo os parâmetros necessários para executar<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>.</block>
  <block id="5e36c3d66bd47ae551071244dc48df17" category="admonition">Ao girar senhas, o administrador de armazenamento deve primeiro atualizar a senha do usuário no ONTAP. Isso é seguido por uma atualização de back-end. Ao girar certificados, vários certificados podem ser adicionados ao usuário. O back-end é então atualizado para usar o novo certificado, seguindo o qual o certificado antigo pode ser excluído do cluster do ONTAP.</block>
  <block id="07b434b23f63ca6490df33b213599320" category="section-title">Gerenciar políticas de exportação de NFS</block>
  <block id="4603f08ad837f4108ff2fe7665b0b1e3" category="section-title">Gerencie dinamicamente políticas de exportação</block>
  <block id="0cd8d0588cd2b20face3a0379d38f777" category="admonition">Não use NAT (Network Address Translation) ao usar políticas de exportação dinâmicas. Com o NAT, o controlador de armazenamento vê o endereço NAT frontend e não o endereço IP real do host, portanto, o acesso será negado quando nenhuma correspondência for encontrada nas regras de exportação.</block>
  <block id="66cbadc48d2dbe3accb93937a8d42d1e" category="paragraph">Há duas opções de configuração que devem ser usadas. Aqui está um exemplo de definição de backend:</block>
  <block id="4975fc485ff51ca8f82c6ea96f927287" category="paragraph">Aqui está uma explicação de como esse recurso funciona usando o exemplo acima:</block>
  <block id="4646f167a1fb9819f41f28d5ab11c1fa" category="paragraph">Você pode atualizar<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> e<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block> para backends depois de criá-los. Você pode anexar novos CIDR para um back-end que é gerenciado automaticamente ou excluir CIDR existentes. Tenha cuidado ao excluir CIDR para garantir que as conexões existentes não sejam descartadas. Você também pode optar por desativar<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> um back-end e retornar a uma política de exportação criada manualmente. Isso exigirá a configuração do<block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix=" " category="inline-code"></block> parâmetro em sua configuração de backend.</block>
  <block id="de1d1f6b64a5c5b6890c313888b290b7" category="admonition">A exclusão de um back-end com políticas de exportação gerenciadas automaticamente excluirá a política de exportação criada dinamicamente. Se o backend for recriado, ele será Tratado como um novo backend e resultará na criação de uma nova política de exportação.</block>
  <block id="fc4e16be02eac62a40d8ba5714cbeda1" category="section-title">Prepare-se para provisionar volumes SMB</block>
  <block id="e5fdb627c170dc14e3873b3da32f3aa5" category="paragraph">Com um pouco de preparação adicional, você pode provisionar volumes SMB usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers.</block>
  <block id="8de0a7910b914d44521684fe2a3a28c6" category="paragraph">Antes de provisionar volumes SMB, você deve ter o seguinte:</block>
  <block id="6a402202521e2168a911181e81c72faf" category="admonition">Compartilhamentos SMB são necessários para o Amazon FSX for ONTAP.</block>
  <block id="d98f239eeb5789a80cb4b247e5be144d" category="inline-link-macro">Microsoft Management Console</block>
  <block id="7f7041fc0ca0e00f3d3e39e4ce4a5149" category="paragraph">Você pode criar os compartilhamentos de administração SMB de duas maneiras usando o <block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block>snap-in pastas compartilhadas ou usando a CLI do ONTAP. Para criar compartilhamentos SMB usando a CLI do ONTAP:</block>
  <block id="c9e9c2bb32e43693c4687ec082488811" category="list-text">Se necessário, crie a estrutura do caminho do diretório para o compartilhamento.</block>
  <block id="8a19300a396203718795b4620552b59c" category="paragraph">O<block ref="293a1aaca0a542f4f1b1dc1a3ad95728" prefix=" " category="inline-code"></block> comando verifica o caminho especificado na opção -path durante a criação de compartilhamento. Se o caminho especificado não existir, o comando falhará.</block>
  <block id="a968d0620b250ca44da661cadac02e42" category="list-text">Crie um compartilhamento SMB associado ao SVM especificado:</block>
  <block id="e172e0c83051eb537305571585af294a" category="list-text">Verifique se o compartilhamento foi criado:</block>
  <block id="a6e62ff657f01a7df2d91d1ea0d3e76c" category="inline-link-macro">Crie um compartilhamento SMB</block>
  <block id="39026ea2687a8de2a318f8245aceb992" category="admonition"><block ref="2b8c6fb4597e9bb000d4d88db3769c9a" category="inline-link-macro-rx"></block>Consulte para obter detalhes completos.</block>
  <block id="e4f84f59067aa8e22119bf499379385a" category="inline-link-macro">Opções e exemplos de configuração do FSX for ONTAP</block>
  <block id="ca088cbb36bbab4b23e57d63d95a628c" category="list-text">Ao criar o back-end, você deve configurar o seguinte para especificar volumes SMB. Para obter todas as opções de configuração de back-end do FSX for ONTAP, <block ref="dd05fa371cf4b2c8377b8b4b261a8edd" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="3b84c7b88317953423192c633a83db9f" category="cell">*Tem de estar definido para<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>.* Se nulo, o padrão é<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>.</block>
  <block id="767b06b78582b463da02281e05c82e45" category="cell"><block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix="" category="inline-code"></block></block>
  <block id="11d7f0efe30199fc66cbc43c427e147d" category="cell">Estilo de segurança para novos volumes. *Deve ser definido como<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> ou<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> para volumes SMB.*</block>
  <block id="e76ea7f2be658dc914f9c95fe8d14fcf" category="cell"><block ref="68e98b83f5bd746f1468dff89f529d1b" prefix="" category="inline-code"></block> Ou<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> para volumes SMB</block>
  <block id="1928bae58ae496b53ef1a163c3dbeeb4" category="cell">Modo para novos volumes. *Deve ser deixado vazio para volumes SMB.*</block>
  <block id="24ca391029d6df294c5d5b8f1fe5b4eb" category="summary">Saiba mais sobre como configurar um back-end ONTAP com drivers nas ONTAP.</block>
  <block id="ddbd2735bfb88c5da807f77f6fe5f6c8" category="doc">Descrição geral do controlador ONTAP nas</block>
  <block id="4d80e2460d711b841338dfbeea2ca8c1" category="paragraph">Saiba mais sobre como configurar um back-end ONTAP com drivers nas ONTAP e Cloud Volumes ONTAP.</block>
  <block id="8198f2a0f41303e214bcb5ab7d9e9ef4" category="section-title">Detalhes do driver nas do ONTAP</block>
  <block id="2b5fc47d5a68b6070472f3a239fc77f3" category="paragraph">""<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>, ,<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="57154d2dcf591aaa3d4dcbfbba196075" category="inline-link-macro">Limites de volume ONTAP suportados</block>
  <block id="7fe76f1189ac93d41118f7ba3e36e3ab" category="list-text">Use<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> somente se a contagem de uso de volume persistente for esperada ser maior que <block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block>.</block>
  <block id="a6b18abf4de4d534121b0cca3b164d74" category="list-text">Use<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> somente se a contagem de uso de volume persistente for esperada para ser maior do que <block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block> e o<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> driver não puder ser usado.</block>
  <block id="df7dec428425115b59101028bbebe58c" category="list-text">Não use o uso<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> se você antecipar a necessidade de proteção de dados, recuperação de desastres ou mobilidade.</block>
  <block id="ce8828fc10a926c196951c9bdd0d534d" category="section-title">Permissões do usuário</block>
  <block id="7d159230ccaa721872f31bf9be31afeb" category="paragraph">Embora seja possível criar uma função mais restritiva no ONTAP que um driver Trident pode usar, não recomendamos. A maioria das novas versões do Trident chamarão APIs adicionais que teriam que ser contabilizadas, tornando as atualizações difíceis e suscetíveis a erros.</block>
  <block id="37225474f75e9da42c0f924ba87b113a" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>, ,<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> , , ,<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="3418e818bbbe397a49b7096a5ed87929" category="cell">Derivado do SVM</block>
  <block id="ab4ce1634362493e6de248d103136787" category="cell"><block ref="099cb468880f266cba40b49391fa46bc" prefix="" category="inline-code"></block></block>
  <block id="5f82f4ab2783617b6e62bdd43d4a4e49" category="inline-link-macro">Prepare-se para configurar o back-end com drivers SAN ONTAP</block>
  <block id="7c6b65d42434282f1555f13b40e9fd25" category="cell"><block ref="f9d0dc78b203f2c1106dc0c7d58a5397" prefix="" category="inline-code"></block></block>
  <block id="c8a7a6136447a56280ecf99e3ed87d65" category="cell">Segredo do iniciador CHAP. Necessário se<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="948938ec6491061ccf17c7ae8eafbd26" category="cell"><block ref="4ab84a55744951d967033db9b64f6b27" prefix="" category="inline-code"></block></block>
  <block id="48db71efc42dda989b98744160575f4f" category="cell">Segredo do iniciador de destino CHAP. Necessário se<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="28687fafefb2992ff7856dcfd2c29e1f" category="cell"><block ref="039e9d80fa53ba861c06b590ba3f9d34" prefix="" category="inline-code"></block></block>
  <block id="e3f84c141fd3f4682dfb31e0d71c7f5f" category="cell">Nome de utilizador de entrada. Necessário se<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="62fbbf4cfd0cc0a82f953199d14a61e3" category="cell"><block ref="2ebe107bb3bc9551fbb0e5033046931c" prefix="" category="inline-code"></block></block>
  <block id="a379a576b788ab047d5e6405ff4f3511" category="cell">Nome de utilizador alvo. Necessário se<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="2da9f60cc5b99a5987580c38e6db0842" category="cell">Valor codificado em base64 do certificado CA confiável. Opcional. Usado para autenticação baseada em certificado.</block>
  <block id="394d848f17683e31e21f6cde5fd9e3e4" category="cell">Nome de usuário necessário para se comunicar com o cluster ONTAP. Usado para autenticação baseada em credenciais.</block>
  <block id="6f0acf4836d44b03512e1caa0d774777" category="cell">Senha necessária para se comunicar com o cluster ONTAP. Usado para autenticação baseada em credenciais.</block>
  <block id="972abf48cbbadbcd573754140d35e19a" category="cell">Máquina virtual de armazenamento para usar</block>
  <block id="a0de2cc0c77c388210e1f48423eea29c" category="cell">Prefixo usado ao provisionar novos volumes na SVM. Não pode ser modificado mais tarde. Para atualizar esse parâmetro, você precisará criar um novo backend.</block>
  <block id="56d1e7863190cbf5e7689e2821d0959e" category="cell"><block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="" category="inline-code"></block></block>
  <block id="3bc2d9079510db6d0570883494bc5984" category="cell"><block ref="f899139df5e1059396431415e770c6dd" prefix="" category="inline-code"></block></block>
  <block id="3eeb940d8060411516e1578a9fd70a15" category="cell">Debug flags para usar ao solucionar problemas. Por exemplo, não use a menos que você esteja solucionando problemas e exija um despejo de log detalhado.</block>
  <block id="51e6d748c5af856ade589011dc2c7e85" category="cell"><block ref="37a6259cc0c1dae299a7866489dff0bd" prefix="" category="inline-code"></block></block>
  <block id="036c0eabd455d8a92d350429f2f5747e" category="cell">Grupo de políticas de QoS adaptável a atribuir para volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento/backend</block>
  <block id="b8ae61dc50cf8e8b79e68bc4a8d36393" category="cell"><block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix="" category="inline-code"></block></block>
  <block id="a56dcba8eacdac67fb510e1434d560d8" category="inline-link-macro">Usar a configuração de chave unificada do Linux (LUKS)</block>
  <block id="d981d675ba14b9478a2c2da5c7df780b" category="cell">Tamanho máximo de FlexVol requestable ao usar LUNs no back-end ONTAP-san-econômico.</block>
  <block id="e6e049b4753c744e95db32b0eeed8d5c" category="paragraph">Atualmente, o redimensionamento é a única maneira de usar o novo cálculo para um volume existente.</block>
  <block id="4930386ddaad825d64732ee9ec5e65b8" category="example-title">Exemplo de SAN ONTAP</block>
  <block id="cd5dd52b9f0bba70b1336e13afe05818" category="paragraph">Esta é uma configuração básica usando<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o driver.</block>
  <block id="8a10ba8eb41944c10648f18ba7e16239" category="example-title">Exemplo de economia de SAN ONTAP</block>
  <block id="60eac39d4383fedcc1df436a2d0e856d" category="paragraph">Neste exemplo de configuração básica<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block> ,<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block> e<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block> (opcional, se estiver usando CA confiável) são preenchidos<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> e recebem os valores codificados em base64 do certificado do cliente, da chave privada e do certificado de CA confiável, respetivamente.</block>
  <block id="31089bb4131b18ca65c3d384cdd49644" category="example-title">Exemplos CHAP bidirecional</block>
  <block id="17baa03e9287aee400bc2e606d247156" category="paragraph">Esses exemplos criam um backend com<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>.</block>
  <block id="7a4c6868ec70d1fbee3cb3a7483e21d0" category="listing-title">Exemplo de ONTAP SAN CHAP</block>
  <block id="a0c1c7f21916f2a4fb0f0d56732adc90" category="listing-title">Exemplo de CHAP de economia de SAN ONTAP</block>
  <block id="a242dbcec09373d25c5fb582f9f2cfc6" category="example-title">Exemplo de NVMe/TCP</block>
  <block id="3a3347de03ef37c1eb5eb525619ff905" category="paragraph">Você precisa ter um SVM configurado com NVMe no back-end do ONTAP. Esta é uma configuração básica de back-end para NVMe/TCP.</block>
  <block id="6b743d9085f7f94d7a334c4386fbe239" category="paragraph">Nesses arquivos de definição de back-end de exemplo, padrões específicos são definidos para todos os pools de armazenamento, como<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> em nenhum,<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> em falso e<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> em falso. Os pools virtuais são definidos na seção armazenamento.</block>
  <block id="50543d5d423c4c1a0b4fdd41383189e5" category="paragraph">As seguintes definições do StorageClass referem-se ao <block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>. Usando o<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> campo, cada StorageClass chama quais pools virtuais podem ser usados para hospedar um volume. O volume terá os aspetos definidos no pool virtual escolhido.</block>
  <block id="514e71168790374132badc1258ee5136" category="list-text">O<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> StorageClass será mapeado para o primeiro pool virtual<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> no back-end. Esta é a única piscina que oferece proteção de nível dourado.</block>
  <block id="a9c41ef671a6da4ed0f439f86683b714" category="list-text">O<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block> StorageClass será mapeado para o segundo e terceiro pool virtual no<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> back-end. Estas são as únicas piscinas que oferecem um nível de proteção diferente do ouro.</block>
  <block id="910ed65246d7ee240ec166f94b1fd5c9" category="list-text">O<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block> StorageClass será mapeado para o terceiro pool virtual no<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> back-end. Este é o único pool que oferece configuração de pool de armazenamento para o aplicativo tipo mysqldb.</block>
  <block id="fa03c7de8b1b7b7061bb536c211f3aaf" category="list-text">O<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block> StorageClass será mapeado para o segundo pool virtual no<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> back-end. Esta é a única piscina que oferece proteção de nível de prata e 20000 pontos de crédito.</block>
  <block id="ac996ac8e4442d8a2791ba8b1e301a02" category="list-text">O<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block> StorageClass será mapeado para o terceiro pool virtual no<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> back-end e o quarto pool virtual no<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> back-end. Estas são as únicas ofertas de pool com 5000 pontos de crédito.</block>
  <block id="1b931baab9ca74be94af72763666c941" category="list-text">O<block ref="33aacad9b122abfdfadc06e3e7fa5f59" prefix=" " category="inline-code"></block> StorageClass será mapeado para o<block ref="11e89beb13d19bf6e3ab7ed65673b27d" prefix=" " category="inline-code"></block> pool virtual no<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver com<block ref="6fa083b88d05083e680071073d06c3af" prefix=" " category="inline-code"></block>o . Esta é a única piscina que oferece<block ref="5ca85ebb1d881fde490deaa5817c4ca5" prefix=" " category="inline-code"></block>.</block>
  <block id="8f828c7344e7fe65d66237a25193068b" category="summary">Saiba mais sobre como se preparar para configurar um back-end ONTAP com drivers SAN ONTAP.</block>
  <block id="37a679c38162162811d93d22ba8f5b4a" category="paragraph">Entenda os requisitos e as opções de autenticação para configurar um back-end do ONTAP com drivers de SAN ONTAP.</block>
  <block id="5475028f502d04bc17cdfdf613d28cbf" category="paragraph">Lembre-se de que você também pode executar mais de um driver e criar classes de armazenamento que apontam para um ou outro. Por exemplo, você pode configurar uma<block ref="a4803fbb1a1ed00b47f0b526d515d172" prefix=" " category="inline-code"></block> classe que usa o<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver e uma<block ref="cc765df73da51962d9d46e6fbe9d1131" prefix=" " category="inline-code"></block> classe que usa a<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> mesma.</block>
  <block id="beee3e754bb36e7321f32ad13d4ac60a" category="paragraph">Todos os seus nós de trabalho do Kubernetes devem ter as ferramentas iSCSI apropriadas instaladas. <block ref="9e8cf70fcb465bf1907b585f74e9e1a6" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="00cbc0e7ed0014813b07fc8452f60df1" category="list-text">Baseado em credenciais: O nome de usuário e senha para um usuário do ONTAP com as permissões necessárias. Recomenda-se a utilização de uma função de início de sessão de segurança predefinida, como<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> ou<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> para garantir a máxima compatibilidade com as versões do ONTAP.</block>
  <block id="7ac6994e44af62a9075fd956e72ee6fb" category="paragraph">Tenha em mente que a definição de back-end é o único lugar onde as credenciais são armazenadas em texto simples. Depois que o back-end é criado, os nomes de usuário/senhas são codificados com Base64 e armazenados como segredos do Kubernetes. A criação ou atualização de um backend é a única etapa que requer conhecimento das credenciais. Como tal, é uma operação somente de administrador, a ser realizada pelo administrador do Kubernetes/storage.</block>
  <block id="ea3bf76b270384627e7bcfb197ddb17b" category="list-text">Teste a autenticação usando certificado gerado. Substitua o ONTAP Management LIF&gt; e o &lt;vserver name&gt; por IP de LIF de gerenciamento e nome da SVM.</block>
  <block id="6adbf3424e5de1b4e2baad3b4d632c4a" category="paragraph">Você pode atualizar um back-end existente para usar um método de autenticação diferente ou para girar suas credenciais. Isso funciona de ambas as maneiras: Backends que fazem uso de nome de usuário / senha podem ser atualizados para usar certificados; backends que utilizam certificados podem ser atualizados para nome de usuário / senha com base. Para fazer isso, você deve remover o método de autenticação existente e adicionar o novo método de autenticação. Em seguida, use o arquivo backend.json atualizado contendo os parâmetros necessários para executar<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>.</block>
  <block id="12dd7bfa072b5a1eecf975f6a5a6eaa7" category="admonition">O<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> parâmetro é uma opção booleana que pode ser configurada apenas uma vez. Ele é definido como false por padrão. Depois de configurá-lo como verdadeiro, você não pode configurá-lo como falso.</block>
  <block id="bc601528678aeeb582101ed205a054bc" category="paragraph">Além<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block> do , os<block ref="f9d0dc78b203f2c1106dc0c7d58a5397" prefix=" " category="inline-code"></block> campos ,<block ref="4ab84a55744951d967033db9b64f6b27" prefix=" " category="inline-code"></block>,<block ref="2ebe107bb3bc9551fbb0e5033046931c" prefix=" " category="inline-code"></block>, e<block ref="039e9d80fa53ba861c06b590ba3f9d34" prefix=" " category="inline-code"></block> devem ser incluídos na definição de back-end. Os segredos podem ser alterados depois que um backend é criado executando<block ref="2849e93e1b3790bcd408a4f7ea580dbb" prefix=" " category="inline-code"></block>.</block>
  <block id="29b4db879e4cc96a6b71bc763367624b" category="list-text">Configuração do CHAP no SVM:</block>
  <block id="13e0c564d5e1fbd33279fb276166653d" category="list-text">Configurando o iniciador CHAP e o nome de usuário e os segredos de destino; essas opções devem ser especificadas na configuração de back-end (como mostrado acima).</block>
  <block id="a7fe005c9f49619f4438aac8932fb361" category="paragraph">Você pode atualizar as credenciais CHAP atualizando os parâmetros CHAP no<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> arquivo. Isso exigirá a atualização dos segredos CHAP e o uso do<block ref="2849e93e1b3790bcd408a4f7ea580dbb" prefix=" " category="inline-code"></block> comando para refletir essas alterações.</block>
  <block id="ef1161058705470bb877fbce688eea9e" category="summary">Saiba mais sobre como configurar um back-end ONTAP com drivers SAN ONTAP.</block>
  <block id="5cc1e28c0d7b6c40ca94aacb554b31ca" category="doc">Descrição geral do controlador SAN ONTAP</block>
  <block id="133184f8c608809bdc057abf1397d10d" category="paragraph">Saiba mais sobre como configurar um back-end ONTAP com drivers SAN ONTAP e Cloud Volumes ONTAP.</block>
  <block id="a493eb50acc1b5a276034b914c4ce10d" category="section-title">Detalhes do driver SAN ONTAP</block>
  <block id="28c142639a9bbdd526b8eb986c13907d" category="paragraph">Sem sistema de arquivos; dispositivo de bloco bruto</block>
  <block id="94188b3f68e7baf5ef4a1f721857e77c" category="paragraph">ROX e RWX não estão disponíveis no modo de volume do sistema de arquivos.</block>
  <block id="8b7c42123642e2e4ea7dd426aeb2de58" category="paragraph">NVMe/TCP</block>
  <block id="2ee381348973cd50c3668eadbccdc328" category="paragraph"><block ref="2d7d4515af7fd5f414df696a804f30f7" category="inline-xref-macro-rx"></block>Consulte a .</block>
  <block id="15486153db4ff26b2d984b22c9eb7ace" category="section-title">Considerações adicionais para NVMe/TCP</block>
  <block id="fdb7cb8f657426e7c409bfd6d1a36ce4" category="list-text">IPv6</block>
  <block id="a2a1cb8bb035902e151c429dda457eb0" category="list-text">Snapshots e clones de volumes NVMe</block>
  <block id="b007331c632038b88752b849045335eb" category="list-text">Redimensionamento de um volume NVMe</block>
  <block id="86f6f50234041fd09b320314dc781273" category="list-text">Multipathing nativo NVMe</block>
  <block id="f1b9eac8c1d92956d7734db32c5e55d9" category="list-text">Desligamento gracioso ou vergonhoso dos K8s nós (24,06)</block>
  <block id="2af37920b0783c2d261877f935f16bd8" category="list-text">DH-HMAC-CHAP que é suportado nativamente pelo NVMe</block>
  <block id="6c1177e2fd33f2482514b2156d1e62b6" category="list-text">Multipathing de mapeador de dispositivos (DM)</block>
  <block id="fa633dab256a2884e7cd048147d7171c" category="list-text">Criptografia LUKS</block>
  <block id="ee68e5b99222bbc29a480fcb0d1d6ee2" category="section-title">Pré-requisitos</block>
  <block id="56ae1c25c84da104d5678975802dd9b7" category="list-text">Uma conta de cluster do Amazon EKS com assinatura complementar</block>
  <block id="3f597c2b0d86deed94c99ef3d5fa4932" category="list-text">Permissões da AWS para o marketplace da AWS:<block ref="8047af5c1ca81290342558a545113f6e" prefix=" " category="inline-code"></block></block>
  <block id="8ac2d15830983d69c7c62c4d8a69266c" category="list-text">Tipo de AMI: Amazon Linux 2 (AL2_x86_64) ou Amazon Linux 2 ARM(AL2_ARM_64)</block>
  <block id="68437d1104a05b71c1c25548a95ad946" category="list-text">Tipo de nó: AMD ou ARM</block>
  <block id="63ac2242cb63194d25dd17c30c89f80d" category="list-text">Um sistema de arquivos existente do Amazon FSX for NetApp ONTAP</block>
  <block id="46fd403fb7788c53f0de4aa06ccc89d9" category="image-alt">aws eks 01</block>
  <block id="153bbcd55aded817c5a331d5acae54eb" category="list-text">Vá para *Complementos do AWS Marketplace* e escolha a categoria _storage_.</block>
  <block id="2b1131719d4d8198515b53a0132411fb" category="image-alt">aws eks 02</block>
  <block id="5bab8196b750f3260d005a4548bc5de0" category="list-text">Escolha a versão desejada do complemento.</block>
  <block id="92f63954b2feb520d9a85c6ac6087ad8" category="image-alt">aws eks 03</block>
  <block id="165c328c69599353c4797fde7429e5b5" category="list-text">Selecione a opção função do IAM para herdar do nó.</block>
  <block id="b64079b8570f34f88bca59be352b20e2" category="image-alt">aws eks 04</block>
  <block id="bf18811faac9b8e4fcaebab51afd1113" category="list-text">Selecione *criar*.</block>
  <block id="fa883f8fcd252ea2995457cd82515d03" category="list-text">Verifique se o status do complemento é _ative_.</block>
  <block id="2af6474930eac7fe47a45b3658bef5bf" category="image-alt">aws eks 05</block>
  <block id="76b4586b7207f884c66397194b773e14" category="summary">Saiba mais sobre as opções de configuração de back-end para o Amazon FSX for ONTAP. Esta seção fornece exemplos de configuração de back-end.</block>
  <block id="533a7baf9026dddae6baef47ea605b08" category="doc">Implantar um aplicativo de amostra</block>
  <block id="6a308a8072d1cf8c73629852d7f0b1af" category="list-text">Monte o volume num pod.</block>
  <block id="c09ee63e688125cf9517a66bb5a0a5a6" category="paragraph">Estes exemplos mostram configurações básicas para anexar o PVC a um pod: *Configuração básica*:</block>
  <block id="b5450caedb9c7aa352b9fb0427aee784" category="admonition">Pode monitorizar o progresso utilizando<block ref="6abdceb61753f298491e021c4da24ddd" prefix=" " category="inline-code"></block>o .</block>
  <block id="8118780a1733b73d43c1042889af94bd" category="list-text">Verifique se o volume está montado no<block ref="9f5298598b1aa26f257834220853cb05" prefix=" " category="inline-code"></block>.</block>
  <block id="6604c85c599768bb970b37e590ef79fe" category="list-text">Agora você pode excluir o Pod. O aplicativo Pod não existirá mais, mas o volume permanecerá.</block>
  <block id="b8c7e19ba614c29878588409008e29c6" category="cell">Nome de usuário para se conetar ao cluster ou SVM. Usado para autenticação baseada em credenciais. Por exemplo, vsadmin.</block>
  <block id="9a2486a943ad2a4c99f2797d6984f3d0" category="cell">Senha para se conectar ao cluster ou SVM. Usado para autenticação baseada em credenciais.</block>
  <block id="6018b4c39d938c6589decae81b54c6f0" category="cell">Derivado se um SVM managementLIF for especificado.</block>
  <block id="4cba35e041b22828be7c835295ee9102" category="cell">Prefixo usado ao provisionar novos volumes na SVM. Não pode ser modificado após a criação. Para atualizar esse parâmetro, você precisará criar um novo backend.</block>
  <block id="86f4c9647fe8f4c500055c772753cc6f" category="cell">Não utilizar.</block>
  <block id="bd4c4a75acd87c86694e9aca1e4050e2" category="cell">O máximo de LUNs por FlexVol tem de estar no intervalo [50, 200]. Apenas SAN.</block>
  <block id="e939be085c2babe4ff0f08e09d0cdfd2" category="cell">Configurar a criação de volumes NFS ou SMB. As opções são<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>,<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>, ou null. *Deve definir como<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> para volumes SMB.* A configuração como null padrão para volumes NFS.</block>
  <block id="06daeb0fdb584c4694891d290310e1ed" category="cell"><block ref="3644a684f98ea8fe223c713b77189a77" prefix="" category="inline-code"></block></block>
  <block id="5d8ab765262318f7f87e5cd620d93290" category="cell"><block ref="ac68bbf921d953d1cfab916cb6120864" prefix="" category="inline-code"></block></block>
  <block id="294c3bfe0dc32c17126646089c93a92b" category="cell">Você pode especificar o seguinte no arquivo de configuração do AWS FSX for ONTAP: -<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>: Especifique o ID do sistema de arquivos AWS FSX. <block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>- : Nome da região da API AWS. <block ref="9af4d8381781baccb0f915e554f8798d" prefix=" " category="inline-code"></block>- : Chave da API da AWS. <block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block>- : Chave secreta da AWS.</block>
  <block id="5e68d0f0226c4c9d8020f95ced71ffab" category="cell"><block ref="68b329da9893e34099c7d8ad5cb9c940" prefix="" category="inline-code"></block> <block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block><block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block><block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block></block>
  <block id="81b346d529f22abdfcb669de82986dfd" category="cell"><block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix="" category="inline-code"></block></block>
  <block id="c5a638166e3b5bb902803f0060f0d2dd" category="inline-link-macro">Crie um segredo do AWS Secrets Manager</block>
  <block id="a8fe789c9febc6b76736fb83c90df2b7" category="cell">Grupo de políticas de QoS adaptável a atribuir para volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento ou backend. Não suportado pela ONTAP-nas-Economy.</block>
  <block id="8336fb38c3b943161d5d6e73af8f4a12" category="cell">Ativar encriptação LUKS. <block ref="3646c7a69a11bdd94c010bf856bda313" category="inline-link-macro-rx"></block>Consulte a . Apenas SAN.</block>
  <block id="58c09f2c9581bc7c58c32116266b6d8f" category="cell">Política de disposição em camadas para usar<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="8ba802b52dc84f4e82bfbbf2e2d4a807" category="cell">Modo para novos volumes. *Deixe vazio para volumes SMB.*</block>
  <block id="484067c59b1fa950e362a90fd416c89e" category="example-title">Configuração da classe de armazenamento para volumes SMB</block>
  <block id="88b0b88c998957f004af42563d5e5b40" category="paragraph">Usando<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>,<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block> e<block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>, você pode especificar um volume SMB e fornecer as credenciais necessárias do ative Directory. Os volumes SMB são suportados usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> apenas o driver.</block>
  <block id="f477db05998ad8420119de646e2ff290" category="doc">Crie uma função do IAM e o AWS Secret</block>
  <block id="98c3c9acd444d11890d48438db3c165e" category="paragraph">Você pode configurar pods do Kubernetes para acessar recursos da AWS autenticando como uma função do AWS IAM em vez de fornecer credenciais explícitas da AWS.</block>
  <block id="3f566b5ded6e7ac8c26dd3c07a2ea056" category="admonition">Para autenticar usando uma função do AWS IAM, você deve ter um cluster do Kubernetes implantado usando o EKS.</block>
  <block id="3926fdac6344d565c95f560468946335" category="section-title">Criar política do IAM</block>
  <block id="78edc229f8df1c5e0840f6469bc28454" category="paragraph">Os exemplos a seguir criam uma política do IAM usando a AWS CLI:</block>
  <block id="77f6e3db9b70538186091595d9c8c9e8" category="list-text">Complemento EKS</block>
  <block id="e477faed39be08642267684bb501d931" category="open-title">Console de gerenciamento</block>
  <block id="e8d532dbf6904e2793dbda6fd0d03818" category="list-text">Abra o console do Amazon EKS em<block ref="c4765fcd1a0f97cf67c0365ddc45d563" category="inline-link-rx"></block>.</block>
  <block id="cacc1ddf612923b1c73b0a9a76659f42" category="list-text">Na página de configurações *Configure Selected add-ons*, faça o seguinte:</block>
  <block id="149e81257342cd05b0256d010b0b4a37" category="list-text">Selecione a *versão* que você gostaria de usar.</block>
  <block id="dfe4bfc5bd8b8d180411468fbdbb4033" category="list-text">Escolha *seguinte*.</block>
  <block id="fbadf292f84bef20d7678936dbe4c4ce" category="list-text">Na página *Revisão e adição*, escolha *criar*.</block>
  <block id="46bfc11fb8f185d278ea910b0052a317" category="paragraph">Depois que a instalação do complemento estiver concluída, você verá o complemento instalado.</block>
  <block id="7820fdb5d8b3ebe0c69c86cf8bd2d0cf" category="open-title">CLI DA AWS</block>
  <block id="52b5830420efb96c3a91beb52bac3b23" category="paragraph">*Exemplo de saída:*</block>
  <block id="b3f252777a69b110667756babe83a98f" category="inline-link-macro">Complementos</block>
  <block id="25626757a73152ece7fdadb90ede4b7c" category="inline-link-macro">Gerenciamento de campo do Kubernetes</block>
  <block id="751f793ade8de1ed590e0f90ac05d8e1" category="paragraph">Se você remover<block ref="c23ab3adaec8ca15ff3ffd0971be6152" prefix=" " category="inline-code"></block> a opção e qualquer uma das configurações de complemento do Amazon EKS entrar em conflito com as configurações existentes, a atualização do complemento do Amazon EKS falhará; você receberá uma mensagem de erro para ajudá-lo a resolver o conflito. Antes de especificar essa opção, verifique se o complemento do Amazon EKS não gerencia as configurações que você precisa gerenciar, pois essas configurações são sobrescritas com essa opção. Para obter mais informações sobre outras opções para essa configuração, <block ref="aea621f0e078efb8367c5d5e894674cd" category="inline-link-macro-rx"></block>consulte . Para obter mais informações sobre o gerenciamento de campo do Amazon EKS Kubernetes, <block ref="97bdcfd76d2ff3e4855f6b36ebad236e" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="b0c6845b636be8c810182f985c930fed" category="list-text">Abra o console do Amazon EKS<block ref="c4765fcd1a0f97cf67c0365ddc45d563" category="inline-link-rx"></block> .</block>
  <block id="5f06738a5749e735a4681f5c09e2bafc" category="paragraph">O exemplo a seguir atualiza o complemento EKS:</block>
  <block id="d8c918c170a0768203b4c2a6218e22bf" category="paragraph">Você tem duas opções para remover um complemento do Amazon EKS:</block>
  <block id="577a7d77fb14f745abf0c5ee04b72879" category="admonition">Se o complemento tiver uma conta do IAM associada a ele, a conta do IAM não será removida.</block>
  <block id="c8e9b5ea2470965edac225c56a879d07" category="list-text">Na caixa de diálogo *Remover NetApp_Trident-operator confirmation*, faça o seguinte:</block>
  <block id="10aba138eb518a0cc15662934a1f6e18" category="list-text">Se você quiser que o Amazon EKS pare de gerenciar as configurações do complemento, selecione *Preserve on cluster*. Faça isso se quiser manter o software complementar no cluster para que você possa gerenciar todas as configurações do complemento por conta própria.</block>
  <block id="ecca191ac54751ba8120816fbe45777e" category="list-text">Digite *NetApp_Trident-operator*.</block>
  <block id="bb7c6bde1fc26965ada02923bac65350" category="paragraph">Substitua<block ref="e2eb89f0ffaf521a0d2eeaffca04d117" prefix=" " category="inline-code"></block> pelo nome do cluster e execute o seguinte comando.</block>
  <block id="23e0e5bfdd7b1fef2ab4d932aae742e5" category="doc">Configure o back-end de armazenamento</block>
  <block id="9303b8f40cf82f5e37702c7a6387e725" category="section-title">Integração de driver SAN e nas ONTAP</block>
  <block id="42f3b65b98b18c792b7b5534e40d2646" category="section-title">Detalhes do driver FSX for ONTAP</block>
  <block id="c3e86b30fe8148143701324ae1595af8" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>: Cada PV provisionado é um LUN dentro de seu próprio volume do Amazon FSX for NetApp ONTAP. Recomendado para armazenamento de blocos.</block>
  <block id="3878a0c92e55dbd3cdd9458330c2f1c3" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>: Cada PV provisionado é um volume completo do Amazon FSX for NetApp ONTAP. Recomendado para NFS e SMB.</block>
  <block id="b8f98ceeb9b158e8af3527fce91e9e57" category="list-text"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block>: Cada PV provisionado é um LUN com um número configurável de LUNs por volume do Amazon FSX for NetApp ONTAP.</block>
  <block id="94a834f420b7c21f3a1053e6dc705a31" category="list-text"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block>: Cada PV provisionado é uma qtree, com um número configurável de qtrees por volume do Amazon FSX for NetApp ONTAP.</block>
  <block id="e42b07a9f050ef51ea1211004a50f223" category="list-text"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block>: Cada PV provisionado é um volume completo do Amazon FSX for NetApp ONTAP FlexGroup.</block>
  <block id="f5aa1832e32f2b8d7a7f22d8e36a4617" category="inline-link-macro">Controladores NAS</block>
  <block id="de9e7e8f2c463ef15bebdbf8d2d1aa6d" category="inline-link-macro">Controladores SAN</block>
  <block id="fa4eb54eedf6fea69ec183c4e2199a4d" category="paragraph">Para obter informações sobre o condutor, <block ref="4093b6d0ce8cf414637a02002d2b0376" category="inline-link-macro-rx"></block>consulte e <block ref="276422a40a581e9842304216329765d5" category="inline-link-macro-rx"></block>.</block>
  <block id="eadd7f9188e84053efc871a14d0d3bd6" category="section-title">Configuração avançada de backend e exemplos</block>
  <block id="ab2e083df601e1b7c7346487158ab13f" category="cell">"100"</block>
  <block id="7a5bbb3c815084605b780e0cd6e810fd" category="cell"><block ref="89ffa293e05655bd6be9d422345be38a" prefix="" category="inline-code"></block></block>
  <block id="fbf3304d2358758ea71475804b2cbeae" category="paragraph">Você pode provisionar volumes SMB usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> o driver. Antes de concluir <block ref="24f26185e00986318dc562523d4edbf6" category="inline-xref-macro-rx"></block>as etapas a seguir.</block>
  <block id="f55c34459cf261d1102750bcbde548d8" category="paragraph">Antes de provisionar volumes SMB usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> o driver, você deve ter o seguinte:</block>
  <block id="8e6249724e4eef8026e47829f03f9e67" category="list-text">Criar compartilhamentos SMB. Você pode criar os compartilhamentos de administração SMB de duas maneiras usando o <block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block>snap-in pastas compartilhadas ou usando a CLI do ONTAP. Para criar compartilhamentos SMB usando a CLI do ONTAP:</block>
  <block id="9817ca035dba7bc4123be2c0bf280d66" category="doc">Configurar uma classe de armazenamento e PVC</block>
  <block id="bb970cb0639998faceb4ab3a67e3f1e3" category="section-title">Crie o PV e o PVC</block>
  <block id="2d63b64b84c821bc810927f7ca7fa993" category="inline-link">_PersistentVolumeClaim_</block>
  <block id="d948cda211eadd3a86a406b43ee0d5fa" category="paragraph">O PVC pode ser configurado para solicitar o armazenamento de um determinado tamanho ou modo de acesso. Usando o StorageClass associado, o administrador do cluster pode controlar mais do que o Persistentvolume e o modo de acesso, como desempenho ou nível de serviço.</block>
  <block id="35e98ba80f6254a33de7a37ab113316e" category="section-title">Manifestos de amostra</block>
  <block id="3c5f9191f489dbdd8d950bafc3dea6e0" category="example-title">Persistentvolume Sample MANIFEST</block>
  <block id="a992ed82e7964281386cdd46c0c21da6" category="paragraph">Este manifesto de exemplo mostra um PV básico de 10Gi que está associado ao StorageClass .<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block></block>
  <block id="569dfd7a9483b050d1e076a318f0fccc" category="example-title">PersistentVolumeClaim amostra manifestos</block>
  <block id="526596809db1b7644a7637cfa05fcf8a" category="paragraph">Estes exemplos mostram opções básicas de configuração de PVC.</block>
  <block id="992728eeb1163799bd688cfe5e57035b" category="paragraph-title">PVC com acesso RWO</block>
  <block id="c3d2188822ac025c91b768888f8af01e" category="paragraph">Este exemplo mostra um PVC básico com acesso RWX associado a um StorageClass<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block> chamado .</block>
  <block id="75c7c68d9eb17c22ec8df28a1e23f275" category="paragraph-title">PVC com NVMe/TCP</block>
  <block id="ed463de3671571836f800949d75f3af8" category="paragraph">Este exemplo mostra um PVC básico para NVMe/TCP com acesso RWO associado a um StorageClass<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> chamado .</block>
  <block id="e1f83bd8f580cc9a48311142d551b3cf" category="list-text">Crie o PVC.</block>
  <block id="150f6f248f009f461b84862124e2b499" category="list-text">Verifique o estado do PVC.</block>
  <block id="0b62778604e11f72525f5a82bbd26c6a" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> É um serviço AWS totalmente gerenciado que permite que os clientes iniciem e executem sistemas de arquivos equipados com o sistema operacional de storage NetApp ONTAP. O FSX para ONTAP permite que você aproveite os recursos, o desempenho e os recursos administrativos do NetApp com os quais você já conhece, ao mesmo tempo em que aproveita a simplicidade, a agilidade, a segurança e a escalabilidade do armazenamento de dados na AWS. O FSX para ONTAP oferece suporte aos recursos do sistema de arquivos ONTAP e APIs de administração.</block>
  <block id="80d13d3dbe137e8fb646193f275eceeb" category="list-text">Um cluster do Amazon EKS existente ou um cluster do Kubernetes autogerenciado com<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> o instalado.</block>
  <block id="9b800ce65251b771d0eb86610e11f6b0" category="list-text">Um sistema de arquivos e máquina virtual de armazenamento (SVM) do Amazon FSX for NetApp ONTAP que pode ser acessado a partir dos nós de trabalho do seu cluster.</block>
  <block id="288b1cbb87d08c32abf3084c28636e5c" category="inline-link-macro">NFS ou iSCSI</block>
  <block id="d7481875afa061fb651628b2597d52ec" category="list-text">Nós de trabalho preparados para <block ref="966ed3bab2d39ae1014ad2eb34527e0f" category="inline-link-macro-rx"></block>.</block>
  <block id="fe914214000491758957f04647f8da36" category="inline-link">Imagens de máquinas da Amazon</block>
  <block id="d0341760d873a30f82a310a6eab0ba9c" category="admonition">Certifique-se de seguir as etapas de preparação de nós necessárias para o Amazon Linux e<block ref="70013ee128d5437b3d9579d66ece4066" category="inline-link-rx"></block> Ubuntu (AMIS), dependendo do seu tipo de AMI EKS.</block>
  <block id="9b85b10750f4b0e98b7853ee468d8bd5" category="list-text">Volumes SMB:</block>
  <block id="cf201a9e802aa6e35997590206919b1a" category="list-text">Os volumes SMB são suportados usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> apenas o driver.</block>
  <block id="c75f7811d70d17dbcd88e9d03752cbed" category="section-title">Autenticação</block>
  <block id="8067a6840467d2024a341120a4e2440e" category="list-text">Baseado em credenciais (recomendado): Armazena credenciais com segurança no AWS Secrets Manager. Você pode usar o<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> usuário do sistema de arquivos ou o<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário configurado para o SVM.</block>
  <block id="994eaa47aad78cae857818e1655e2800" category="paragraph">Para obter detalhes sobre como ativar a autenticação, consulte a autenticação do tipo de driver:</block>
  <block id="57e00ef3eabad47fc79d0ef1319f989c" category="inline-link-macro">Autenticação nas ONTAP</block>
  <block id="840db27e4fe9967e908b8b101ca72198" category="list-text"><block ref="840db27e4fe9967e908b8b101ca72198" category="inline-link-macro-rx"></block></block>
  <block id="562276ffa617658595d5e6df35ef971c" category="inline-link-macro">Autenticação SAN ONTAP</block>
  <block id="4a5e4254b1862ddbff7f81ed84e87125" category="list-text"><block ref="4a5e4254b1862ddbff7f81ed84e87125" category="inline-link-macro-rx"></block></block>
  <block id="cc788b7e72b2a734dd0985bd1e0e9fe3" category="inline-link">Documentação do Amazon FSX para NetApp ONTAP</block>
  <block id="fd570b75466e2daca21a032e6fd5981c" category="list-text"><block ref="fd570b75466e2daca21a032e6fd5981c" category="inline-link-rx"></block></block>
  <block id="0ef79cb4bb284d3ca9c3e95489919301" category="inline-link">Blog post no Amazon FSX for NetApp ONTAP</block>
  <block id="3b94214fe5975bca8da92b72f8926be2" category="list-text"><block ref="3b94214fe5975bca8da92b72f8926be2" category="inline-link-rx"></block></block>
  <block id="3c49604e542827bab74a3fdc9c521379" category="doc">Personalizar nomes e rótulos de volume</block>
  <block id="52929ef06c83a3071dc677c6076f8eb3" category="paragraph">Nomes de volume e etiquetas personalizáveis suportam:</block>
  <block id="ba7ad86bd3d0a50a4a04306d941e6c28" category="list-text">Operações de criação, importação e clonagem de volume.</block>
  <block id="174a7026faf4af3e1ec0eeec9d35af81" category="list-text">No caso do driver ONTAP-nas-Economy, apenas o nome do volume Qtree está em conformidade com o modelo de nome.</block>
  <block id="12df52676a1d1f4040501d3a804b1a4b" category="list-text">No caso do driver ONTAP-san-Economy, apenas o nome LUN está em conformidade com o modelo de nome.</block>
  <block id="0ee903e586aac760f5cdfb2c770f936b" category="list-text">Os nomes de volume personalizáveis são compatíveis apenas com drivers locais da ONTAP.</block>
  <block id="b3c7ca4cfca79f517812064c1b9b0ef3" category="list-text">Nomes de volume personalizáveis não se aplicam a volumes existentes.</block>
  <block id="4c71628145ace597229ccf6ca6fdc8bf" category="section-title">Principais comportamentos de nomes de volume personalizáveis</block>
  <block id="a5a284fe1356005dc517f157bef35adc" category="list-text">Se ocorrer uma falha devido à sintaxe inválida em um modelo de nome, a criação do backend falhará. No entanto, se o aplicativo modelo falhar, o volume será nomeado de acordo com a convenção de nomenclatura existente.</block>
  <block id="d654edd1d54bb9458ddce1a8e82a2733" category="list-text">O prefixo de armazenamento não é aplicável quando um volume é nomeado usando um modelo de nome da configuração de back-end. Qualquer valor de prefixo desejado pode ser adicionado diretamente ao modelo.</block>
  <block id="7a4b723467d577190f5e83269d9c620a" category="section-title">Exemplos de configuração de backend com modelo de nome e rótulos</block>
  <block id="c08c19c0fe3a67a5a218b1aa469e05ad" category="paragraph">Modelos de nome personalizados podem ser definidos no nível raiz e/ou pool.</block>
  <block id="12f281b150c6774b77a875b26e355bfc" category="listing-title">Exemplo de nível de raiz</block>
  <block id="93a53c76d697da9fb40dcf5571309b51" category="listing-title">Exemplo de nível de pool</block>
  <block id="c9181e8d9effc5e3fff6e681bc43f9bb" category="section-title">Exemplos de modelo de nome</block>
  <block id="6834f2805b2a45680a7ae789728955a4" category="paragraph">*Exemplo 1*:</block>
  <block id="c0fa2da2f469c0dff06ceac7e749b20d" category="paragraph">*Exemplo 2*:</block>
  <block id="e1a1ba8a7f91a9affe2c95b795610ca0" category="list-text">No caso das importações de volume, as etiquetas são atualizadas apenas se o volume existente tiver etiquetas num formato específico. Por exemplo<block ref="ac1133297b5ec16017c28f04387bb5c9" prefix=" " category="inline-code"></block>: .</block>
  <block id="feddffabbdd5254f9975a1a26a73d651" category="list-text">No caso de importações de volume gerenciado, o nome do volume segue o modelo de nome definido no nível raiz na definição de back-end.</block>
  <block id="15d79b565b148caa23e6f2b53813413d" category="section-title">Expanda um volume iSCSI</block>
  <block id="0b981ab19df55a28a02578aa5f326db8" category="paragraph">É possível expandir um iSCSI Persistent volume (PV) usando o provisionador de CSI.</block>
  <block id="f8f338469c62eb8604f5304af08466ba" category="admonition">A expansão de volume iSCSI é suportada pelos<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> drivers , ,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> e requer o Kubernetes 1,16 e posterior.</block>
  <block id="fe9ee1935ea7894fe4fd2f600993cd7d" category="section-title">Etapa 1: Configure o StorageClass para dar suporte à expansão de volume</block>
  <block id="ff87ac5778183437377f5f963a3dccac" category="paragraph">Edite a definição StorageClass para definir o<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block> campo como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>.</block>
  <block id="c83b8171dcc233263cf7eeaef8da6a4d" category="paragraph">Para um StorageClass já existente, edite-o para incluir o<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block> parâmetro.</block>
  <block id="59973fd7be015512b53fe121a13d5580" category="section-title">Etapa 2: Crie um PVC com o StorageClass que você criou</block>
  <block id="efe0663b3e4eed08a4a1b30c3f3a2aac" category="paragraph">Edite a definição de PVC e atualize o<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> para refletir o tamanho recém-desejado, que deve ser maior do que o tamanho original.</block>
  <block id="8dacc1d7fdb5bfd3f8a4daedf3ccdd88" category="section-title">Passo 3: Defina um pod que prende o PVC</block>
  <block id="9d384cd22f1c9bc6a23136fe35d2a51c" category="paragraph">Fixe o PV a um pod para que ele seja redimensionado. Existem dois cenários ao redimensionar um iSCSI PV:</block>
  <block id="85f5dec267aa48cff82ccaf993019e6d" category="paragraph">Neste exemplo, é criado um pod que usa o<block ref="51288ffe0d65faa0df02b71bfa104041" prefix=" " category="inline-code"></block>.</block>
  <block id="ebae1958b6002fb43077a474d845284c" category="section-title">Passo 4: Expanda o PV</block>
  <block id="63188b171689bcd93b1ca818b3a2ab9c" category="paragraph">Para redimensionar o PV que foi criado de 1Gi a 2Gi, edite a definição de PVC e atualize o<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> para 2Gi.</block>
  <block id="eabf614ed44fe1c3e78cb2300949eb63" category="section-title">Etapa 5: Validar a expansão</block>
  <block id="75b8249751a8ea5869a0b5a8e465efc1" category="section-title">Expandir um volume NFS</block>
  <block id="578f10bb7cad2abad1cbbcb9a9a732f9" category="paragraph">Para redimensionar um PV NFS, o administrador primeiro precisa configurar a classe de armazenamento para permitir a expansão de volume definindo o<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block> campo para<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>:</block>
  <block id="27b4a9ed8609e35526601aa8d8be1ab9" category="paragraph">Se você já criou uma classe de armazenamento sem essa opção, você pode simplesmente editar a classe de armazenamento existente usando<block ref="04e7749715e986f27d9cb67434b65b72" prefix=" " category="inline-code"></block> para permitir a expansão de volume.</block>
  <block id="3b16cea25bd4a9aaf5a9c3dcc13ea7eb" category="section-title">Passo 3: Expanda o PV</block>
  <block id="4a59ce1bc63fd7e6333968fb4bbd9d45" category="section-title">Etapa 4: Validar a expansão</block>
  <block id="cf13ba16f33b5f6772614929649be6c2" category="summary">Você pode importar volumes de armazenamento existentes como um PV do Kubernetes usando<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block>o .</block>
  <block id="5f48c343984786005c9830d96c6fca87" category="doc">Importar volumes</block>
  <block id="2e77d5277311f3a9232a73cdbbcd754b" category="section-title">Visão geral e considerações</block>
  <block id="88541191ec5fe50ba0d21b4300401b85" category="list-text">Conteinerize um aplicativo e reutilize seu conjunto de dados existente</block>
  <block id="77d782125cafbbf0fe1c5c95755d143f" category="list-text">Use um clone de um conjunto de dados para uma aplicação efêmera</block>
  <block id="d265b515faaf05e2c32727d8b9742a78" category="list-text">Reconstruir um cluster do Kubernetes com falha</block>
  <block id="6766ef9d5b11abf03ee72b55c5745f4b" category="list-text">Migrar dados da aplicação durante a recuperação de desastre</block>
  <block id="4c321a56c9c030449cd3315863de525b" category="paragraph">Antes de importar um volume, reveja as seguintes considerações.</block>
  <block id="e47be4dcc849b534107f57afd92f801f" category="list-text">Sugerimos importar volumes sem conexões ativas. Para importar um volume usado ativamente, clonar o volume e, em seguida, executar a importação.</block>
  <block id="e4618ea9b1ae23e5ed30f6f19e6a77e8" category="admonition">Isso é especialmente importante para volumes de bloco, já que o Kubernetes não sabia da conexão anterior e poderia facilmente anexar um volume ativo a um pod. Isso pode resultar em corrupção de dados.</block>
  <block id="a31db9efd829f01dd21fdc97db2d29e4" category="list-text">O tamanho do volume existente é determinado e definido no PVC. Depois que o volume é importado pelo driver de armazenamento, o PV é criado com uma ClaimRef para o PVC.</block>
  <block id="604eea1f3df98285b6887ff059258827" category="list-text">A política de recuperação é inicialmente definida como<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block> no PV. Depois que o Kubernetes vincula com êxito o PVC e o PV, a política de recuperação é atualizada para corresponder à política de recuperação da Classe de armazenamento.</block>
  <block id="5d24684cf5054f53b1e945be75b37f69" category="list-text">Se a política de recuperação da Classe de armazenamento for<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>, o volume de armazenamento será excluído quando o PV for excluído.</block>
  <block id="be303acf01bc566d5d211f228131bee4" category="admonition">Essa opção é útil se você quiser usar o Kubernetes para workloads em contêineres, mas de outra forma quiser gerenciar o ciclo de vida do volume de storage fora do Kubernetes.</block>
  <block id="76057e180d7b3edcebaa935c7ccab687" category="list-text">Uma anotação é adicionada ao PVC e ao PV que serve para um duplo propósito de indicar que o volume foi importado e se o PVC e o PV são gerenciados. Esta anotação não deve ser modificada ou removida.</block>
  <block id="db31dcd83fd57b294fb0340ea975015f" category="section-title">Importar um volume</block>
  <block id="61a1adebea5e6a017b4bd4b405ae4f52" category="paragraph">Pode utilizar<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block> para importar um volume.</block>
  <block id="8feb5f647cb423db7fa8a957ae4ef075" category="list-text">Crie o arquivo PVC (Persistent volume Claim) (por exemplo,<block ref="88bf8ee4d993e535425148da6a64c1c2" prefix=" " category="inline-code"></block>) que será usado para criar o PVC. O ficheiro PVC deve incluir<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block><block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block> , , ,<block ref="1963d17f24888bdf1f22d7ea7f72f607" prefix=" " category="inline-code"></block><block ref="ee822781a3bd0ae0f8f6331dc4865d9c" prefix=" " category="inline-code"></block> e . Opcionalmente, você pode especificar<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block> em sua definição de PVC.</block>
  <block id="7f745c89a2e8fd59353bab523e12eb77" category="paragraph">O seguinte é um exemplo de uma especificação mínima:</block>
  <block id="a9e31569460a0b133fdd97c5f482c04e" category="admonition">Não inclua parâmetros adicionais, como nome PV ou tamanho do volume. Isso pode fazer com que o comando de importação falhe.</block>
  <block id="37c0e0081d2fa3ebdf688df7e37ecd7a" category="paragraph">Reveja os exemplos de importação de volume a seguir para drivers suportados.</block>
  <block id="b8cd11aae04b2508e6cf401f43cdb4f9" category="section-title">ONTAP nas e ONTAP nas FlexGroup</block>
  <block id="6551d29114ca8e4ced094b1f68242124" category="list-text">O<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> driver não pode importar e gerenciar qtrees.</block>
  <block id="15f21f5d1f84f4b986a4db037c57333d" category="list-text">Os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> não permitem nomes de volume duplicados.</block>
  <block id="3fa3bc64b029b88f42b842bb7dc4e52d" category="paragraph-title">Exemplos de ONTAP nas</block>
  <block id="77fe25c67ee05760d58e91a98e3ff055" category="paragraph">A seguir mostra um exemplo de um volume gerenciado e uma importação de volume não gerenciado.</block>
  <block id="865c1a701e3847de9fbff4a375ac7177" category="open-title">Volume gerenciado</block>
  <block id="9baac1fff2f93c6aa6f2205921fe6b32" category="paragraph">O exemplo a seguir importa um volume nomeado<block ref="b61fdc0d7fc5d08e674f3891a91d3116" prefix=" " category="inline-code"></block> em um backend chamado<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block>:</block>
  <block id="ed12f17a6dc2e65dfdf289eb64d258ae" category="open-title">Volume não gerenciado</block>
  <block id="30690ec57cb4844d007f7d2e2c9393a2" category="paragraph">O exemplo a seguir é importado<block ref="60d9e6d88af815fe67aed90572f53184" prefix=" " category="inline-code"></block><block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block> no backend:</block>
  <block id="548fedaf4074fe2826e3c53dfd92a19e" category="section-title">San ONTAP</block>
  <block id="854d516b7e1eddbead5cbea0b17dac88" category="paragraph-title">Exemplos de SAN ONTAP</block>
  <block id="d172829ee06c1c52828b60f0544b2f06" category="paragraph">O exemplo a seguir é importado<block ref="a5c0fa75ec8cf92d22eadab558660dda" prefix=" " category="inline-code"></block><block ref="2dec4fe0d108047546d031f48f4073f7" prefix=" " category="inline-code"></block> no backend:</block>
  <block id="58f7692a8b6ce5b3fa31b6daec3259fe" category="paragraph">Se você tiver LUNS mapeados para grupos que compartilham uma IQN com um nó Kubernetes IQN, como mostrado no exemplo a seguir, você receberá o erro:<block ref="4524d417d10c9cf90c4a674da76c4964" prefix=" " category="inline-code"></block>. Você precisará remover o iniciador ou desmapear o LUN para importar o volume.</block>
  <block id="5ccef908ed30c9dac1afd0a7f3dc5e7f" category="inline-image-macro">Imagem de LUNS mapeados para iqn e cluster iqn.</block>
  <block id="81238a539b4fc11fb20c6d27db1e5d33" category="paragraph"><block ref="81238a539b4fc11fb20c6d27db1e5d33" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d12ef9e4a047861afd11513bde147f35" category="paragraph-title">Exemplo de elemento</block>
  <block id="e91134286ebcca5f894ca859ce6e6527" category="paragraph">O exemplo a seguir importa um<block ref="ce9d6be888db333d9f15ad3ca22aab5c" prefix=" " category="inline-code"></block> volume no backend .<block ref="54034d50b7e92e0dd9d45b9be754d7bd" prefix=" " category="inline-code"></block></block>
  <block id="5c9ef0d871938dccceb29ee63fad8ddb" category="section-title">Google Cloud Platform</block>
  <block id="b83141d187ef372685e66e6dfe4cabd9" category="admonition">Para importar um volume com o suporte do NetApp Cloud Volumes Service no Google Cloud Platform, identifique o volume pelo caminho de volume. O caminho do volume é a parte do caminho de exportação do volume após o<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>. Por exemplo, se o caminho de exportação for<block ref="3bbe8dafc880d124219c1e4f73d41cf9" prefix=" " category="inline-code"></block>, o caminho do volume será<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>.</block>
  <block id="9dfa04a9ad04eba811811f2fbd0f5f0e" category="paragraph-title">Exemplo do Google Cloud Platform</block>
  <block id="dd8d0b5581c0eb32a23d802032124024" category="paragraph">O exemplo a seguir importa um<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> volume no back-end<block ref="b242744397b7d8bc9391b3e836628c5e" prefix=" " category="inline-code"></block> com o caminho de volume<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block> do .</block>
  <block id="7501988e9549daa8c2fcd13e55b9fc78" category="admonition">Para importar um volume Azure NetApp Files, identifique o volume pelo seu caminho de volume. O caminho do volume é a parte do caminho de exportação do volume após o<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>. Por exemplo, se o caminho de montagem for<block ref="a88065dde27cea3a008a18172c5a9c9e" prefix=" " category="inline-code"></block>, o caminho do volume será<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>.</block>
  <block id="1cfd9b4e20d41cdca62f758d3b0cb58b" category="paragraph-title">Exemplo de Azure NetApp Files</block>
  <block id="bd46b0a8c2c4c89a60ee85052ad2dd0e" category="paragraph">O exemplo a seguir importa um<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> volume no back-end<block ref="d8dd89ab9d39f5487714722f9becb468" prefix=" " category="inline-code"></block> com o caminho do volume<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block> .</block>
  <block id="b42cbc6e68075c106b9faa27e4931091" category="doc">Executar operações de volume</block>
  <block id="690b3c7311638da5eef87f5e07aa1258" category="section-title">Gerenciamento de volumes</block>
  <block id="9e325272e7aed7c7bd6c28ff6fa4a90f" category="list-text"><block ref="9e325272e7aed7c7bd6c28ff6fa4a90f" category="inline-link-macro-rx"></block></block>
  <block id="e5879288a130fbd8d0b8682cfc375c4f" category="inline-link-macro">Trabalhar com instantâneos</block>
  <block id="c499fa59a1c9a0f6da195782a581f2e3" category="list-text"><block ref="c499fa59a1c9a0f6da195782a581f2e3" category="inline-link-macro-rx"></block></block>
  <block id="56661e701892ff873e44b62ffeec85e5" category="list-text"><block ref="56661e701892ff873e44b62ffeec85e5" category="inline-link-macro-rx"></block></block>
  <block id="c0417f5bbd54c5dc1c3704d6b566fcf3" category="list-text"><block ref="c0417f5bbd54c5dc1c3704d6b566fcf3" category="inline-link-macro-rx"></block></block>
  <block id="cdeec5159e0548de993d76d7d1dcc992" category="paragraph">Este exemplo mostra um PVC básico com acesso RWO associado a um StorageClass<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block> chamado .</block>
  <block id="973fab696ba8e345f617c87c4de97607" category="example-title">Amostras de manifesto POD</block>
  <block id="15f15289009d52be4af3e9951853eee5" category="paragraph">Estes exemplos mostram configurações básicas para anexar o PVC a um pod.</block>
  <block id="416206518e27ed2ec8b8e0876078af35" category="listing-title">Configuração básica</block>
  <block id="b9fa7c201e2dc76fe12c8bb436c212ee" category="listing-title">Configuração básica NVMe/TCP</block>
  <block id="c1ec7161e63fe862aeb30466f8f3f3b8" category="paragraph">Você deve ter um controlador de snapshot externo e definições personalizadas de recursos (CRDs) para trabalhar com snapshots. Essa é a responsabilidade do orquestrador do Kubernetes (por exemplo: Kubeadm, GKE, OpenShift).</block>
  <block id="d0838c5cbd45cca11f4f53eb773d017d" category="paragraph">Se a distribuição do Kubernetes não incluir a controladora de snapshot e CRDs, <block ref="048c22f74eff12037af96b48becdf135" category="inline-xref-macro-rx"></block>consulte .</block>
  <block id="0b8ca2be5f4fe564fb8e843cbc53703d" category="admonition">Não crie um controlador de snapshot se estiver criando instantâneos de volume sob demanda em um ambiente GKE. O GKE usa um controlador instantâneo oculto integrado.</block>
  <block id="c4f5303a406f47eb87bf815d986165ee" category="section-title">Criar um instantâneo de volume</block>
  <block id="19476662cd814e0aa085eca121de89b8" category="inline-link-macro">VolumeSnapshotClass</block>
  <block id="86690b5147c7d6867042b834d17ef28b" category="list-text">Criar um<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>. para obter mais informações, <block ref="0ad6a602adca2b32136ef84f7518b131" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="eea37fbd5872936b77e1e2e8a4af0cea" category="list-text"><block ref="98e7d6463271d7848db255ae6467817a" prefix="" category="inline-code"></block> pode ser<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> ou<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>. Quando definido como<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>, o instantâneo físico subjacente no cluster de armazenamento é retido mesmo quando o<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> objeto é excluído.</block>
  <block id="0c9cf2ac15a6b5c5324b08e91b840fa4" category="list-text">Crie um instantâneo de um PVC existente.</block>
  <block id="a599393b295f7ad56a8c7f1d327290de" category="list-text">Este exemplo cria um instantâneo de um PVC existente.</block>
  <block id="8f72fd9aa081cd83550f8e13086b8967" category="list-text">Este exemplo cria um objeto instantâneo de volume para um PVC chamado<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block> e o nome do instantâneo é definido como<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>. Um VolumeSnapshot é análogo a um PVC e está associado a um<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto que representa o snapshot real.</block>
  <block id="4a2834678b378c24001efcc2f1ca5238" category="list-text">Pode identificar o<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto para o<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block> VolumeSnapshot descrevendo-o. O<block ref="25fb031d6a134e0fb5a240d6d4c12b01" prefix=" " category="inline-code"></block> identifica o objeto VolumeSnapshotContent que serve este instantâneo. O<block ref="a701d928aada0f89c8ad0abc16ccdfcc" prefix=" " category="inline-code"></block> parâmetro indica que o instantâneo pode ser usado para criar um novo PVC.</block>
  <block id="a7fab4013a8993c3310ee07c7e101fc1" category="section-title">Crie um PVC a partir de um instantâneo de volume</block>
  <block id="698ebb07855a850e7bcbd189f9322e21" category="paragraph">Você pode usar<block ref="d9d448f70687a1aa1f12b2f5ddaa4977" prefix=" " category="inline-code"></block> para criar um PVC usando um VolumeSnapshot nomeado<block ref="38741d2dca753415660b08a54f8ad3a9" prefix=" " category="inline-code"></block> como a fonte dos dados. Depois que o PVC é criado, ele pode ser anexado a um pod e usado como qualquer outro PVC.</block>
  <block id="475fb21c20bb54ea8ac6cb1756aba565" category="inline-link-macro">KB: A criação de um PVC a partir de um instantâneo de PVC do Trident não pode ser criada em um back-end alternativo</block>
  <block id="18051638f30f342b517379b11f0442f9" category="admonition">O PVC será criado no mesmo backend que o volume de origem. <block ref="0d4d7e7a69b413699039bc9b916a37d5" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="8d9f716dc04d23bb9af0a64fef3bbbd9" category="paragraph">O exemplo a seguir cria o PVC usando<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block> como fonte de dados.</block>
  <block id="c2d480d58505386b1609d69c842aaf44" category="section-title">Importar um instantâneo de volume</block>
  <block id="868f2cc6f424bbd531c3ac4f053a8125" category="inline-link-macro">Processo de snapshot pré-provisionado do Kubernetes</block>
  <block id="44ce6c838becb17913e38bbe2b0096fe" category="list-text">Especifique o nome do instantâneo de back-end em<block ref="4ab6864fc58ecd8b598ee10dfe2ac311" prefix=" " category="inline-code"></block> as<block ref="d42b3f1355513faa92e8e6b438dffc73" prefix=" " category="inline-code"></block>.</block>
  <block id="e0668acdd6b1e131a130998184f4f7fc" category="admonition">O<block ref="8773ea16ee304585aa1da2afd8f25434" prefix=" " category="inline-code"></block> nem sempre pode corresponder ao nome do instantâneo do back-end devido a restrições de nomenclatura CR.</block>
  <block id="90a9b62f2d9107ff002b3ffcff75c334" category="paragraph">O exemplo a seguir cria um<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto que faz referência a snapshot de back-end<block ref="82645407d5a235bd775551b0a8455cd1" prefix=" " category="inline-code"></block> .</block>
  <block id="b385a638aafc60dc851702d7207b1460" category="list-text">*Cluster admin:* Crie o<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> CR que faz referência ao<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto. Isso solicita acesso para usar o<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> em um namespace dado.</block>
  <block id="4fd027fecd2883c25a41ecd68536b1d6" category="paragraph">O exemplo a seguir cria um<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> CR chamado<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block> que faz referência ao<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block><block ref="ae79a6ea6405531b451963557819c96a" prefix=" " category="inline-code"></block> chamado .</block>
  <block id="92aa04a2cf75f40187ef422ef48baa9f" category="list-text">O snapshotter externo define<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> para<block ref="bdc3aa73b1bbfc0b0212a8f6a8bb2077" prefix=" " category="inline-code"></block> e<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> para<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>.</block>
  <block id="f6e6b6f8bbabf2b4d61efaa16f96f7c7" category="list-text">Trident retorna<block ref="0253f5e864e2646df8eab03ca4f066ee" prefix=" " category="inline-code"></block>.</block>
  <block id="2fae3f8997b56adf73a63fcf9e10a75d" category="list-text">*Qualquer usuário:* Crie um<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> para fazer referência ao novo<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>, onde o<block ref="be455c19a1930c91806853db05c277d9" prefix=" " category="inline-code"></block> nome (ou<block ref="43cbd4bd62b601d2f5e0b618220b0f44" prefix=" " category="inline-code"></block>) é o<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> nome.</block>
  <block id="5581736d9cc57d1f1193e52f799c03b2" category="paragraph">O exemplo a seguir cria um PVC referenciando o<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> nome<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block>.</block>
  <block id="c48edc45b9266a1f0d1869ac35615605" category="section-title">Recuperar dados de volume usando snapshots</block>
  <block id="4714f3cf4c41291cc2dae88a7150cbe5" category="paragraph">O diretório instantâneo é oculto por padrão para facilitar a compatibilidade máxima dos volumes provisionados usando os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>. Ative o<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> diretório para recuperar dados de instantâneos diretamente.</block>
  <block id="8f580d002ee0bbc67930846839d50dbe" category="paragraph">Use a CLI do ONTAP de restauração de snapshot de volume para restaurar um volume para um estado gravado em um snapshot anterior.</block>
  <block id="f84dc17e0595ca9097097e70b9b927e1" category="admonition">Quando você restaura uma cópia snapshot, a configuração de volume existente é sobrescrita. As alterações feitas aos dados de volume após a criação da cópia instantânea são perdidas.</block>
  <block id="35d57da577b5f55299f7644e8b2de091" category="section-title">Eliminar um PV com instantâneos associados</block>
  <block id="b1bc7c11251b98a19ba1fc0ad08275ed" category="section-title">Implantar um controlador de snapshot de volume</block>
  <block id="9c87569b835a8f66b7490390d350d9a4" category="paragraph">Se a sua distribuição do Kubernetes não incluir a controladora de snapshot e CRDs, você poderá implantá-los da seguinte forma.</block>
  <block id="469f7ca16938508b5dcb777767828b70" category="list-text">Criar CRDs de instantâneos de volume.</block>
  <block id="a571dbb3887a364b4b4dcb82a5fa6ec9" category="list-text">Crie o controlador instantâneo.</block>
  <block id="ae3ba2e438847d5fb2abc16b3c73ccab" category="admonition">Se necessário, abra<block ref="31a2c725707ce238c3eb4dd82c7e3af9" prefix=" " category="inline-code"></block> e atualize<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block> para o seu namespace.</block>
  <block id="f6bd0d7447ff66cc6b859603a88fbde9" category="section-title">Links relacionados</block>
  <block id="35aa4a2a819e526c2e930e487df8d423" category="list-text"><block ref="35aa4a2a819e526c2e930e487df8d423" category="inline-link-macro-rx"></block></block>
  <block id="d63cadc96caf4b05f8fa532b08e889da" category="list-text"><block ref="d63cadc96caf4b05f8fa532b08e889da" category="inline-link-macro-rx"></block></block>
  <block id="19eb1a22d8687def5fb4904d3402728a" category="doc">Compartilhar um volume NFS entre namespaces</block>
  <block id="98f770b0af18ca763421bac22b4b6805" category="section-title">Caraterísticas</block>
  <block id="6b456f0abe4c4d2f0beb62e5985136cf" category="list-text">Vários níveis de controle de acesso para garantir a segurança</block>
  <block id="6e5d93bf8e8aaaa4795a50f012bc8fea" category="list-text">Funciona com todos os drivers de volume Trident NFS</block>
  <block id="0ece56dd58b5aabac15e0d0a30553bc0" category="list-text">Não há dependência do tridentctl ou de qualquer outro recurso do Kubernetes não nativo</block>
  <block id="b6fcfcfd30bda2a77ebc74f23270f581" category="paragraph">Este diagrama ilustra o compartilhamento de volumes NFS em dois namespaces do Kubernetes.</block>
  <block id="45208a2cac11f33c3e6af84d444ac7c5" category="image-alt">Um diagrama conceitual de compartilhamento entre namespace.</block>
  <block id="06ad314b340900d226b1196e1fe289e9" category="section-title">Início rápido</block>
  <block id="f5b36cc36c8381e7577788dd4db2019d" category="paragraph">Você pode configurar o compartilhamento de volume NFS em apenas algumas etapas.</block>
  <block id="32ec9b4824220f8ae03a723da009cd54" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block> Configure o PVC de origem para compartilhar o volume</block>
  <block id="88b05b42d60719619c24f6101bcd381a" category="paragraph">O proprietário do namespace de origem concede permissão para acessar os dados no PVC de origem.</block>
  <block id="82a9b6c32a91a1f4a714d648f5d3260f" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block> Conceda permissão para criar um CR no namespace de destino</block>
  <block id="7037976663710169f00563675ffd3f91" category="paragraph">O administrador do cluster concede permissão ao proprietário do namespace de destino para criar o CredentVolumeReference CR.</block>
  <block id="311a877e773f97b1e237db665a868dd9" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block> Crie TridentVolumeReference no namespace de destino</block>
  <block id="46374486db0641fa4a3fc8e9c73766ed" category="paragraph">O proprietário do namespace de destino cria o TrigentVolumeReference CR para se referir ao PVC de origem.</block>
  <block id="fb16fc9d34d26a8e74ba1a7180766513" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block> Crie o PVC subordinado no namespace de destino</block>
  <block id="33fefc8d535df49d886c4bc78a08e3e5" category="paragraph">O proprietário do namespace de destino cria o PVC subordinado para usar a fonte de dados do PVC de origem.</block>
  <block id="7238deab481379c03df561ea7c9b0e2e" category="section-title">Configure os namespaces de origem e destino</block>
  <block id="b23d212300860aa39d44f8fad02636a1" category="paragraph">Para garantir a segurança, o compartilhamento entre namespace requer colaboração e ação do proprietário do namespace de origem, do administrador do cluster e do proprietário do namespace de destino. A função de usuário é designada em cada etapa.</block>
  <block id="aae019fccb9b3ffee1ee77e9e5f2377a" category="list-text">*Proprietário do namespace de origem:* Crie o PVC <block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block>) no namespace de origem que concede permissão para compartilhar com o namespace de destino <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>) usando a<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> anotação.</block>
  <block id="365b452a5b5d2d01e1f193fc8bd9bf2c" category="list-text">Você pode compartilhar o PVC para vários namespaces usando uma lista delimitada por vírgulas. Por exemplo,<block ref="6b31015528f67fe4ce10b7c81957f601" prefix=" " category="inline-code"></block>.</block>
  <block id="fefd0d1f7e80bb8a4657265696b66694" category="list-text">Você pode compartilhar com todos os namespaces usando<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>. Por exemplo,<block ref="e06421e15aa316addc52dd6c697027b7" prefix=" " category="inline-code"></block></block>
  <block id="bac5e1b9773b73b6702dfe25c8a61a05" category="list-text">Você pode atualizar o PVC para incluir a<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> anotação a qualquer momento.</block>
  <block id="512fce88fc641bb15b14b72474159acd" category="list-text">*Cluster admin:* Crie a função personalizada e kubeconfig para conceder permissão ao proprietário do namespace de destino para criar o TridentVolumeReference CR no namespace de destino.</block>
  <block id="5f560764a361bf1159f8a6c8cbd15dad" category="list-text">*Proprietário do namespace de destino:* Crie um CredentVolumeReference CR no namespace de destino que se refere ao namespace de origem<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block> .</block>
  <block id="d9bb6497cda089fc4a386c685a97cffa" category="list-text">*Proprietário do namespace de destino:* Crie um PVC <block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block>) no namespace de destino <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>) usando a<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block> anotação para designar o PVC de origem.</block>
  <block id="e22f320aefbf1cdb3ccd68c26b050060" category="admonition">O tamanho do PVC de destino deve ser inferior ou igual ao PVC de origem.</block>
  <block id="a5ddf1dcee266e65795efb120a45d2cb" category="section-title">Eliminar um volume partilhado</block>
  <block id="3f8e335666124e3b7f5db07f03fef0b1" category="section-title"><block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block>Use para consultar volumes subordinados</block>
  <block id="9f2f83b0c97d84774c1d61107283bb68" category="paragraph">Usando o<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> utilitário, você pode executar o<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block> comando para obter volumes subordinados. Para obter mais informações, consulte o link:./Trident-reference/tridentctl.html<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="[" category="inline-code"></block> comandos e opções].</block>
  <block id="1c90ba5cf3791b6148c7887a696911ec" category="paragraph">Bandeiras -</block>
  <block id="b1cc54ad6906d5f41516543bae01e46f" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>: Ajuda para volumes.</block>
  <block id="20668f390d13376c8d13ab4b20a53b5d" category="list-text"><block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix="" category="inline-code"></block>: Limitar consulta ao volume de origem subordinado.</block>
  <block id="92c22bb3853554f94f513a2d2f36e8ef" category="list-text"><block ref="aed2a4a749284f757648f1057abf44cd" prefix="" category="inline-code"></block>: Limitar consulta a subordinados de volume.</block>
  <block id="87a522ecb9df14bf978f6f1da8a654a8" category="list-text">Não é possível revogar o acesso ao PVC de origem removendo as<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> anotações ou ou<block ref="11650d25d20af47978d85fd6e19c89aa" prefix=" " category="inline-code"></block> excluindo o<block ref="d6995f631b22fb3f8e94aad1b40d1280" prefix=" " category="inline-code"></block> CR. Para revogar o acesso, você deve excluir o PVC subordinado.</block>
  <block id="3908892c437778f8b161a2ca006782cd" category="list-text">Snapshots, clones e espelhamento não são possíveis em volumes subordinados.</block>
  <block id="8ff961668c6784e84b25c265cbb629d7" category="paragraph">Para saber mais sobre o acesso ao volume entre namespace:</block>
  <block id="f1cfea5f1444de607dfa549b3aa57010" category="inline-link-macro">Compartilhamento de volumes entre namespaces: Diga olá ao acesso ao volume entre namespace</block>
  <block id="2780f690b7670efc296ac19ef3029d0c" category="list-text"><block ref="b0d29f1b2abb2cc552e4cc47177582ef" category="inline-link-macro-rx"></block>Visite .</block>
  <block id="96e1384807331548bf745acde0fe1b73" category="inline-link-macro">NetAppTV</block>
  <block id="5ff83dbc70e496ea22b38ea61bb69f05" category="list-text">Assista à demonstração no <block ref="c27441bbbe62adf51ae6ecec41fde8bd" category="inline-link-macro-rx"></block>.</block>
  <block id="821b0ad941ad2559ef18eb8de56a470e" category="summary">Todos os nós de trabalho no cluster do Kubernetes precisam ser capazes de montar os volumes provisionados para os pods. Se você estiver usando o driver ONTAP-nas, ONTAP-nas-Economy, ONTAP-nas-FlexGroup para um de seus back-ends, seus nós de trabalho precisarão das ferramentas NFS. Caso contrário, eles exigem as ferramentas iSCSI.</block>
  <block id="262309361fe5b6dcda3a2eae08a48c2d" category="section-title">Selecionar as ferramentas certas</block>
  <block id="33176aeb27c41088051f460946356423" category="inline-link-macro">Instalar as ferramentas NFS</block>
  <block id="a0b90bbc60c78003c8f066892446e127" category="paragraph"><block ref="5dac8bb8705e3a30615e678be90a7f1d" category="inline-link-macro-rx"></block> se estiver a utilizar:<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>,<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>,<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>, , ,<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> .</block>
  <block id="15ffa30c3d1ab6322e5ff52935a86a50" category="inline-link-macro">Instale as ferramentas iSCSI</block>
  <block id="dd1774ab705fcc0738f7d5cfa8176115" category="paragraph"><block ref="918981963bb555a1b3a006c12fd13637" category="inline-link-macro-rx"></block> se estiver a utilizar:<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>,<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>.</block>
  <block id="e007fb329975dfac9458f3defd0f7fc1" category="inline-link-macro">Instalar as ferramentas do NVMe</block>
  <block id="fd7af40a7e3f81bfb0a51eac257dc730" category="paragraph"><block ref="8ac92b41418caf5b4c74c2a77a0c349a" category="inline-link-macro-rx"></block> Se você estiver usando<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o protocolo NVMe (não-volátil Memory Express) em TCP (NVMe/TCP).</block>
  <block id="d1914bc190cdc3bc9eee6db0c81021bc" category="section-title">Detecção de serviço de nós</block>
  <block id="2b6ab5193160f5eaca51526b15f27e3a" category="admonition">A descoberta de serviço de nó identifica os serviços descobertos, mas não garante que os serviços estejam configurados corretamente. Por outro lado, a ausência de um serviço descoberto não garante que a montagem de volume falhe.</block>
  <block id="6a9c3f120f628091afbdc5343cbbe0e1" category="paragraph-title">Rever eventos</block>
  <block id="70db3e5b82bc8c7ce4389fe8a025df28" category="paragraph-title">Reveja os serviços descobertos</block>
  <block id="b7a66d04a41292979004906785008ca9" category="section-title">Volumes NFS</block>
  <block id="eeacf148d8ecc80cfae337218dd81f43" category="paragraph">Instale as ferramentas NFS usando os comandos do seu sistema operacional. Certifique-se de que o serviço NFS seja iniciado durante o tempo de inicialização.</block>
  <block id="29ba980a9e9adedc9414ea868c74ebd5" category="section-title">Volumes iSCSI</block>
  <block id="e81b5ef34c686914f0cc58204241cace" category="section-title">Recursos de autorrecuperação iSCSI</block>
  <block id="432fa9215202553559f7b2d4d10ef5ee" category="list-text">*Identifique* o estado de sessão iSCSI desejado e o estado atual da sessão iSCSI.</block>
  <block id="587fcf25ecbc5ff7cf19f7b1a159b5e9" category="list-text">*Efetuar reparações* necessárias para repor o estado atual da sessão iSCSI para o estado de sessão iSCSI pretendido.</block>
  <block id="39460cb84da78b4a87c2014972b2f901" category="admonition">Por exemplo, se os segredos CHAP foram girados no controlador de armazenamento e a rede perder a conetividade, os segredos CHAP antigos (_stale_) podem persistir. A auto-cura pode reconhecer isso e restabelecer automaticamente a sessão para aplicar os segredos CHAP atualizados.</block>
  <block id="9e9d382760025434fdf113f91e894cf4" category="list-text">Sessões iSCSI em falta</block>
  <block id="3f7bf0ef305a15c68efdc95a50750bd0" category="list-text">LUNs em falta</block>
  <block id="eb80be396693610ba21c23b6b222bb73" category="paragraph">*Pontos a considerar antes de atualizar o Trident*</block>
  <block id="b100864b32a36993557470c9854e7e3a" category="list-text">Se apenas os grupos por nó (introduzidos em mais de 23,04) estiverem em uso, a recuperação automática iSCSI iniciará os rescans SCSI para todos os dispositivos no barramento SCSI.</block>
  <block id="284bb2f9d2596017aa72985df760fdb3" category="list-text">Se apenas grupos com escopo de back-end (obsoletos a partir de 23,04) estiverem em uso, a recuperação automática iSCSI iniciará as reconfigurações SCSI para IDs de LUN exatas no barramento SCSI.</block>
  <block id="0d6cf1de077f00140ee25c03f94e4805" category="list-text">Se uma combinação de grupos por nó e grupos com escopo de back-end estiver em uso, a recuperação automática iSCSI iniciará as substituições SCSI para IDs LUN exatas no barramento SCSI.</block>
  <block id="12fe03bf2457cc4e4e90af10a2f7092f" category="list-text">Cada nó no cluster do Kubernetes precisa ter uma IQN exclusiva. *Este é um pré-requisito necessário*.</block>
  <block id="5eb07a7cb7d445ef6bbb17270c65cf52" category="list-text">Se estiver usando RHCOS versão 4,5 ou posterior, ou outra distribuição Linux compatível com RHEL, com o<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver e o Element OS 12,5 ou anterior, verifique se o algoritmo de autenticação CHAP está definido como MD5 em<block ref="104f48adc29dc1e1d7c9bbe7b5dd3f8d" prefix=" " category="inline-code"></block>. algoritmos CHAP compatíveis com FIPS seguros SHA1, SHA-256 e SHA3-256 estão disponíveis com o elemento 12,7.</block>
  <block id="1b757fe9c8a149de349a32b8d21feb54" category="admonition">Para o Ubuntu 18,04, você deve descobrir portas de destino com<block ref="f88921f58beaaae5bcb9dffac54bf5ad" prefix=" " category="inline-code"></block> antes de iniciar<block ref="356cb36dc1c54ae3f8a7c332c76d7edd" prefix=" " category="inline-code"></block> o daemon iSCSI para iniciar. Em alternativa, pode modificar o<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block> serviço para iniciar<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block> automaticamente.</block>
  <block id="d03a790fb20fccc8b27cff74c7a10709" category="section-title">Configurar ou desativar a auto-recuperação iSCSI</block>
  <block id="160cc91d68e6399b864fe236e7a6d11e" category="list-text">*Intervalo de auto-recuperação iSCSI*: Determina a frequência na qual a auto-recuperação iSCSI é invocada (predefinição: 5 minutos). Você pode configurá-lo para executar com mais frequência definindo um número menor ou com menos frequência definindo um número maior.</block>
  <block id="af6999fe88eb0d5f3cf5f3c7570bf014" category="paragraph">Definir o intervalo de auto-recuperação iSCSI para 0 interrompe completamente a auto-recuperação iSCSI. Não recomendamos a desativação do iSCSI Self-healing; ele só deve ser desativado em certos cenários quando o iSCSI Self-healing não estiver funcionando como pretendido ou para fins de depuração.</block>
  <block id="fe240a869a7a9e3bdc68d460aa116db2" category="list-text">*Tempo de espera de auto-cura iSCSI*: Determina a duração de espera de auto-recuperação iSCSI antes de sair de uma sessão não saudável e tentar iniciar sessão novamente (predefinição: 7 minutos). Você pode configurá-lo para um número maior para que as sessões identificadas como não saudáveis tenham que esperar mais antes de serem desconetadas e, em seguida, uma tentativa é feita para fazer login novamente, ou um número menor para fazer logout e fazer login mais cedo.</block>
  <block id="7c3dfaf40c8f6c1208932661e70ca6b2" category="paragraph">Para configurar ou alterar as definições de recuperação automática iSCSI, passe os<block ref="a1edaea62dbed344534369e9668223b1" prefix=" " category="inline-code"></block> parâmetros e<block ref="85fc372a514da766ce84a222668f8e62" prefix=" " category="inline-code"></block> durante a instalação do leme ou atualização do leme.</block>
  <block id="ba53a946a5e7dedfdc75a569107f3a66" category="paragraph">O exemplo a seguir define o intervalo de auto-recuperação iSCSI para 3 minutos e o tempo de espera de auto-recuperação para 6 minutos:</block>
  <block id="c67fd1b99934afa248dfeb285a9a4191" category="open-title">tridentctl</block>
  <block id="03c688458c87383f238f17223a52f7bd" category="paragraph">Para configurar ou alterar as configurações de auto-recuperação iSCSI, passe os<block ref="95df96489cc6481c74d24c1397e3edd9" prefix=" " category="inline-code"></block> parâmetros e<block ref="4ad3b66813348b71002bd232a403581c" prefix=" " category="inline-code"></block> durante a instalação ou atualização do tridentctl.</block>
  <block id="4771a9c521a7d39c2dcf6ee71d0ef032" category="section-title">Volumes NVMe/TCP</block>
  <block id="b15a013c4977a2a96afedafe316664b2" category="section-title">Verifique a instalação</block>
  <block id="d777ba5e4b1ff43d3668b14ef7200bad" category="paragraph">Após a instalação, verifique se cada nó no cluster do Kubernetes tem um NQN exclusivo usando o comando:</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="doc">Solução de problemas</block>
  <block id="163fb9eb00818e2c7109900db1a3cc82" category="section-title">Resolução de problemas gerais</block>
  <block id="f504c27d1ad305a988958b64f34468cb" category="list-text">Se o pod Trident não aparecer corretamente (por exemplo, quando o pod Trident está preso<block ref="8627ca3ad23f4fb9adc6ba05047004c6" prefix=" " category="inline-code"></block> na fase com menos de dois contêineres prontos), em execução<block ref="d8ff0b6a743c3e367651a5670557e628" prefix=" " category="inline-code"></block> e<block ref="a4b328a3b4da8017033a2fedd18d09fa" prefix=" " category="inline-code"></block> pode fornecer informações adicionais. A obtenção de logs do kubelet (por exemplo, via<block ref="15860ae6633dd5eb60d2266c2a6fc03f" prefix=" " category="inline-code"></block>) também pode ser útil.</block>
  <block id="05d68d1b7214c73141ed12aaed0c2ab5" category="list-text">Se não houver informações suficientes nos logs do Trident, você pode tentar ativar o modo de depuração para o Trident passando o<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block> sinalizador para o parâmetro de instalação com base na opção de instalação.</block>
  <block id="bc6de9cad530a57dba08ff711f4a6b5f" category="paragraph">Em seguida, confirme se a depuração é definida usando<block ref="84c78f6343bea2c18a8ded36d1ac1572" prefix=" " category="inline-code"></block> e pesquisando<block ref="53df56868ef061c403e1b925399eeac6" prefix=" " category="inline-code"></block> no log.</block>
  <block id="8e95ae46f32b05cf983c93e608530e36" category="list-text">Instalado com Operador</block>
  <block id="94912f7fb206038e8527957b44dfbf25" category="paragraph">Isso reiniciará todos os pods do Trident, o que pode levar vários segundos. Você pode verificar isso observando a coluna 'IDADE' na saída do<block ref="ae7c84a6e027b78ae530cc1b0b98ac3c" prefix=" " category="inline-code"></block>.</block>
  <block id="79b91d0489c081de6794796638793787" category="list-text">Instalado com Helm</block>
  <block id="d356d628089d439d75e3f85564372658" category="list-text">Instalado com tridentctl</block>
  <block id="154244be43a4ba50080a256f5657b29a" category="list-text">Um problema comum que você pode encontrar ao usar o Trident com<block ref="4568986ef6397d7c901269fc0e190ede" category="inline-link-rx"></block> é quando os segredos do locatário e do cliente vêm de um Registro de aplicativo com permissões insuficientes. Para obter uma lista completa dos requisitos do Trident, consulte a <block ref="afedf4ee56554ea6e6b54e6aa206680c" category="inline-link-macro-rx"></block> configuração.</block>
  <block id="7f0ecdfa510b31b01d331c2760643b83" category="list-text">Se houver problemas com a montagem de um PV em um recipiente, certifique-se de que<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block> está instalado e funcionando. Use o gerenciador de pacotes necessário para o sistema operacional do host e verifique se<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block> está em execução. Você pode verificar o status<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block> do serviço executando um<block ref="461bc51ac38341d1d2fdae2e84bc6e47" prefix=" " category="inline-code"></block> ou seu equivalente.</block>
  <block id="78aeadc89feb4cf244398a7d35a0d656" category="list-text">Se um back-end do Trident relatar que ele está<block ref="26934eb377001f66e37289a5c93fe284" prefix=" " category="inline-code"></block> no estado apesar de ter trabalhado antes, provavelmente será causado pela alteração das credenciais do SVM/administrador associadas ao back-end. Atualizar as informações de back-end usando<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block> ou saltando o pod Trident corrigirá esse problema.</block>
  <block id="b851cfc28cd6e5cb9aaf87bdb59a68aa" category="list-text">Se você encontrar problemas de permissão ao instalar o Trident com Docker como o runtime do contentor, tente a instalação do Trident com o<block ref="acbc9344b624715d4749280f7e4a5b49" prefix=" " category="inline-code"></block> sinalizador. Isso não usará um pod do instalador e evitará problemas de permissão vistos devido ao<block ref="c84ef67352bb6783ff2881f9f2821c2a" prefix=" " category="inline-code"></block> usuário.</block>
  <block id="6f7d49547ff47cfaf1fd93d134b603be" category="list-text">Utilize o<block ref="9a259632da28fe06c1ce5125984d3597" prefix=" " category="inline-code"></block> para limpar após uma falha de funcionamento. Por padrão, o script não remove os CRDs que foram criados pelo Trident, tornando seguro desinstalar e instalar novamente mesmo em uma implantação em execução.</block>
  <block id="f1112223b41fddc71fd6a626582dfb78" category="inline-link">Versão Trident</block>
  <block id="629ac35dda697ad18f8fef7094213871" category="list-text">Se você quiser fazer o downgrade para uma versão anterior do Trident, primeiro execute o<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block> comando para remover o Trident. Baixe o desejado<block ref="f3d78353f8dac3e49bbefeb5f6a2383b" category="inline-link-rx"></block> e instale usando o<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> comando.</block>
  <block id="51748ba3d16ecfd8c45c7ebf2043b738" category="list-text">Após uma instalação bem-sucedida, se um PVC estiver preso na<block ref="2d13df6f8b5e4c5af9f87e0dc39df69d" prefix=" " category="inline-code"></block> fase, a execução<block ref="703698f580eb41aee04574750a78238d" prefix=" " category="inline-code"></block> pode fornecer informações adicionais sobre por que a Trident não conseguiu fornecer um PV para este PVC.</block>
  <block id="c966bdf80a661ce3909786b6f622340b" category="section-title">Implantação sem êxito do Trident usando o operador</block>
  <block id="0e89989064bf4afdc37fd5a7be4f607d" category="paragraph">Se você estiver implantando o Trident usando o operador, o status das<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> alterações será alterado de<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block> para<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>. Se você observar o<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block> status e o operador não conseguir se recuperar sozinho, você deve verificar os logs do operador executando o seguinte comando:</block>
  <block id="df9771dbb13da45493e576499910c0b4" category="paragraph">Arrastar os logs do contentor do operador Trident pode apontar para onde está o problema. Por exemplo, um desses problemas poderia ser a incapacidade de extrair as imagens de contentor necessárias de Registros upstream em um ambiente com airgapped.</block>
  <block id="0fd4c6187c561958bc76052df7774593" category="paragraph">Para entender por que a instalação do Trident não foi bem-sucedida, você deve dar uma olhada no<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> status.</block>
  <block id="1e054f4c292a5388d6318461fe73d749" category="paragraph">Este erro indica que já existe um<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> que foi usado para instalar o Trident. Como cada cluster do Kubernetes pode ter apenas uma instância do Trident, o operador garante que, a qualquer momento, só exista uma ativa<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> que possa criar.</block>
  <block id="568fcf9beb0dbd37c57dff251a3164ed" category="paragraph">Além disso, observar o status dos pods do Trident geralmente pode indicar se algo não está certo.</block>
  <block id="f89c17ddb9f8bdaf5c95a466d5f6a500" category="paragraph">Você pode ver claramente que os pods não são capazes de inicializar completamente porque uma ou mais imagens de contentor não foram obtidas.</block>
  <block id="d57d1a6de03b2ddf3ee54f680152e2b6" category="paragraph">Para resolver o problema, você deve editar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR. Alternativamente, você pode excluir<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e criar um novo com a definição modificada e precisa.</block>
  <block id="ccfca578972ee86c982797bc2898fe5b" category="section-title">Implantação sem êxito do Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="021e9ae5361eb14975bf9a30f99770f5" category="paragraph">Para ajudar a descobrir o que deu errado, você pode executar o instalador novamente usando o <block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="" category="inline-code"></block> argumento, que irá ativar o modo de depuração e ajudá-lo a entender qual é o problema:</block>
  <block id="01539f4f1fd20792cbbae6bb0506cc20" category="paragraph">Depois de resolver o problema, você pode limpar a instalação da seguinte forma e, em seguida, executar o<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> comando novamente:</block>
  <block id="35f748582b65670a3f27a7f93c685560" category="section-title">Falha de desinstalação do nó NVMe com namespaces de bloco bruto RWX do Kubernetes 1,26</block>
  <block id="02c0c037ba3f051d21fbf3a2f370eb72" category="paragraph">Se você estiver executando o Kubernetes 1,26, a desinstalação de nós pode falhar ao usar NVMe/TCP com namespaces de bloco bruto RWX. Os cenários a seguir fornecem uma solução para a falha. Como alternativa, você pode atualizar o Kubernetes para 1,27.</block>
  <block id="14b443235c9f911289e8e2d0bad3eaf2" category="section-title">Excluiu o namespace e o pod</block>
  <block id="31accf88e60e15e200ac055e6344c912" category="paragraph">Desmonte o volume persistente (correspondente a esse namespace) do respetivo nó e exclua-o.</block>
  <block id="5d84bf099896e3a304a067d7c5f71db1" category="section-title">Dados bloqueados</block>
  <block id="e80aabfb35c98e66a71baf6a3c90a7df" category="paragraph">Abra o dataLIFS para restaurar a funcionalidade completa.</block>
  <block id="5afe86ac983ac04ac6d9268beb2bc024" category="section-title">Mapeamento de namespace excluído</block>
  <block id="9b0dbff182f270b33423b281f92bddc2" category="paragraph">Adicione o<block ref="a564a902c12941efa27c1d2ea4a19f8e" prefix=" " category="inline-code"></block> de volta ao subsistema.</block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="sidebar">Notas de lançamento</block>
  <block id="93168a8084b3e838d2932c4734bd234e" category="sidebar">Versões anteriores</block>
  <block id="312b0dc38b01ff32c1b2f5f81ee1ab2d" category="sidebar">Implante com o operador Trident</block>
  <block id="e0e3d7f1aacdf4a8196132549709430c" category="sidebar">Implante com o tridentctl</block>
  <block id="386307d41b3f4169a1e6e046a727cdd2" category="sidebar">Atualize com o operador Trident</block>
  <block id="81a123ccab93cd947289b672b0e50348" category="sidebar">Demos e tutoriais</block>
  <block id="813011e2103649bb71f124adedcc10ea" category="sidebar">Blogs &amp; comunidade</block>
  <block id="8f5cc6430613f1c12f36965050bb7197" category="sidebar">Discórdia</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">O que há de novo</block>
  <block id="0adc03eac86772ad2c75c8f140be417e" category="sidebar">Conhecimento e apoio</block>
  <block id="483a5da192f46e3cfe8391d3ef234fc4" category="sidebar">FAQs</block>
  <block id="fabfc25ef8996fd90836e58a4c0b26b6" category="sidebar">Obtenha ajuda</block>
  <block id="e08bfc79c5202517b3814efd6e82fb2c" category="sidebar">Atualize ou desinstale o Trident</block>
  <block id="0460583622f03a52d7693094d6fa2452" category="sidebar">Conceitos</block>
  <block id="46921a75e8534ad7d1c379a9e3aec033" category="sidebar">Visão geral da instalação</block>
  <block id="3183dc3907c0b67930b221a316c94cb2" category="sidebar">Instale usando o operador Trident</block>
  <block id="ca19905e19a036badc8a33897130382d" category="sidebar">Implantar manualmente o operador Trident (padrão)</block>
  <block id="ef39c7f15f2671234f3264999cce5679" category="sidebar">Implantar manualmente o operador Trident (Offline)</block>
  <block id="0f441bb0252fa34f85fc82a08f2db0c7" category="sidebar">Usar Gráfico de Helm Trident (padrão)</block>
  <block id="70eb578fbddf25c465d8f4886be750b7" category="sidebar">Usar Gráfico de Helm do Trident (Offline)</block>
  <block id="71f5771dab663d80ba4dad1627e3386a" category="sidebar">Visão geral da atualização</block>
  <block id="5ff3faebb0ff710340bdbee89a4667ad" category="sidebar">Atualize com o operador</block>
  <block id="a20f982d79c3dd66d244ffe0f7d940ee" category="sidebar">Práticas recomendadas e recomendações</block>
  <block id="301ebdf8067a213d5a55c65fbb488290" category="sidebar">Recomendações de segurança</block>
  <block id="63d5049791d9d79d86e9a108b0a999ca" category="sidebar">Referência</block>
  <block id="5248a0897439d95866d14416e307c927" category="sidebar">Configurar e gerenciar backends</block>
  <block id="58834b137fd6fa7a9ca23468a5c91fd6" category="sidebar">Prepare-se para configurar</block>
  <block id="19ce3b2e7823907e5153f00fe04f64f7" category="sidebar">Opções de configuração e exemplos</block>
  <block id="6fc0b7515ecca271c88eae4a685da613" category="sidebar">NetApp HCI ou SolidFire</block>
  <block id="53f64465dc89ebfc8f426b3cdf4d1614" category="sidebar">Crie uma função do IAM e um segredo da AWS</block>
  <block id="0a3c6c3b1b9418c792ec73b934ca8fdd" category="sidebar">Configurar o back-end de storage</block>
  <block id="50399b7d6597b32502708277dd2be03c" category="sidebar">Configure a classe de armazenamento e o PVC</block>
  <block id="af5d3eba040f5bcf3d3f037b574766c8" category="sidebar">Gerenciar backends</block>
  <block id="bcca457a84376733a80b2dfad749e939" category="sidebar">Gerencie backends com kubectl</block>
  <block id="e9e5f94eb04c1889f891ad75fd929b4b" category="sidebar">Gerencie backends com tridentctl</block>
  <block id="95408f23568d6e604d1f49a1bf3ff238" category="sidebar">Criar e gerenciar classes de armazenamento</block>
  <block id="76114b40ddbaf2bf18e9aee694563b40" category="sidebar">Provisionar e gerenciar volumes</block>
  <block id="e8ce47501426b8525633fc30daf17d7a" category="sidebar">Personalizar nomes de volume</block>
  <block id="f18a50f02f48551895d57b81dd288142" category="sidebar">Compartilhar volumes NFS em namespaces</block>
  <block id="62486fa65fc31c383ace8989549632ad" category="sidebar">Use snapshots</block>
  <block id="472039bf3422ff2697dba6fc9fdd57d8" category="inline-link-macro">Ciclo de vida do suporte da Trident</block>
  <block id="c45d9c1b397ff706a7a39c069930c677" category="inline-link">Trident 24,06</block>
  <block id="d0fd12656eeec63fe137c83181c17c0b" category="list-text"><block ref="d0fd12656eeec63fe137c83181c17c0b" category="inline-link-rx"></block></block>
  <block id="45d1e500370372fc7e76e110b5aff92d" category="inline-link">Trident 24,02</block>
  <block id="b735f50352c31f80267e7a6fc57ce804" category="list-text"><block ref="b735f50352c31f80267e7a6fc57ce804" category="inline-link-rx"></block></block>
  <block id="b4dfeb42b5c9816777494eeb7a772461" category="inline-link">Trident 23,10</block>
  <block id="55cad0455da7cf59434d9f8ff225c39b" category="list-text"><block ref="55cad0455da7cf59434d9f8ff225c39b" category="inline-link-rx"></block></block>
  <block id="8806d0d5f26e8a704b5d26c076c531bd" category="inline-link">Trident 23,07</block>
  <block id="9c74a4e8266dd7e50d12a159c32d6b10" category="list-text"><block ref="9c74a4e8266dd7e50d12a159c32d6b10" category="inline-link-rx"></block></block>
  <block id="3a4e6f76b26aa8878f5798aba052777c" category="inline-link">Trident 23,04</block>
  <block id="5bff8eb1dea519dd15a076031fa9f288" category="list-text"><block ref="5bff8eb1dea519dd15a076031fa9f288" category="inline-link-rx"></block></block>
  <block id="5382f4fbc3622ef143d9ddbe033351ab" category="inline-link">Trident 23,01</block>
  <block id="a9425b076f0cf301dc3a2d77e67816ca" category="list-text"><block ref="a9425b076f0cf301dc3a2d77e67816ca" category="inline-link-rx"></block></block>
  <block id="2e0d64f2a4b164112beaf0506070ad85" category="inline-link">Trident 22,10</block>
  <block id="e4c5c8d195d27f073639195f80da50a2" category="list-text"><block ref="e4c5c8d195d27f073639195f80da50a2" category="inline-link-rx"></block></block>
  <block id="42b023f127a09218e58c2611e2e34ce2" category="inline-link">Trident 22,07</block>
  <block id="7f7bdec4905ccd8d5a077969d0b77fd5" category="list-text"><block ref="7f7bdec4905ccd8d5a077969d0b77fd5" category="inline-link-rx"></block></block>
  <block id="c48696f9d5a5a881f7f2f08fd40ce424" category="summary">Encontre respostas para as perguntas mais frequentes sobre instalação, configuração, atualização e solução de problemas do Trident.</block>
  <block id="d9aca3de44ae0828dd89d53663e6e4c8" category="section-title">Com que frequência o Trident é lançado?</block>
  <block id="d68e1eab03012de1cfe733b0e5a56e0a" category="paragraph">Começando com o lançamento de 24,02, o Trident é lançado a cada quatro meses: Fevereiro, Junho e Outubro.</block>
  <block id="0f7d5cbd339fb02ad7b6d2052778b76c" category="section-title">O Trident é compatível com todos os recursos lançados em uma versão específica do Kubernetes?</block>
  <block id="0393f24e9d90badf5195c5d59c8cab27" category="paragraph">O Trident geralmente não oferece suporte a recursos alfa no Kubernetes. O Trident pode oferecer suporte a recursos beta nas duas versões do Trident que seguem a versão beta do Kubernetes.</block>
  <block id="c05993771d3f4855968becac69b33f44" category="section-title">O Trident tem alguma dependência de outros produtos NetApp para seu funcionamento?</block>
  <block id="206d5ff7336a8540d7a581ba45c5f83f" category="paragraph">O Trident não tem dependências em outros produtos de software NetApp e funciona como um aplicativo autônomo. No entanto, você deve ter um dispositivo de storage de back-end do NetApp.</block>
  <block id="95bcf2f0f55536798451f058ec6640a9" category="section-title">Como posso obter detalhes completos de configuração do Trident?</block>
  <block id="67323698ba39f83a63a92758f63e8080" category="paragraph">Use o<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block> comando para obter mais informações sobre sua configuração do Trident.</block>
  <block id="d29b114bc457427dcaea77aacc90fe8a" category="section-title">Posso obter métricas sobre como o storage é provisionado pelo Trident?</block>
  <block id="61d2a329cdb6694d83cd5fbf5dc02f7a" category="paragraph">Sim. Endpoints Prometheus que podem ser usados para coletar informações sobre a operação do Trident, como o número de backends gerenciados, o número de volumes provisionados, bytes consumidos e assim por diante. Você também pode usar <block ref="7a2477b8055ecdaa4bd473b0556bcb2a" category="inline-link-macro-rx"></block> para monitoramento e análise.</block>
  <block id="9bdccce3d8a96585da41b41f9a8a35ea" category="section-title">A experiência do usuário muda ao usar o Trident como um supervisor CSI?</block>
  <block id="09c8fb7656ad21dac196205f70094681" category="paragraph">Não há alterações no que diz respeito à experiência do usuário e às funcionalidades. O nome do provisionador usado é<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block>. Este método de instalação do Trident é recomendado se você quiser usar todos os novos recursos fornecidos pelas versões atuais e futuras.</block>
  <block id="804e1070c55dcfc75cbde5cbcb86c3ba" category="section-title">Instalar e usar o Trident em um cluster do Kubernetes</block>
  <block id="df316d84e969d52af02710ec31df7055" category="section-title">O Trident suporta uma instalação offline a partir de um registo privado?</block>
  <block id="5e05991e14fd9934a724121da40f5b98" category="inline-link-macro">Saiba mais sobre a instalação do Trident</block>
  <block id="d55b9ba8a4efff113044f9efe0557e0c" category="paragraph">Sim, o Trident pode ser instalado offline. <block ref="ed3eb8298d3a91b1400b1be26865f5ec" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="75ac7954ef399713139c894c431e4116" category="section-title">Posso instalar o Trident be remotamente?</block>
  <block id="cab0813b2ef0c2dc3e0c17505f73a2f2" category="paragraph">Sim. O Trident 18,10 e posterior suportam a capacidade de instalação remota de qualquer máquina que tenha<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> acesso ao cluster. Depois<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> que o acesso for verificado (por exemplo, inicie um<block ref="1513e62b9eb7bbfc46c1be1a91a2ab76" prefix=" " category="inline-code"></block> comando da máquina remota para verificar), siga as instruções de instalação.</block>
  <block id="50434308d8b9fc89f708232cb5e9cf87" category="section-title">Posso configurar a alta disponibilidade com o Trident?</block>
  <block id="d4a0a879bb58dfc0d2dd69374d278afe" category="paragraph">O Trident é instalado como uma implantação do Kubernetes (ReplicaSet) com uma instância, e por isso tem o HA incorporado. Você não deve aumentar o número de réplicas na implantação. Se o nó em que o Trident está instalado for perdido ou o pod estiver inacessível, o Kubernetes reimplanta automaticamente o pod em um nó íntegro no cluster. O Trident é apenas no plano de controle, portanto os pods atualmente montados não são afetados se o Trident for reimplantado.</block>
  <block id="b23db7e049824adf28d5d2d6839ee268" category="section-title">O Trident precisa de acesso ao namespace kube-System?</block>
  <block id="685a0ffaaa9ec81b2c31846cbf192282" category="paragraph">O Trident lê o servidor de API do Kubernetes para determinar quando os aplicativos solicitam novos PVCs, de modo que a TI precisa de acesso ao sistema kube.</block>
  <block id="0df447334013f5ccae9c82a00df9508a" category="section-title">Quais são as funções e Privileges usadas pelo Trident?</block>
  <block id="8b1b2eab4c453e6c69faf86b91b46898" category="section-title">Posso gerar localmente os arquivos de manifesto exatos que o Trident usa para instalação?</block>
  <block id="b633901fb93d2b4cb35254a9764dd626" category="paragraph">Você pode gerar e modificar localmente os arquivos de manifesto exatos que o Trident usa para instalação, se necessário. <block ref="ddc7df443077796093efdaf5a64d03cd" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="176cc68bd86878bb1bde4c3e72b4c315" category="section-title">Posso compartilhar o mesmo SVM de back-end do ONTAP em duas instâncias Trident separadas para dois clusters Kubernetes separados?</block>
  <block id="55c5d3092c2cf2c38eb0a708eefb8486" category="section-title">É possível instalar o Trident no ContainerLinux (antigo CoreOS)?</block>
  <block id="ed71f481574b61f58ec3289a77e224fa" category="paragraph">O Trident é simplesmente um pod do Kubernetes e pode ser instalado onde quer que o Kubernetes esteja em execução.</block>
  <block id="42fb91822adc98aa7764157cc987363a" category="section-title">Posso usar o Trident com o NetApp Cloud Volumes ONTAP?</block>
  <block id="c8e65f25ae4e876dc9b834240dd90ae1" category="paragraph">Sim, o Trident é compatível com AWS, Google Cloud e Azure.</block>
  <block id="563c8f675c158ed1e8fb653c2a5b0d16" category="section-title">O Trident trabalha com o Cloud volumes Services?</block>
  <block id="2d0bdf474b915de478abc990596c76bd" category="paragraph">Sim, o Trident é compatível com o serviço Azure NetApp Files no Azure e com o Cloud Volumes Service no GCP.</block>
  <block id="adb6af04aac45867d68bb2c3bc1e7b0d" category="section-title">O NetApp oferece suporte ao Trident?</block>
  <block id="2dcb58c8d0e9bfa26fd8a13a709eed09" category="paragraph">Embora o Trident seja de código aberto e fornecido gratuitamente, o NetApp o suporta totalmente desde que o back-end do NetApp seja suportado.</block>
  <block id="42bfc6e3acd67192d42135138102a1de" category="inline-link">Trident GitHub</block>
  <block id="c2146fea25aea76bae1b5853f60a2f87" category="paragraph">Crie um problema<block ref="47273b71915582ec6db59ad21099cfb9" category="inline-link-rx"></block> e mencione *RFE* no assunto e na descrição do problema.</block>
  <block id="f976373ae689e994b60c082fe0210016" category="paragraph">Crie um problema no<block ref="47273b71915582ec6db59ad21099cfb9" category="inline-link-rx"></block>. Certifique-se de incluir todas as informações e logs necessários relativos ao problema.</block>
  <block id="e3c42f7edef4d44b3a12f0876d080b65" category="section-title">O que acontece se eu tiver uma pergunta rápida sobre o Trident que eu preciso de esclarecimentos? Existe uma comunidade ou um fórum?</block>
  <block id="5249e7d2220ef48adc4e11f3ae5e102a" category="paragraph">Se você tiver dúvidas, problemas ou solicitações, entre em Contato conosco através do nosso Trident <block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>ou GitHub.</block>
  <block id="85fb3cc3c008776a14e8adea3419b79d" category="section-title">A senha do meu sistema de armazenamento mudou e o Trident não funciona mais. Como faço para recuperar?</block>
  <block id="590f1c54e9cee50de3f69ae3604e432e" category="section-title">O Trident não consegue encontrar meu nó Kubernetes. Como faço para corrigir isso?</block>
  <block id="b114148f5ef97af6ffb82c1edfaa1775" category="paragraph">Há dois cenários prováveis pelos quais o Trident não consegue encontrar um nó do Kubernetes. Pode ser devido a um problema de rede no Kubernetes ou a um problema de DNS. O daemonset do nó do Trident que é executado em cada nó do Kubernetes deve ser capaz de se comunicar com o controlador Trident para Registrar o nó no Trident. Se as alterações de rede ocorreram após a instalação do Trident, você encontrará esse problema apenas com novos nós do Kubernetes adicionados ao cluster.</block>
  <block id="c2147118d3a3e64452475171765d47d0" category="section-title">Atualize o Trident</block>
  <block id="aa11aafa4155b6c4a3e62b5b9c8abc7b" category="paragraph">O NetApp suporta a atualização do Trident de uma versão principal para a próxima versão principal imediata. Você pode atualizar da versão 18.xx para 19.xx, 19.xx para 20.xx, e assim por diante. Você deve testar a atualização em um laboratório antes da implantação da produção.</block>
  <block id="e651aace307e5b2d6047fa19dd9ebc49" category="inline-link-macro">Desinstale o Trident</block>
  <block id="c8d8623e1862e33460131e0b358e25c4" category="paragraph">Se você precisar de uma correção para bugs observados após uma atualização, problemas de dependência ou uma atualização mal sucedida ou incompleta, você deve <block ref="e618ba4d3d6ecf34e3de22934d88cfd8" category="inline-link-macro-rx"></block>reinstalar a versão anterior usando as instruções específicas para essa versão. Esta é a única maneira recomendada de fazer o downgrade para uma versão anterior.</block>
  <block id="bdee9022b73039d7d36eb214d473b6a5" category="list-text">ONTAP SAN: Não especifique para iSCSI. O Trident usa <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> para descobrir os LIFs iSCI necessários para estabelecer uma sessão de vários caminhos. Um aviso é gerado se<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> for definido explicitamente. <block ref="823b6e1f172888081aece7b5cdeb0e03" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="931fb9ef9e2f0b2e60b412c93e32bdb2" category="section-title">O Trident pode configurar o CHAP para backends ONTAP?</block>
  <block id="6a7447005192022403df540c4a76b8df" category="paragraph">Sim. Trident suporta CHAP bidirecional para backends ONTAP. Isso requer configuração<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block> em sua configuração de back-end.</block>
  <block id="e04360e9c1c0a231ee50fb6bc2440ab0" category="section-title">Como faço para gerenciar políticas de exportação com o Trident?</block>
  <block id="0f719cc4fb105f34258976d892e8bfe9" category="paragraph">O Trident pode criar e gerenciar dinamicamente políticas de exportação a partir da versão 20,04 em diante. Isso permite que o administrador de storage forneça um ou mais blocos CIDR em sua configuração de back-end e que o Trident adicione IPs de nós que se enquadram nesses intervalos a uma política de exportação criada por ele. Desta forma, o Trident gerencia automaticamente a adição e exclusão de regras para nós com IPs dentro dos CIDR fornecidos.</block>
  <block id="d9e938c59af9d6ebf3b10c2ba625470e" category="paragraph">O Trident suporta a definição de endereços IPv6 para:</block>
  <block id="c92ee98f27fea35d4b40d8e58cff3e23" category="paragraph">O Trident deve ser instalado usando o<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> sinalizador (<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>para instalação),<block ref="fdb7cb8f657426e7c409bfd6d1a36ce4" prefix=" " category="inline-code"></block> (para o operador Trident) ou<block ref="b63589bf34442180f04a6b46488afa6d" prefix=" " category="inline-code"></block> (para instalação Helm) para que ele funcione acima de IPv6.</block>
  <block id="b0ebe39ab16d0aea1148ebc2abc3e6d7" category="section-title">Posso criar vários backends no Trident para Kubernetes?</block>
  <block id="9d813dd9dc4f8a97f4735e4e7780283c" category="paragraph">O Trident pode suportar muitos backends simultaneamente, seja com o mesmo driver ou drivers diferentes.</block>
  <block id="dc7c8edffb370f5f952a2787e0381ad6" category="section-title">Como o Trident armazena credenciais de back-end?</block>
  <block id="3b5102f815723b1b94a1969ac254470a" category="paragraph">O Trident armazena as credenciais de back-end como segredos do Kubernetes.</block>
  <block id="c68b08bc6f1bd9bc3f8b4d3e4e81ca78" category="section-title">Como o Trident seleciona um back-end específico?</block>
  <block id="1facd0eb6221a85a854aa93123529773" category="section-title">Como posso garantir que o Trident não provisionará de um back-end específico?</block>
  <block id="8fd7e30f04618e679c684df3dd0bebeb" category="paragraph">O<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block> parâmetro é usado para filtrar o conjunto de pools que o Trident usa para provisionar e removerá todos os pools correspondentes.</block>
  <block id="64eb982f45f5cfa602f8a3e7d69f000d" category="section-title">Se houver vários backends do mesmo tipo, como o Trident seleciona qual backend usar?</block>
  <block id="c5864ef434aa44689b2af37a1e9af5c7" category="paragraph">Se houver vários backends configurados do mesmo tipo, o Trident selecionará o back-end apropriado com base nos parâmetros presentes no<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> e<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>no . Por exemplo, se houver vários backends de driver do ONTAP-nas, o Trident tentará corresponder parâmetros<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> no e<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> combinou e corresponder a um back-end que possa fornecer os requisitos listados em<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> e<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>. Se houver vários backends que correspondam à solicitação, o Trident seleciona um deles aleatoriamente.</block>
  <block id="d458942a0a2872de7232f879c70d5c72" category="section-title">O Trident suporta CHAP bidirecional com Element/SolidFire?</block>
  <block id="c92811de6c03f5ad483962308676ecf1" category="section-title">Como o Trident implementa Qtrees em um volume ONTAP? Quantos Qtrees podem ser implantados em um único volume?</block>
  <block id="e516c194a6ef04e00986e6105285f3a6" category="paragraph">Você pode definir permissões Unix no volume provisionado pelo Trident definindo um parâmetro no arquivo de definição de back-end.</block>
  <block id="389f296dbf77d0f86dfe8a06d526c127" category="paragraph">Por padrão, o Trident não define as opções de montagem como nenhum valor com o Kubernetes. Para especificar as opções de montagem na classe de armazenamento do Kubernetes, siga o exemplo fornecido <block ref="29e04d8356a523f6fc836193630ad63e" category="inline-link-macro-rx"></block>.</block>
  <block id="99c8f2d04c19fdc0a232b7482cfee080" category="section-title">Como faço para definir a criptografia de volume por meio do Trident com o ONTAP?</block>
  <block id="73b2a012b43089e1665c476788027e1c" category="inline-link-macro">Como o Trident funciona com NVE e NAE</block>
  <block id="cbf898bcb5d9e5595fd3bc81ec6e29ad" category="paragraph">Você pode definir a criptografia no volume provisionado pelo Trident usando o parâmetro de criptografia no arquivo de definição de back-end. Para obter mais informações, consulte: <block ref="419c27d13476c7b2e51e83cf6c88459f" category="inline-link-macro-rx"></block></block>
  <block id="ec2427ac714a740c73f10dfde2363075" category="section-title">Qual é a melhor maneira de implementar QoS para ONTAP por meio do Trident?</block>
  <block id="540b44f12eb5cca80bd7e9128aeede6c" category="section-title">Como especificar o provisionamento thin ou thick por meio do Trident?</block>
  <block id="37a1da11b0f4b3ebef0df195d2fbccd5" category="section-title">Posso expandir PVCs de NFS criados pela Trident?</block>
  <block id="e99a58cb2fd51c2db5c9598c04a5f53c" category="paragraph">Sim. Você pode expandir um PVC que foi criado pelo Trident. Observe que o volume com crescimento automático é um recurso do ONTAP que não é aplicável ao Trident.</block>
  <block id="c15d8f156ba84321c880b1bbe78dc0c7" category="paragraph">A cota de recursos de armazenamento do Kubernetes deve funcionar enquanto o armazenamento do NetApp tiver capacidade. Quando o storage do NetApp não consegue honrar as configurações de cota do Kubernetes devido à falta de capacidade, o Trident tenta provisionar, mas faz erros.</block>
  <block id="08ec89166861e10bdf4e2bf3bcb7a150" category="section-title">Posso criar instantâneos de volume usando o Trident?</block>
  <block id="64f5059234f21b014e1c442be4f03052" category="paragraph">Sim. A criação de snapshots de volume sob demanda e volumes persistentes a partir de snapshots é compatível com o Trident. Para criar PVS a partir de instantâneos, certifique-se de que a<block ref="e7b29a25284a6f582881023fdc0cbe93" prefix=" " category="inline-code"></block> porta de recurso foi ativada.</block>
  <block id="669e09edc60383401e0adf3ce0cefcf3" category="section-title">Quais são os drivers compatíveis com snapshots de volume Trident?</block>
  <block id="54b8b99690e4f103a6d2f9967cadcd72" category="section-title">Como faço para fazer um backup instantâneo de um volume provisionado pelo Trident com o ONTAP?</block>
  <block id="3d68d8607ffd54f10e7dd693bb2b8a16" category="section-title">Posso definir uma porcentagem de reserva de snapshot para um volume provisionado por meio do Trident?</block>
  <block id="423b8287d49f26ac095593b58d3d9e69" category="paragraph">Sim, você pode reservar uma porcentagem específica de espaço em disco para armazenar as cópias snapshot através do Trident definindo o<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> atributo no arquivo de definição do back-end. Se você configurou<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> e<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> no arquivo de definição de back-end, a porcentagem de reserva de snapshot é definida de acordo com a<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> porcentagem mencionada no arquivo de back-end. Se o<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> número percentual não for mencionado, ONTAP por padrão leva a porcentagem de reserva de snapshot como 5. Se a<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> opção estiver definida como None (nenhum), a percentagem de reserva de instantâneos é definida como 0.</block>
  <block id="4bfa28359ad130e5906ee7d785f1b314" category="section-title">Posso configurar o SnapMirror para volumes através do Trident?</block>
  <block id="567994f58882dceaeab9400ad2bdf7e2" category="paragraph">O NetApp fornece suporte para Trident de várias maneiras. Amplas opções gratuitas de suporte autônomo estão disponíveis 24 horas por dia, 7 dias por semana, como artigos da base de conhecimento (KB) e um canal discord.</block>
  <block id="925ebc19538c47a22c7fcbf3d4f16838" category="paragraph">O Trident oferece três níveis de suporte com base na sua versão. <block ref="1b35655e5fe9e8bdc0fd2a18d7e5a06c" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="bcf42b210ffb66f788559ec05bd3978c" category="list-text">O Trident fornece suporte completo por doze meses a partir da data de lançamento.</block>
  <block id="c4672ccc07d08b01842ba7bff5ab9012" category="list-text">O Trident fornece suporte limitado durante os meses de 13 a 24 a partir da data de lançamento.</block>
  <block id="c6fc0d89ce850093b5d2e987955ba870" category="list-text">A documentação do Trident está disponível para os meses 25 - 36 a partir da data de lançamento.</block>
  <block id="e9c4cf1c3d2fd7e6c0a13bfe44d8e785" category="inline-link-macro">24,10</block>
  <block id="17ab7ccda1012696aabc01e478bd7612" category="cell">Outubro de 2027</block>
  <block id="1e441e2a6ea2842643d9b8f88e32aebf" category="paragraph"><block ref="1e441e2a6ea2842643d9b8f88e32aebf" category="inline-link-macro-rx"></block></block>
  <block id="d2196853cebe173567df4b864e4816f7" category="paragraph"><block ref="d2196853cebe173567df4b864e4816f7" category="inline-link-macro-rx"></block></block>
  <block id="62c93f738b926db77daa59d585fbfa48" category="paragraph">Para obter uma lista abrangente de artigos de solução de problemas,<block ref="57f5c759ada931c6a2051314ca6ee99e" category="inline-link-rx"></block> consulte .</block>
  <block id="9cc21385e3a5bbf0e140948125e39e4c" category="paragraph">Há uma vibrante comunidade pública de usuários de contentores (incluindo desenvolvedores do Trident) no <block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>nosso . Este é um ótimo lugar para fazer perguntas gerais sobre o projeto e discutir tópicos relacionados com colegas de mentalidade semelhante.</block>
  <block id="b27fcb3adc5d56564559e3f24a9659c8" category="paragraph">Para obter ajuda com o Trident, crie um pacote de suporte usando<block ref="1d41e2024c69110ad6054ffc785ca8e0" prefix=" " category="inline-code"></block> e envie-o para<block ref="da34ca64df3f236a423516102d4096c2" prefix=" " category="inline-code"></block>o .</block>
  <block id="40d95260a6bcacc40a23df4576b97ec8" category="inline-link-macro">Trident blogs</block>
  <block id="e476cbfc1ce1aee033e17376d6942cf3" category="paragraph">Você pode revisar os direitos autorais e as licenças de terceiros usados no software NetApp para Trident no arquivo de avisos para cada versão em<block ref="4a3c8c5a408c6db1c44c04391a8a0a2f" category="inline-link-rx"></block>.</block>
  <block id="52eb48d8202a6d184f86997bcbd937cf" category="summary">O provisionamento no Trident tem duas fases principais. A primeira fase associa uma classe de armazenamento ao conjunto de conjuntos de armazenamento de back-end adequados e ocorre como uma preparação necessária antes do provisionamento. A segunda fase inclui a própria criação de volume e requer a escolha de um pool de armazenamento daqueles associados à classe de armazenamento do volume pendente.</block>
  <block id="90bec6679868d1d43c3f2f5d9905165f" category="paragraph">A associação de pools de storage de back-end a uma classe de armazenamento depende dos atributos solicitados da classe de armazenamento e<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> das listas ,<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> e<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block> . Quando você cria uma classe de storage, o Trident compara os atributos e pools oferecidos por cada um de seus back-ends aos solicitados pela classe de storage. Se os atributos e o nome de um pool de armazenamento corresponderem a todos os atributos e nomes de pool solicitados, o Trident adicionará esse pool de armazenamento ao conjunto de pools de armazenamento adequados para essa classe de armazenamento. Além disso, o Trident adiciona todos os pools de storage listados na<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> lista a esse conjunto, mesmo que seus atributos não preencham todos ou nenhum dos atributos solicitados da classe de armazenamento. Você deve usar a<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block> lista para substituir e remover pools de armazenamento de uso para uma classe de armazenamento. O Trident executa um processo semelhante toda vez que você adiciona um novo back-end, verificando se seus pools de armazenamento atendem aos das classes de armazenamento existentes e removendo quaisquer que tenham sido marcados como excluídos.</block>
  <block id="252902d6f7f664b44722075296d3ce49" category="paragraph">Em seguida, o Trident usa as associações entre classes de armazenamento e pools de armazenamento para determinar onde provisionar volumes. Quando você cria um volume, o Trident primeiro obtém o conjunto de pools de armazenamento para a classe de armazenamento desse volume e, se você especificar um protocolo para o volume, o Trident removerá esses pools de armazenamento que não podem fornecer o protocolo solicitado (por exemplo, um back-end do NetApp HCI/SolidFire não pode fornecer um volume baseado em arquivo enquanto um back-end do ONTAP nas não pode fornecer um volume baseado em bloco). O Trident aleatoriza a ordem desse conjunto resultante, para facilitar uma distribuição uniforme de volumes e, em seguida, iterar através dele, tentando provisionar o volume em cada pool de armazenamento por sua vez. Se for bem-sucedido em um, ele retorna com sucesso, registrando quaisquer falhas encontradas no processo. O Trident retorna uma falha *somente se* falhar em provisionar em *todos* os pools de armazenamento disponíveis para a classe de armazenamento e protocolo solicitados.</block>
  <block id="6cba37a64b3872e40e12212479ca8ece" category="summary">Saiba mais sobre como o Trident lida com a criação de snapshots de volume para seus drivers.</block>
  <block id="e5200dca1b3eb1315befdc6f874d5143" category="list-text">Ao trabalhar com<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> os drivers e<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, os snapshots do ONTAP são cópias pontuais do FlexVol e consomem espaço no próprio FlexVol. Isso pode resultar na quantidade de espaço gravável no volume para reduzir com o tempo, à medida que os snapshots são criados/programados. Uma maneira simples de lidar com isso é aumentar o volume redimensionando pelo Kubernetes. Outra opção é excluir snapshots que não são mais necessários. Quando um VolumeSnapshot criado pelo Kubernetes é excluído, o Trident excluirá o snapshot do ONTAP associado. Os snapshots do ONTAP que não foram criados pelo Kubernetes também podem ser excluídos.</block>
  <block id="9f049d4909391d7f977c1fc9b8c6db8f" category="paragraph">Com o Trident, você pode usar o VolumeSnapshots para criar novos PVS a partir deles. A criação de PVS a partir desses snapshots é realizada usando a tecnologia FlexClone para backends ONTAP e CVS compatíveis. Ao criar um PV a partir de um instantâneo, o volume de apoio é um FlexClone do volume pai do instantâneo. O<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver usa clones de volume do software Element para criar PVS a partir de snapshots. Aqui ele cria um clone a partir do snapshot do elemento.</block>
  <block id="962da67bee9575fc006f5d69c948f63a" category="summary">Os pools virtuais fornecem uma camada de abstração entre os backends de armazenamento do Trident e os StorageClasses do Kubernetes. Eles permitem que um administrador defina aspectos, como localização, desempenho e proteção para cada back-end de uma maneira comum e independente de back-end, sem fazer com que o StorageClass especifique qual back-end físico, pool de back-end ou tipo de back-end usar para atender aos critérios desejados.</block>
  <block id="6dc68c3b2f9d6c276fc86090da3220f5" category="paragraph">Os pools virtuais fornecem uma camada de abstração entre os backends de storage do Trident e o Kubernetes<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>. Eles permitem que um administrador defina aspetos, como localização, desempenho e proteção para cada back-end de uma maneira comum e independente de back-end, sem<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> especificar qual backend físico, pool de back-end ou tipo de back-end usar para atender aos critérios desejados.</block>
  <block id="63e606feac51f51c118b9ea9da3584dc" category="paragraph">O administrador de armazenamento pode definir pools virtuais em qualquer um dos backends do Trident em um arquivo de definição JSON ou YAML.</block>
  <block id="acd6bcd484ba971a72536c22c06f04e2" category="summary">Saiba mais sobre como o Trident usa grupos de acesso por volume.</block>
  <block id="6a460593bdfb0144320bef6fdd1b2472" category="paragraph">Saiba mais sobre como o Trident usa<block ref="783dd6ea9e0b09c84db9ccd072a61c55" category="inline-link-rx"></block>.</block>
  <block id="1ce858ea946af658f2db231318e1c74e" category="admonition">Ignore esta seção se você estiver usando CHAP, que é recomendado para simplificar o gerenciamento e evitar o limite de escala descrito abaixo. Além disso, se você estiver usando o Trident no modo CSI, você pode ignorar esta seção. O Trident usa o CHAP quando instalado como um provisionador de CSI aprimorado.</block>
  <block id="547d4fe433ab9ed2223dfe9c48379548" category="paragraph">O Trident pode usar grupos de acesso de volume para controlar o acesso aos volumes provisionados. Se o CHAP estiver desativado, ele espera encontrar um grupo de acesso chamado<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>, a menos que você especifique um ou mais IDs de grupo de acesso na configuração.</block>
  <block id="33a94edb76f0383c1d244a8698373b50" category="paragraph">Embora o Trident associe novos volumes aos grupos de acesso configurados, ele não cria nem gerencia os próprios grupos de acesso. Os grupos de acesso devem existir antes que o back-end de storage seja adicionado ao Trident e precisam conter as IQNs iSCSI de todos os nós do cluster do Kubernetes que poderiam potencialmente montar os volumes provisionados por esse back-end. Na maioria das instalações, isso inclui cada nó de trabalho no cluster.</block>
  <block id="6049f954e4284100050b26e9f3fb772e" category="list-text">Se você estiver executando o Trident usando o método recomendado de plug-in gerenciado (ou seja, usando<block ref="fb3421df1496105acc8a14808359550b" prefix=" " category="inline-code"></block> comandos), visualize-os da seguinte forma:</block>
  <block id="e391df7d288176b307da8db0c4d91ae5" category="summary">O Trident para Docker oferece integração direta com o ecossistema Docker para plataformas de storage NetApp. Ele dá suporte ao provisionamento e gerenciamento de recursos de storage da plataforma de storage para hosts Docker, com uma estrutura para adicionar plataformas adicionais no futuro.</block>
  <block id="e0a3531ef314a005745a9fea19b5ba09" category="doc">Implante o Trident</block>
  <block id="70f45f0faadd8edb223d0fdeb6668679" category="paragraph">Várias instâncias do Trident podem ser executadas simultaneamente no mesmo host. Isso permite conexões simultâneas a vários sistemas de armazenamento e tipos de armazenamento, com a capacidade de personalizar o armazenamento usado para os volumes Docker.</block>
  <block id="7da919c969cc2b18d98105fe90684df8" category="paragraph">Consulte <block ref="18d5551396fb2ce2e009cfdb709e4875" category="inline-link-macro-rx"></block>. Depois de garantir que os pré-requisitos sejam atendidos, você estará pronto para implantar o Trident.</block>
  <block id="58391bc76e8c1c5635a11134b3e4083d" category="admonition">Se você usou o Trident pré Docker 1,13/17,03 no método daemon tradicional, certifique-se de parar o processo Trident e reiniciar o seu daemon Docker antes de usar o método do plugin gerenciado.</block>
  <block id="8554af307cedea04e0e39362f35175f4" category="list-text">Inicie o Trident usando o sistema de plug-in gerenciado. Substitua<block ref="3d689bd3819ead35ed794427bd12f459" prefix=" " category="inline-code"></block> pela versão do plugin (xxx.xx.x) que você está usando.</block>
  <block id="8020e7c6d37db1ac7100b3b117f46cfd" category="list-text">Comece a usar o Trident para consumir storage do sistema configurado.</block>
  <block id="b48e6203239c93859800f96924a39ed7" category="section-title">Inicie o Trident na inicialização do sistema</block>
  <block id="a5a6bc232526faaa8ab11bd5f46a069c" category="summary">Encontre informações sobre problemas conhecidos ao usar o Trident com o Docker.</block>
  <block id="44110fddc560d626db733ac60924ea7c" category="paragraph">Encontre informações sobre problemas e limitações conhecidos ao usar o Trident com Docker.</block>
  <block id="442b5623691118072cf6342e3614f21a" category="section-title">O Docker Swarm tem certos comportamentos que impedem o Trident de suportá-lo com cada combinação de armazenamento e driver.</block>
  <block id="738890a616b36648aef3afc3dbd99a29" category="list-text">Plugins de volume (incluindo Trident) devem ser executados independentemente em cada nó em um cluster Swarm. Devido à forma como o ONTAP funciona e como os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> funcionam, eles são os únicos que podem operar dentro dessas limitações.</block>
  <block id="8e846679c3471e522caeeaf12adf2232" category="summary">Várias instâncias do Trident são necessárias quando você deseja ter várias configurações de storage disponíveis simultaneamente. A chave para várias instâncias é dar nomes diferentes usando a opção --alias com o plug-in em contentor, ou --volume-driver ao instanciar o Trident no host.</block>
  <block id="2af81ac5264569558ae512fd78aaeb99" category="doc">Gerenciar várias instâncias do Trident</block>
  <block id="6d9d4f707717522af7673ba035a40845" category="summary">Você precisa instalar e configurar os pré-requisitos de protocolo necessários no seu host antes de implantar o Trident.</block>
  <block id="ab2ce125ebcf04e3858934dafe06462f" category="summary">Consulte as opções de configuração disponíveis para as configurações do Trident.</block>
  <block id="048751d5dafc60f01ac58c7abebe0fb4" category="paragraph">Essas opções de configuração se aplicam a todas as configurações do Trident, independentemente da plataforma de storage usada.</block>
  <block id="24794cfca66d1eed7c8defc480365bf0" category="paragraph">Agregado para provisionamento (opcional; se definido, deve ser atribuído ao SVM). Para<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> o driver, essa opção é ignorada. Todos os agregados atribuídos ao SVM são usados para provisionar um volume FlexGroup.</block>
  <block id="5cbbc03b20d402cc5f3688219dc927db" category="paragraph">O Trident cria e gerencia por nó<block ref="58f3779afe9da9ffdc085dc3064306f7" prefix=" " category="inline-code"></block><block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix=" " category="inline-code"></block> como .</block>
  <block id="98c76e4bb2a33d9fd5985c31833d545b" category="paragraph">Se NAE estiver ativado no back-end, qualquer volume provisionado no Trident será NAE habilitado.</block>
  <block id="dd7e96ca2da30b4de0cef5d5d0d67883" category="paragraph">Para obter mais informações, consulte: <block ref="5113a2fb1642ecd23870711ba25c4ad7" category="inline-link-macro-rx"></block>.</block>
  <block id="775acc7033e41c0ec1b40c64643c6339" category="paragraph">Opção nas para acesso ao<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> diretório.</block>
  <block id="9baf39c0a00f0d9f174a9671e5cefbab" category="paragraph">"Verdadeiro" para NFSv4 "falso" para NFSv3</block>
  <block id="e1232df03027aec38979e9ee0c9b350c" category="paragraph">Escolha o<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> driver para aumentar o paralelismo para um único volume que pode crescer para o intervalo de petabytes com bilhões de arquivos. Alguns casos de uso ideais para FlexGroups incluem IA/ML/DL, big data e análise, compilações de software, streaming, repositórios de arquivos e assim por diante. O Trident usa todos os agregados atribuídos a uma SVM ao provisionar um volume FlexGroup. O suporte do FlexGroup no Trident também tem as seguintes considerações:</block>
  <block id="90bce6b2a4ca618777f172f6d51e69f1" category="list-text">A clonagem não é compatível com volumes FlexGroup.</block>
  <block id="971d29a2392e004ddd4263282b307e0c" category="inline-link">Guia de práticas recomendadas e implementação do volume NetApp FlexGroup</block>
  <block id="1534742dd977c66a11d77eb23f10a5ab" category="section-title">Função ONTAP personalizada para Trident</block>
  <block id="c1781ac6bfd240f903c26ce4164a5d30" category="paragraph">Você pode criar uma função de cluster do ONTAP com Privileges mínimo para que você não precise usar a função de administrador do ONTAP para executar operações no Trident. Quando você inclui o nome de usuário em uma configuração de back-end do Trident, o Trident usa a função de cluster do ONTAP criada para executar as operações.</block>
  <block id="6f3cfcc010b2a22b26b8059d261fac87" category="inline-link-macro">Gerador de função personalizada Trident</block>
  <block id="c466d2f2e197b9c922cb025297903d0c" category="paragraph"><block ref="4eb6d8d47ddb4f7930e07a2c9166ea85" category="inline-link-macro-rx"></block>Consulte para obter mais informações sobre como criar funções personalizadas do Trident.</block>
  <block id="e2862bb379be91d6c367e3ce170d88f7" category="open-title">Usando a CLI do ONTAP</block>
  <block id="13b3544c4f5df79cbf834a2ae8ec0d87" category="list-text">Crie uma nova função usando o seguinte comando:</block>
  <block id="2c7e6d2877f857f126c24c7742e84098" category="paragraph"><block ref="c33f6523b710a03a2fd5d3e78562afa6" prefix="" category="inline-code"></block></block>
  <block id="baf63376850e35e5b35be659d0ef2894" category="list-text">Crie um nome de usuário para o usuário do Trident:</block>
  <block id="1af6536f50b7c77854633155c6ae923a" category="paragraph"><block ref="496d78c32dd2b2752181d6346f8b0aeb" prefix="" category="inline-code"></block></block>
  <block id="dfeb1cb6cf625159ce3e04d467f8ec3f" category="list-text">Mapeie a função para o usuário:</block>
  <block id="80812a5ac42a9862b7d20ef498a269ce" category="paragraph"><block ref="5eb0d996baab37017dab0c8a2a171589" prefix="" category="inline-code"></block></block>
  <block id="3ceac40325b3a50cc62cce2df9efb8ae" category="open-title">Usando o System Manager</block>
  <block id="b36ba0290d144b7b7cf516c0b9f70063" category="paragraph">Execute as seguintes etapas no Gerenciador do sistema do ONTAP:</block>
  <block id="88ec54a18605240b35f6b1c72d27ffb6" category="list-text">*Crie uma função personalizada*:</block>
  <block id="70af366c70c2f42b90ebe57600895fa4" category="list-text">Para criar uma função personalizada no nível do cluster, selecione *Cluster &gt; Settings*.</block>
  <block id="c981775dff9d5b385dd83a577d5a47b5" category="paragraph">(Ou) para criar uma função personalizada no nível SVM, selecione *Storage &gt; Storage VMs &gt;<block ref="6913fa50f9906263ba0aa9cbfc60f855" prefix=" " category="inline-code"></block> Settings &gt; Users and Roles*.</block>
  <block id="0d47f26dcf60e81c5a6649ae4ded4563" category="list-text">Selecione o ícone de seta (*-&gt;*) ao lado de *usuários e funções*.</block>
  <block id="abf2a7962f2af308e67cf04c04d67351" category="list-text">Selecione * Adicionar * em *funções*.</block>
  <block id="0607c670bf97cc18aea662bb4a8b1897" category="list-text">Defina as regras para a função e clique em *Salvar*.</block>
  <block id="8c112f6dd4899ec2bde450ad96ea3854" category="list-text">*Mapeie a função para o usuário do Trident*: Execute as seguintes etapas na página *usuários e funções*:</block>
  <block id="a0d362400ef1998e3199f1a2a4e851a0" category="list-text">Selecione Adicionar ícone ** em *usuários*.</block>
  <block id="d81179b522f733916296275ca934cec0" category="list-text">Selecione o nome de usuário desejado e selecione uma função no menu suspenso para *função*.</block>
  <block id="4cc186df234138a57b2e8c5d8e5f7f8d" category="list-text">Clique em *Salvar*.</block>
  <block id="63a7ae2ee855741b03454ffca32a6548" category="paragraph">Consulte as páginas a seguir para obter mais informações:</block>
  <block id="5f20deacb4e1a680e1507ac2f9038f3d" category="inline-link-macro">Funções personalizadas para administração do ONTAP</block>
  <block id="5f318245652e5c97dfa5340e400f38d4" category="inline-link-macro">Definir funções personalizadas</block>
  <block id="6bfa5cadeded7f55ece7a366fff5008f" category="list-text"><block ref="612b00166c7c7ac093e9d589e794c9ab" category="inline-link-macro-rx"></block> ou <block ref="42415b53f4c69ae3cfdecaffa64f1802" category="inline-link-macro-rx"></block></block>
  <block id="61d21be565a36251bbca59c0ffb7571d" category="inline-link-macro">Trabalhe com funções e usuários</block>
  <block id="c92674673011f8a8c6fc62a43d907f3c" category="list-text"><block ref="c92674673011f8a8c6fc62a43d907f3c" category="inline-link-macro-rx"></block></block>
  <block id="a1dbba31317214ceff74a44fe41d31ee" category="summary">Você pode atualizar com segurança o Trident para Docker sem qualquer impactos nos volumes que estão em uso. Durante o processo de atualização, haverá um breve período em que<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block> os comandos direcionados para o plugin não serão bem-sucedidos, e os aplicativos não poderão montar volumes até que o plugin esteja sendo executado novamente. Na maioria das circunstâncias, esta é uma questão de segundos.</block>
  <block id="62171888e44548522bb83b960a55d872" category="paragraph">Execute as etapas abaixo para atualizar o Trident para Docker.</block>
  <block id="39ebc56f061889873fccc1784c6638f7" category="admonition">A versão 18,01 do Trident substitui o nDVP. Você deve atualizar diretamente da<block ref="86e913ca68bd85fc4edc0bd4588cdf55" prefix=" " category="inline-code"></block> imagem para a<block ref="c0324ebb59395a35956b35c5d0c7b285" prefix=" " category="inline-code"></block> imagem.</block>
  <block id="ee0630d22b9d452ae7bb9de29a466b86" category="admonition">Se você estiver atualizando de uma versão antiga do Trident (pré-20,10) para o Trident 20,10 ou posterior, você pode encontrar um erro. Para obter mais informações, <block ref="6d21ff1c2708107ac3f4ed1a6e27b449" category="inline-link-macro-rx"></block>consulte . Se você correr para o erro, você deve primeiro desativar o plugin, em seguida, remover o plugin e, em seguida, instalar a versão necessária do Trident passando um parâmetro de configuração extra:<block ref="5be09dfb82e46451bc4cc62d83a8dafe" prefix=" " category="inline-code"></block></block>
  <block id="b8b22011179e05bc575b579038285d28" category="paragraph">Execute as etapas abaixo para desinstalar o Trident para Docker.</block>
  <block id="265a503bda2fd70f2fd9a6cf2d876c27" category="paragraph">Se a reserva de snapshot não for especificada e a política de snapshot for<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>, o Trident usará uma reserva de snapshot de 0%.</block>
  <block id="e5dfa6bb65c32f9e92c36163229be455" category="summary">Para criar volumes, use os comandos padrão<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block> com o nome do driver Trident especificado quando necessário.</block>
  <block id="56143904c89c4a03d66e1cd15cc7d399" category="paragraph">Você pode criar, clonar e remover volumes facilmente usando os comandos padrão<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block> com o nome do driver Trident especificado quando necessário.</block>
  <block id="b09a5613f6e78efae1c0ac67f2289c08" category="list-text">Crie um volume com uma instância do Trident específica:</block>
  <block id="3fb1a139a17d8521fe406180d6d6fd59" category="paragraph">Ao usar o<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, ,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> e<block ref="a3e1af20cc594d726b1beb3d184dcf26" prefix=" " category="inline-code"></block>, o Trident pode clonar volumes. Ao usar os<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> drivers ou<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>, a clonagem não é suportada. Criar um novo volume a partir de um volume existente resultará na criação de um novo instantâneo.</block>
  <block id="97b3aeb8d6066d1decf96518ded15d8e" category="paragraph">Você pode acessar dispositivos de bloco criados externamente (ou seus clones) por contentores usando Trident *only* se eles não tiverem partições e se seu sistema de arquivos for suportado pelo Trident (por exemplo: Um<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>-formatado<block ref="1f986d7f0f42932dbaaf84475f63ea7a" prefix=" " category="inline-code"></block> não será acessível via Trident).</block>
  <block id="0cc9d438ad56fdbd4bbdfb24f3548660" category="summary">O Trident é executado como um único Pod de controlador e um Pod de nó em cada nó de trabalho no cluster. O pod de nó deve estar em execução em qualquer host onde você queira montar um volume Trident potencialmente.</block>
  <block id="aae2218cccc8db14384d3387594fe6ae" category="doc">Arquitetura da Trident</block>
  <block id="2544d3adb30a2378653ade7cf906c0aa" category="paragraph">O Trident é implantado como <block ref="7f05a5daccc48435b05c14a7b739fa36" category="inline-xref-macro-rx"></block>um único e um ou mais <block ref="8642ddce0d2b15cad48dfefb369d4c89" category="inline-xref-macro-rx"></block> no cluster do Kubernetes e usa contentores Sidecar padrão do Kubernetes para simplificar a implantação de plug-ins do CSI. <block ref="c1b69fa7e0376b667b144d553d4653a8" category="inline-link-macro-rx"></block> São mantidos pela comunidade do Kubernetes Storage.</block>
  <block id="b38acf7b48d99a3dc06e012c7b1c1f3e" category="paragraph">Kubernetes <block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block> e <block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block>são usados para restringir um pod a ser executado em um nó específico ou preferencial. Você pode configurar seletores de nós e tolerações para pods de nó e controlador durante a instalação do Trident.</block>
  <block id="4d0894b72f21c4fc0e41d094c2d50aed" category="image-title">A Trident implantou no cluster do Kubernetes</block>
  <block id="92ad11160b8482411ae1167ed34e2bc0" category="image-alt">Diagrama da arquitetura do Trident no cluster do Kubernetes.</block>
  <block id="190693c471c998e2d7706ff05c87d3c2" category="paragraph">O Trident é compatível com as seguintes arquiteturas do Kubernetes:</block>
  <block id="330103c2a0c87f0aa273d6c15590a575" category="summary">O Trident é um projeto de código aberto totalmente suportado mantido pela NetApp. Ele foi desenvolvido para ajudar você a atender às demandas de persistência da sua aplicação em contêineres usando interfaces padrão do setor, como a Container Storage Interface (CSI).</block>
  <block id="e61b32e0e629aff81f643458f823b962" category="doc">Saiba mais sobre o Trident</block>
  <block id="f94a579e5ec139027f8b7d0d24bcce36" category="paragraph">O Trident é um projeto de código aberto totalmente suportado mantido pela NetApp. Ele foi desenvolvido para ajudar você a atender às demandas de persistência da sua aplicação em contêineres usando interfaces padrão do setor, como a Container Storage Interface (CSI).</block>
  <block id="b8a9ce80261b5fb6cc4c2d2e1f0990ca" category="section-title">O que é o Trident?</block>
  <block id="b1779edf31deaecac634566a2a377f62" category="paragraph">O Trident é um orquestrador de storage dinâmico e em conformidade com a Container Storage Interface (CSI) que se integra nativamente ao <block ref="c4f47b2d4c7b6c009c3ed9bc1f952dce" category="inline-link-macro-rx"></block>. O Trident é executado como um único Pod de controlador e um Pod de nó em cada nó de trabalho no cluster. <block ref="9f6208219ae600271f6632db354451ed" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="d613d80a6fcacbbceeb665fc5b0846f0" category="inline-link-macro">Implante o Trident para Docker</block>
  <block id="5b6cbf8e3be454064a322ad7f9c47cc2" category="paragraph">O Trident também fornece integração direta com o ecossistema do Docker para plataformas de storage NetApp. O plug-in de volume do Docker do NetApp (nDVP) dá suporte ao provisionamento e gerenciamento de recursos de storage da plataforma de storage para hosts do Docker. <block ref="168e02b8c5756e29b56aa79aa4a1b715" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="ad82bf93e4b28ad012a8be09e30d3d59" category="paragraph">O Trident pode provisionar e gerenciar dispositivos de storage para aplicações em contêiner diretamente na plataforma de storage subjacente da NetApp HCI.</block>
  <block id="10f0fa4079121b371145e16713fdbb44" category="section-title">Trident</block>
  <block id="c14b72fed21fd4eafddae164ba8081d0" category="paragraph"><block ref="41274746a612585e32637b095dd7555b" category="inline-link-rx"></block> Facilita o gerenciamento, a proteção e a migração de workloads em contêineres com muitos dados executados no Kubernetes dentro e entre nuvens públicas e no local. O Trident provisiona e fornece storage de contêiner persistente usando o Trident do portfólio de storage da NetApp comprovado e expansivo, na nuvem pública e no local. Ele também oferece um conjunto avançado de recursos avançados de gerenciamento de dados com reconhecimento de aplicações, como snapshot, backup e restauração, logs de atividade e clonagem ativa para proteção de dados, recuperação de desastres/dados, auditoria de dados e casos de uso de migração para workloads Kubernetes.</block>
  <block id="8c33c0d65f9f2a648eb30a9703072383" category="doc">Início rápido para Trident</block>
  <block id="a555fee6c6587118e36d8dd135df1313" category="inline-link-macro">Requisitos da Trident</block>
  <block id="96a40ad4ad263d59437e326f22eaecdf" category="paragraph">Você pode instalar o Trident e começar a gerenciar recursos de storage em algumas etapas. Antes de começar, reveja <block ref="d5fb7f9fba906801b000d5533dc030cf" category="inline-link-macro-rx"></block>o .</block>
  <block id="f1bcf1c509e84f327a99d5510a722dec" category="inline-link-macro">Trident para Docker</block>
  <block id="5b5dc0344ff29ee1aeb0845b87692cf1" category="admonition">Para Docker, <block ref="f7120b9f314af1c9d82deae8957b54f3" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="9877a7ec0ff327ca21c8022d61c25f88" category="paragraph">O Trident oferece vários métodos e modos de instalação otimizados para uma variedade de ambientes e organizações.</block>
  <block id="b8b9eab8c1ed7b79387652490f5724ec" category="inline-link-macro">Instale o Trident</block>
  <block id="d94be11e75caa4db23a136d9b4cca4d9" category="paragraph"><block ref="d94be11e75caa4db23a136d9b4cca4d9" category="inline-link-macro-rx"></block></block>
  <block id="2e5120dd8211c4057a742a03b68ffe1a" category="paragraph">Um back-end define a relação entre o Trident e um sistema de storage. Ele informa à Trident como se comunicar com esse sistema de storage e como o Trident deve provisionar volumes a partir dele.</block>
  <block id="a5cdf497d98aa8d8e9bf311fe225a905" category="paragraph">O objeto Kubernetes StorageClass especifica o Trident como o provisionador e permite que você crie uma classe de storage para provisionar volumes com atributos personalizáveis. O Trident cria uma classe de storage correspondente para objetos Kubernetes que especificam o provisionador do Trident.</block>
  <block id="54f1c3c7de2748b6f3616d7b1186ade2" category="summary">Antes de instalar o Trident, você deve rever estes requisitos gerais do sistema. Backends específicos podem ter requisitos adicionais.</block>
  <block id="0fe713481395212a8eb358f4cb188c04" category="section-title">Informações críticas sobre o Trident</block>
  <block id="8e7cb3d16dbeb8a9289495de8b479d1f" category="paragraph">*Você deve ler as seguintes informações críticas sobre o Trident.*</block>
  <block id="04dc1d4246222d48d4348b40baef0aac" category="example-title">&lt;strong&gt; informações críticas sobre o Trident &lt;/strong&gt;</block>
  <block id="5e25fae885baef0275d27a764979b289" category="list-text">O Trident reforça estritamente o uso de configuração multipathing em ambientes SAN, com um valor recomendado de<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> no arquivo multipath.conf.</block>
  <block id="710f95d40d121f27f89b0faa6e178133" category="paragraph">O Trident é compatível com vários mecanismos de contêiner e orquestradores, incluindo os seguintes:</block>
  <block id="e42907190e2666646d57ade5c061e6e2" category="paragraph">O Trident também trabalha com uma série de outras ofertas do Kubernetes totalmente gerenciadas e autogeridas, incluindo o Google Kubernetes Engine (GKE), o Amazon Elastic Kubernetes Services (EKS), o</block>
  <block id="4cb56edacf6f40b0077e559878cb88a1" category="paragraph">O Trident e o ONTAP podem ser usados como um provedor de storage para <block ref="98ab68800979b414641691275d2b9c15" category="inline-link-macro-rx"></block>o .</block>
  <block id="90e5d592b7e0b2afb122e69c00372ddf" category="paragraph">Para usar o Trident, você precisa de um ou mais dos seguintes backends suportados:</block>
  <block id="6116c21c42b3138e811999de6433a0a6" category="paragraph">A tabela abaixo resume os recursos disponíveis com esta versão do Trident e as versões do Kubernetes compatíveis.</block>
  <block id="29fce9ae0f476afd36cf3ebf4de1d2a8" category="paragraph">Embora o Trident não suporte oficialmente sistemas operacionais específicos, sabe-se que os seguintes procedimentos funcionam:</block>
  <block id="779639a0216e7a8fd164ee8a7266d8b8" category="paragraph">Por padrão, o Trident é executado em um contentor e, portanto, será executado em qualquer trabalhador Linux. No entanto, esses funcionários precisam ser capazes de montar os volumes que o Trident fornece usando o cliente NFS padrão ou iniciador iSCSI, dependendo dos backends que você está usando.</block>
  <block id="ac65d911a6a42e3244db78a534db815a" category="paragraph">O Trident pode exigir alterações em um sistema de storage antes que uma configuração de back-end possa usá-lo.</block>
  <block id="8ff649e05d6e0ae0d638b05135917e8b" category="section-title">Portas Trident</block>
  <block id="31ae62dfe6cb254d32d0f67deda8d9ad" category="paragraph">O Trident requer acesso a portas específicas para comunicação.</block>
  <block id="2e442c7238666f1b73934ff5c2034b82" category="paragraph"><block ref="2e442c7238666f1b73934ff5c2034b82" category="inline-link-macro-rx"></block></block>
  <block id="ce8468ce4398f1403e56c8d07fbfbdff" category="paragraph">Para instalações com ar-gapped, a lista a seguir é uma referência das imagens de contentor necessárias para instalar o Trident. Use o<block ref="4ebf280824868255c952dc529072ecb9" prefix=" " category="inline-code"></block> comando para verificar a lista de imagens de contentor necessárias.</block>
  <block id="f5d19c8a8c2f8f69c432eeca877b5fcd" category="summary">Você pode usar o instalador do Trident para personalizar a implantação.</block>
  <block id="4b4c8bb835df197f723a52a388a1a4e0" category="paragraph">Você pode usar o instalador do Trident para personalizar a instalação.</block>
  <block id="e0ebb2a26a33f54574264738d90b4256" category="paragraph">O instalador do Trident permite personalizar atributos. Por exemplo, se você tiver copiado a imagem Trident para um repositório privado, poderá especificar o nome da imagem<block ref="00e6ff45e8bcc6b9e35e9c68d8d5135c" prefix=" " category="inline-code"></block> usando o . Se você copiou a imagem do Trident, bem como as imagens do sidecar do CSI necessárias para um repositório privado, pode ser preferível especificar a localização desse repositório usando o<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block> switch, que assume o formulário<block ref="c4c34dc2c7d5cb25c084ca11127ba1c6" prefix=" " category="inline-code"></block>.</block>
  <block id="85219bbc6090744b49cad804af63daaa" category="admonition">Ao instalar o Trident em um repositório privado, se você estiver usando o<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block> switch para especificar o local do repositório, não use<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block> no caminho do repositório. Por exemplo:<block ref="51e87a5a10277cd8b68fe2bfaab6b1e5" prefix=" " category="inline-code"></block></block>
  <block id="dafb04a56b5428b7efaff9062ddc586b" category="summary">O operador Trident permite personalizar a maneira como o Trident é instalado usando os atributos na<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> especificação.</block>
  <block id="0155e97c891593a2b846fc604a01426f" category="paragraph">O operador Trident permite personalizar a instalação do Trident usando os atributos na<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> especificação. Se você quiser personalizar a instalação além do que<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> os argumentos permitem, considere usar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para gerar manifestos YAML personalizados para modificar conforme necessário.</block>
  <block id="8d6d249f3e02155f1f4e28dec3f40a4f" category="paragraph">O Trident é executado como um único pod de controlador, além de um pod de nó em cada nó de trabalho no cluster. O pod de nó deve estar em execução em qualquer host onde você queira montar um volume Trident potencialmente.</block>
  <block id="d71d7e5009f5ee11ae970a342fff23ae" category="admonition"><block ref="b2c66bca748ffde67c7b6817cb8dd795" prefix="" category="inline-code"></block> É especificado em<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> para indicar o namespace onde o Trident está instalado. Este parâmetro *não pode ser atualizado após a instalação do Trident*. Tentar fazê-lo faz com que o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> status mude para<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>. O Trident não se destina a ser migrado entre namespaces.</block>
  <block id="0cf03ede150b823aae6ae068fa6ffb35" category="cell">Namespace para instalar o Trident em</block>
  <block id="6c6ebc33a5cbbe6942a0c9ec90d575a2" category="cell">Ativar depuração para Trident</block>
  <block id="609512f035fafafacc14b4f6f29bb70d" category="cell">Instale o Trident em IPv6</block>
  <block id="9e6197850998001239ecde260b512013" category="cell">Um sinalizador usado para desinstalar o Trident</block>
  <block id="26ed500280b8c0e427f21574b44203cc" category="cell">Formato de Registro Trident a ser usado [text,json]</block>
  <block id="f443d16ba56df1480ca415fae25eaaef" category="cell">Imagem Trident a instalar</block>
  <block id="26cb458bf42b8de61d4c66da519e7560" category="cell">Uma lista de recursos a serem excluídos para realizar uma remoção completa do Trident</block>
  <block id="2c82926c3266fa69b7a6b9b9bf2da929" category="cell"><block ref="e9a7558decb5e432d8b7c4d536cc9876" prefix="" category="inline-code"></block></block>
  <block id="17290457cf887fb0694111a08adc91e7" category="cell">Permite que o Trident prepare os nós do cluster do Kubernetes para gerenciar volumes usando o protocolo de storage de dados especificado. *Atualmente,<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block> é o único valor suportado.*</block>
  <block id="b90bdf58371477fc38f47c2f6d120df5" category="admonition">Como o Trident conta COM NGNS do Kubernetes, não remova<block ref="2ea3337d8d7fc43880e82df308aa0f16" prefix=" " category="inline-code"></block> as taints de um nó que não seja saudável até que todos os workloads não toleráveis sejam reprogramados. Aplicar ou remover a taint de forma imprudente pode comprometer a proteção de dados no back-end.</block>
  <block id="36d4895fba0608ac61adf67bca2ca709" category="paragraph">Quando o administrador do cluster do Kubernetes tiver aplicado a<block ref="7b58fe53e2e4b586e9605f1371e1ebf3" prefix=" " category="inline-code"></block> taint ao nó e<block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix=" " category="inline-code"></block> estiver definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o Trident determinará o status do nó e:</block>
  <block id="a753dc0e9b9a4864e2954c838d295341" category="list-text">Marque o objeto do nó Trident como<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block> (não é seguro para novas publicações).</block>
  <block id="d3f280add1ef01848e3068dbafeb2930" category="admonition">O controlador Trident rejeitará novas solicitações de volume de publicação até que o nó seja requalificado (depois de ter sido marcado como<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>) pelo pod de nó do Trident. Quaisquer cargas de trabalho agendadas com um PVC montado (mesmo depois que o nó do cluster estiver pronto e saudável) não serão aceitas até que o Trident possa verificar o nó<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block> (seguro para novas publicações).</block>
  <block id="94b5491434477bb572567175dae8789b" category="paragraph">Quando a integridade do nó é restaurada e a taint é removida, o Trident irá:</block>
  <block id="9b87d3b70754b676221dcbe27972c21e" category="list-text">Se o nó estiver em um<block ref="4304fb35c4cdfa886970499304f2aaba" prefix=" " category="inline-code"></block> estado (a tint fora de serviço foi removida e o nó está<block ref="e7d31fc0602fb2ede144d18cdffd816b" prefix=" " category="inline-code"></block> no estado) e todos os caminhos obsoletos e publicados estiverem limpos, o Trident reajustará o nó como<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block> e permitirá novos volumes publicados no nó.</block>
  <block id="0b566d8eeef773fb0a1874a0340c1bf1" category="paragraph">Este exemplo instala o Trident com seletores de nó.</block>
  <block id="f9c98839799a3d0d53b9fe671548369b" category="paragraph">Este exemplo instala o Trident para habilitar identidades gerenciadas em um cluster AKS.</block>
  <block id="134db50713debda2944acc2079f0cd32" category="paragraph">Este exemplo instala o Trident para uso com uma identidade de nuvem em um cluster AKS.</block>
  <block id="338531cfbc43156671176c4844d84c2e" category="example-title">Identidade de nuvem para GKE</block>
  <block id="dfee7b28d5bbb63372e0d49295ca91ff" category="summary">Você pode implantar o operador Trident e instalar o Trident usando o Helm. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Trident são armazenadas em um Registro privado.</block>
  <block id="eba73b570dfb3af8b46b60d34f2b27a9" category="paragraph">Você pode implantar o operador Trident e instalar o Trident usando o Helm. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Trident são armazenadas em um Registro privado. Se não tiver um registo de imagens privado, utilize o <block ref="2230544d14bc4ba0c61a5a1b2030a1d4" category="inline-link-macro-rx"></block>.</block>
  <block id="906e93a2060242b360786042d0f40c9f" category="section-title">Implante o operador Trident e instale o Trident usando o Helm</block>
  <block id="4d204b33a367deb7dbcb20395c917da2" category="admonition">Ao instalar o Trident em um repositório privado, se você estiver usando o<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block> switch para especificar o local do repositório, não use<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block> no caminho do repositório.</block>
  <block id="43eba64dcd06763432addbcf8db2d367" category="list-text">Adicione o repositório Helm do Trident:</block>
  <block id="4dd793a25a8706b6330293fdd8ba3cca" category="paragraph">Para adicionar o valor nodePrep, execute o seguinte comando:</block>
  <block id="a4b3e6e276b60f51832e92ee5e4c0d3c" category="admonition">Não remova a afinidade padrão do arquivo values.yaml. Quando você quiser fornecer uma afinidade personalizada, estenda a afinidade padrão.</block>
  <block id="13449393414b4d9d6fb5c0c42481c6bb" category="cell">Identifica o registo para as<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>,<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>e outras imagens. Deixe vazio para aceitar o padrão. IMPORTANTE: Ao instalar o Trident em um repositório privado, se você estiver usando<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block> o switch para especificar o local do repositório, não use<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block> no caminho do repositório.</block>
  <block id="2b5e815c8ff99f9eef6559d24c783ba7" category="cell">Permite ativar o Trident para funcionar em clusters IPv6.</block>
  <block id="31f08e89ef234f9ec501c003d82bd2b4" category="cell">Permite desativar relatórios periódicos AutoSupport do Trident.</block>
  <block id="1eb59d4f1034670c547353e700b9c45f" category="cell">Permite substituir a etiqueta da imagem para o contentor Trident AutoSupport.</block>
  <block id="1b8b03266c41458cf8c8b67fddf79f72" category="cell">Ativa o contentor Trident AutoSupport para telefonar para casa através de um proxy HTTP.</block>
  <block id="28b0bd49547c0889ddc764ec4af0404f" category="cell">Define o formato de registo Trident <block ref="1cb251ec0d568de6a929b520c4aed8d1" prefix="(" category="inline-code"></block>ou<block ref="466deec76ecdf5fca6d38571f6324d54" prefix=" " category="inline-code"></block> ).</block>
  <block id="025e09276aadc123e8e855a29fafc984" category="cell">Desativa o registador de auditoria Trident.</block>
  <block id="dca184d2a2b16c8fb797363408cbe703" category="cell">Permite que o nível de log do Trident seja definido como:<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>, ,<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>,<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block><block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block> , ,<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block><block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block> Ou .</block>
  <block id="14db3339a3d7e6dcb158ff8a75d75327" category="cell">Permite que o nível de log do Trident seja definido como<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>.</block>
  <block id="a17b61342a14dd24f10e7959b8c897e8" category="cell">Permite que fluxos de trabalho Trident específicos sejam ativados para registo de rastreio ou supressão de registos.</block>
  <block id="8a755d63b74fdfced1868a0b3e2d5162" category="cell">Permite que camadas Trident específicas sejam ativadas para registo de rastreio ou supressão de registos.</block>
  <block id="d31727faddcc7355e9e3bf46abdf8088" category="cell">Permite a substituição completa da imagem para o Trident.</block>
  <block id="275360255393ae93a5ae2ff80a7ee5b6" category="cell">Permite substituir a tag da imagem para Trident.</block>
  <block id="baee061ae15e488356d9c958fd837562" category="cell">Permite que o Trident seja instalado no nó de trabalho do Windows.</block>
  <block id="6d893452bf49a70aa18938a81935210f" category="summary">Você pode implantar o operador Trident e instalar o Trident usando o Helm. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Trident não são armazenadas em um Registro privado.</block>
  <block id="c4a180ac17652dd1cd170c28b376be9c" category="paragraph">Você pode implantar o operador Trident e instalar o Trident usando o Helm. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Trident não são armazenadas em um Registro privado. Se tiver um registo de imagens privado, utilize o <block ref="95202a095b590d767c9926fd1850fb68" category="inline-link-macro-rx"></block>.</block>
  <block id="7552178c666688de472839ddf4b0f4d0" category="cell">Defina como identidade da carga de trabalho ("azure.Workload.identity/client-id: xxxxxxxx-xxxx-xxxx-xxxxxxxxx") ao usar identidade da nuvem em um cluster AKS. Definido como função do AWS IAM ("'eks.amazonaws.com/role-arn: arn:aws:iam::123456:role/Trident-role'") ao usar a identidade da nuvem em um cluster do EKS.</block>
  <block id="a4ae088aa8dbc2e97f85135b007cce76" category="summary">Você pode implantar manualmente o operador Trident para instalar o Trident. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Trident são armazenadas em um Registro privado.</block>
  <block id="c54f3e7a1c4cb645b1fc4f0f7a583ac6" category="paragraph">Você pode implantar manualmente o operador Trident para instalar o Trident. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Trident são armazenadas em um Registro privado. Se não tiver um registo de imagens privado, utilize o <block ref="0d70fdec6fbaf15c3c460970c31207c9" category="inline-link-macro-rx"></block>.</block>
  <block id="7a14ead6cd595f6aff8b701879a9f990" category="paragraph">O pacote de instalação do Trident contém tudo o que você precisa para implantar o operador Trident e instalar o Trident. Baixe e extraia a versão mais recente do instalador do Trident a partir <block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>do .</block>
  <block id="fcd239294bb5f5ad3a84db6ce79fd5ee" category="paragraph">Crie a<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Definição de recurso personalizada (CRD). Você cria um<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> recurso personalizado mais tarde. Use a versão apropriada do CRD YAML em<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block> para criar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRD:</block>
  <block id="22471ed8a819a124f9ee9785680269ec" category="paragraph">O instalador do Trident fornece um arquivo de pacote que pode ser usado para instalar o operador e criar objetos associados. O arquivo bundle é uma maneira fácil de implantar o operador e instalar o Trident usando uma configuração padrão.</block>
  <block id="a0c08bc8d399eef3571153bb0ecb4a77" category="paragraph">Agora você pode criar e instalar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Trident. Opcionalmente, você pode usar ainda mais <block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block>os atributos na<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> especificação. O exemplo a seguir mostra uma instalação onde as imagens Trident e CSI estão localizadas em diferentes Registros.</block>
  <block id="e4f485171dcf600d2f0b0e8332394897" category="cell">O operador está a instalar o Trident utilizando este<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR.</block>
  <block id="55a64caca1122c8b2fd992a355c7750b" category="cell">O Trident foi instalado com sucesso.</block>
  <block id="cdef3688b4499bd3dbc552c9cf5defc3" category="cell">O operador está desinstalando o Trident, porque<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>.</block>
  <block id="e52593aaecb3b20362fa0081eea6a0f9" category="cell">O Trident é desinstalado.</block>
  <block id="36be8fe129110882a2ec7138f4e363dd" category="cell">O operador não pôde instalar, corrigir, atualizar ou desinstalar o Trident; o operador tentará recuperar automaticamente deste estado. Se este estado persistir, será necessário resolver o problema.</block>
  <block id="24947bdc3a3d6387b2550da2302d4470" category="paragraph">Você pode confirmar se a instalação do Trident foi concluída revisando o status dos pods criados:</block>
  <block id="85390ca1f1fb456c5467114ab06d3089" category="paragraph">Você pode usar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para verificar a versão do Trident instalada.</block>
  <block id="9be65bfc0904c8b8e06776335df88c52" category="summary">Você pode implantar manualmente o operador Trident para instalar o Trident. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Trident não são armazenadas em um Registro privado.</block>
  <block id="e09b85e9dd23a53724a460d162828e91" category="paragraph">Você pode implantar manualmente o operador Trident para instalar o Trident. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Trident não são armazenadas em um Registro privado. Se tiver um registo de imagens privado, utilize o <block ref="3fd9bb28718715a2d036f0ab9d9239b8" category="inline-link-macro-rx"></block>.</block>
  <block id="108ffd952d0eac9e6153a050e07ff8da" category="paragraph">Crie a<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Definição de recurso personalizada (CRD). Você cria um<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> recurso personalizado mais tarde. Use a versão apropriada do CRD YAML em<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block> para criar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRD.</block>
  <block id="c97e335d53c8d571c8e8f7464c884831" category="paragraph">Agora você pode criar e instalar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Trident. Opcionalmente, você pode <block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block> usar os atributos na<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> especificação.</block>
  <block id="7904a6dadeabd7b725caf08c750b3d2e" category="summary">Você pode instalar o Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o . Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Trident são armazenadas em um Registro privado ou não.</block>
  <block id="10ccc4c39e10c8cfa195e969ad74df78" category="paragraph">Você pode instalar o Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o . Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Trident são armazenadas em um Registro privado ou não. Para personalizar sua<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> implantação, <block ref="8e7a26c9800a78fa0b68fb2423ba3fb4" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="a44928a927e3a51b044bf23f54c5ecc1" category="section-title">Instale o Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="380dea89244939b33f7066f0dfbafa8b" category="paragraph">O pacote de instalação do Trident cria um pod Trident, configura os objetos CRD que são usados para manter seu estado e inicializa os sidecars CSI para executar ações como provisionar e anexar volumes aos hosts do cluster. Baixe e extraia a versão mais recente do instalador do Trident a partir <block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>do . Atualize _ cliente Trident-installer-XX.XX.X.tar.gz&gt;_ no exemplo com a versão Trident selecionada.</block>
  <block id="9937b0e906f4a701bfb0a7f52c8b7458" category="section-title">Passo 2: Instale o Trident</block>
  <block id="aab75b58977502d2c2813069d908ad61" category="paragraph">Instale o Trident no namespace desejado executando o<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> comando. Você pode adicionar argumentos adicionais para especificar a localização do Registro da imagem.</block>
  <block id="d01f9020330072ac03affe8ff09d74c1" category="paragraph">Os exemplos a seguir fornecem exemplos de configurações para a instalação do Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="f19a63197b0bddc429409fc31e0f0028" category="paragraph">Para permitir que o Trident seja executado em nós do Windows:</block>
  <block id="16f386086a2ad7537b5e373f9c0c2d25" category="summary">Você pode instalar o Trident usando o operador Trident (manualmente ou usando o Helm) ou com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o . Este tópico fornece informações importantes para selecionar o processo de instalação certo para você.</block>
  <block id="3673a00b7dc94dd4c41d2410acd2fd30" category="paragraph">Para garantir que o Trident possa ser instalado em uma ampla variedade de ambientes e organizações, o NetApp oferece várias opções de instalação. Você pode instalar o Trident usando o operador Trident (manualmente ou usando o Helm) ou com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o . Este tópico fornece informações importantes para selecionar o processo de instalação certo para você.</block>
  <block id="4561600b99ad801aedaa0ed3d3f3d7dd" category="paragraph">Seja implantando manualmente ou usando o Helm, o operador Trident é uma ótima maneira de simplificar a instalação e gerenciar dinamicamente os recursos do Trident. Você pode até mesmo <block ref="5290e5312b651716bedf8a83ec5a6467" category="inline-link-macro-rx"></block> usar os atributos no<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> recurso personalizado (CR).</block>
  <block id="4c4c1456097b6c9eca1c708465c381be" category="example-title">Criação de objeto &lt;strong&gt; Trident &lt;/strong&gt;</block>
  <block id="fd326d5b24197ffa86d97a4a14cb4f74" category="paragraph">O operador Trident com escopo de cluster gerencia os recursos associados a uma instalação do Trident no nível do cluster. Isso atenua erros que podem ser causados ao manter recursos com escopo de cluster usando um operador com escopo de namespace. Isso é essencial para a auto-cura e correção.</block>
  <block id="971121cd3f2006d8d765f6943be3667d" category="paragraph">O operador monitora a instalação do Trident e toma ativamente medidas para resolver problemas, como quando a implantação é excluída ou se for modificada acidentalmente. É criado um<block ref="6088362e783ede60a64ba91287dc58c1" prefix=" " category="inline-code"></block> pod que associa um<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR a uma instalação do Trident. Isso garante que haja apenas uma instância do Trident no cluster e controla sua configuração, garantindo que a instalação seja idempotente. Quando as alterações são feitas na instalação (como, por exemplo, a exclusão do daemonset de implantação ou nó), o operador as identifica e as corrige individualmente.</block>
  <block id="2bd0a347fcdd1f32b2c47512a0f234b5" category="paragraph">Por exemplo, considere um cenário em que você precisa habilitar o Trident para gerar logs de depuração. Para fazer isso, corrija o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> para definir<block ref="8cddd364bfd0d68f21e3a9ba1123b849" prefix=" " category="inline-code"></block> como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>:</block>
  <block id="fac5e433885256c138db519bfb7d9c8b" category="paragraph">O operador Trident com escopo de cluster permite a remoção limpa de recursos com escopo de cluster. Os usuários podem desinstalar completamente o Trident e reinstalar facilmente.</block>
  <block id="2b926612abdd76af2a073b5894f76c21" category="paragraph">Quando a versão do Kubernetes do cluster é atualizada para uma versão compatível, a operadora atualiza uma instalação existente do Trident automaticamente e a altera para garantir que ela atenda aos requisitos da versão do Kubernetes.</block>
  <block id="47a11daa7ba65ffd7ce5a63a596b662f" category="admonition">Se o cluster for atualizado para uma versão não suportada, o operador impede a instalação do Trident. Se o Trident já tiver sido instalado com o operador, um aviso será exibido para indicar que o Trident está instalado em uma versão do Kubernetes não suportada.</block>
  <block id="c82b4b0fab3872638ac3c7cebf4e6354" category="paragraph">Se você tiver uma implantação existente que deve ser atualizada ou se você estiver procurando personalizar altamente sua implantação, considere <block ref="e214bf159dbaf6573cfe15f1373b92db" category="inline-link-macro-rx"></block>o . Este é o método convencional de implantação do Trident.</block>
  <block id="2a756f07c39d09b80ec682e46071340c" category="paragraph">Você pode <block ref="d16089dfa270d6679e80d43ec8b5c378" category="inline-link-macro-rx"></block>gerar os manifestos para recursos do Trident. Isso inclui a implantação, o daemonset, a conta de serviço e a função de cluster que o Trident cria como parte de sua instalação.</block>
  <block id="726ba10e7d6fe535f2d9336e7321a0d0" category="admonition">A partir da versão 22,04, as chaves AES não serão mais regeneradas sempre que o Trident for instalado. Com esta versão, o Trident instalará um novo objeto secreto que persiste entre as instalações. Isso significa que<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> no 22,04 pode desinstalar versões anteriores do Trident, mas versões anteriores não podem desinstalar instalações do 22,04. Selecione a instalação apropriada _method_.</block>
  <block id="551b274494ab1b09b1dc86a5a0c18783" category="paragraph">Esta é a maneira mais fácil de instalar o Trident e funciona para a maioria dos ambientes que não impõem restrições de rede. O modo de instalação padrão usa Registros padrão para armazenar <block ref="95d6355f896a633ab07c528c03b44c8e" prefix="(" category="inline-code"></block>imagens Trident <block ref="0b505db73d92bac18356fa3feb3cf7e3" prefix="(" category="inline-code"></block>) e CSI necessárias.</block>
  <block id="2c5f46571f2892ffdec449b4fe136e81" category="paragraph">Quando você usa o modo padrão, o instalador do Trident:</block>
  <block id="987eeee7473b18ea803953637bdfad2e" category="list-text">Cria um daemonset de implantação ou nó, que gira pods do Trident em todos os nós elegíveis no cluster do Kubernetes</block>
  <block id="c784203bd2d02288d50564d90224ed01" category="list-text">Implante a versão apropriada do<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> na máquina remota de onde você deseja implantar o Trident.</block>
  <block id="47bc0a3097919fdad65f139b6d69a9ff" category="list-text">Sempre use o mesmo método para instalar e desinstalar o Trident. Se você tiver implantado com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o , você deve usar a versão apropriada<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> do binário para desinstalar o Trident. Da mesma forma, se você estiver implantando com o operador, edite o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR e defina<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block> como desinstalar o Trident.</block>
  <block id="e1c3faef9fedf771266b88670b01c96e" category="list-text">Se você tiver uma implantação baseada no operador que deseja remover e usar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para implantar o Trident, primeiro edite<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e defina<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block> como desinstalar o Trident. Em seguida, exclua<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e a implantação do operador. Você pode instalar usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="f2019abfb2d31501ffeb653190c776c7" category="paragraph">Ao instalar o Trident em produtos do portfólio VMware Tanzu:</block>
  <block id="f13f0f6bb53cad2be972536943806066" category="doc">Gerenciar o Trident usando o tridentctl</block>
  <block id="aace960e27eac9490c7c162553e42f7f" category="paragraph">O<block ref="5a856e83aada9750fe5389f8da94335b" category="inline-link-rx"></block> inclui o<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> utilitário de linha de comando para fornecer acesso simples ao Trident. Os usuários do Kubernetes com Privileges suficientes podem usá-lo para instalar o Trident ou gerenciar o namespace que contém o pod Trident.</block>
  <block id="be99e89b73ca0fc3198af4f4649e5134" category="paragraph">O utilitário Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> suporta os seguintes comandos e sinalizadores globais.</block>
  <block id="a0ac16c3fbcfa888fa59e67b5463167b" category="list-text">Adicione um recurso ao Trident.</block>
  <block id="2f9b5be603774ecb9636b484d457359e" category="list-text">Remova um ou mais recursos do Trident.</block>
  <block id="6635cd89ace7391965bccedd81e35cb6" category="list-text">Obtenha um ou mais recursos do Trident.</block>
  <block id="926631c8cfb777fe0db4134e51613ead" category="list-text">Imprima uma tabela das imagens de contentor que o Trident necessita.</block>
  <block id="bb596d4d22f7a33ee0d2a24060a763ec" category="list-text">Importar um recurso existente para o Trident.</block>
  <block id="27b4c36cae8d1c4fd515d289942c87cc" category="list-text">Instale o Trident.</block>
  <block id="257fa8c5a4a1749d97d717fe4e1215ea" category="list-text">Imprimir os registos a partir do Trident.</block>
  <block id="2124524b5b56338967984edc522a8671" category="list-text">Enviar um recurso do Trident.</block>
  <block id="806cf5654c2458b177e5c7daa3c09f48" category="list-text">Desinstale o Trident.</block>
  <block id="28c0034c10c257670255526657e62d93" category="list-text">Modificar um recurso no Trident.</block>
  <block id="852e24eece7824454b8f5c79668a07bb" category="list-text">Atualizar um recurso no Trident.</block>
  <block id="70e5b412fc117fa7faec13d3e8be6421" category="list-text">Imprima a versão do Trident.</block>
  <block id="0680c12a98c31009064ca561bf02c7f8" category="list-text">Namespace da implantação do Trident.</block>
  <block id="d56fa7a9770a5e6333220363051532ac" category="list-text">Endereço/porta da interface REST do Trident.</block>
  <block id="592f5a846f45840ff17ae3fcbb5f2d26" category="paragraph">Use o<block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix=" " category="inline-code"></block> comando para adicionar um recurso ao Trident.</block>
  <block id="71f8a14d1d2aabce6854ce9de9e4de40" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>: Adicione um backend ao Trident.</block>
  <block id="03c6dd1ba84a83f2cd07f340b6806c09" category="paragraph">Use o<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block> comando para remover um ou mais recursos do Trident.</block>
  <block id="21ee8d29d964bb9b13a0c41d9602ae94" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>: Excluir um ou mais backends de armazenamento do Trident.<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>: Excluir um ou mais snapshots de volume do Trident.<block ref="0606cab8952ca875c43a0e15b35aab7c" prefix=" " category="inline-code"></block>: Excluir uma ou mais classes de armazenamento do Trident.<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>: Excluir um ou mais volumes de armazenamento do Trident.</block>
  <block id="e558124864c80bb4cb3afd12ca94d6a3" category="paragraph">Use o<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block> comando para obter um ou mais recursos do Trident.</block>
  <block id="d4f3a31079f902b3ab789d35c645a783" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>: Obtenha um ou mais backends de armazenamento do Trident.<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>: Obter um ou mais snapshots do Trident.<block ref="0606cab8952ca875c43a0e15b35aab7c" prefix=" " category="inline-code"></block>: Obtenha uma ou mais classes de armazenamento do Trident.<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>: Obtenha um ou mais volumes do Trident.</block>
  <block id="2d7cc984025c13a373fe75153203182f" category="paragraph">Use<block ref="59b514174bffe4ae402b3d63aad79fe0" prefix=" " category="inline-code"></block> sinalizadores para imprimir uma tabela das imagens de contentor que o Trident precisa.</block>
  <block id="713e63397727c946dac8452e705917bd" category="paragraph">Use o<block ref="f6c534966bc7687e0c87134d025f8837" prefix=" " category="inline-code"></block> comando para importar um volume existente para o Trident.</block>
  <block id="cc674f0e0cd8c84b97f0fa6a907c1a9c" category="paragraph">Use os<block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix=" " category="inline-code"></block> sinalizadores para instalar o Trident.</block>
  <block id="d26beba5397e2900bd10ac2f4114439a" category="paragraph">Use<block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix=" " category="inline-code"></block> sinalizadores para imprimir os logs do Trident.</block>
  <block id="03b876ad5d685e21517c5c91d80aa1b7" category="list-text"><block ref="37caf0ee262229a9ddc60877eec6883f" prefix="" category="inline-code"></block>,<block ref="33a12b543204974f74acd94de699324e" prefix=" " category="inline-code"></block>: Crie um arquivo de suporte com todos os logs, a menos que especificado de outra forma.<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block><block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>, : Ajuda para logs.<block ref="269889131ee4793a82191b78a2eb60e3" prefix=" " category="inline-code"></block><block ref="e1db966b8a9ad737de7da72be15dcfc3" prefix=" " category="inline-code"></block>, : Trident log a ser exibido. Um dos Trident|auto|Trident-operator|All (predefinição "auto").<block ref="60cfbca684c147d47b652c83c9617370" prefix=" " category="inline-code"></block>: O nome do nó Kubernetes do qual você pode coletar logs do pod de nó.<block ref="b3868ba70a8f4cf55464dd9926381db1" prefix=" " category="inline-code"></block><block ref="a29a0e1222e48537fee91cff87dcb786" prefix=" " category="inline-code"></block>, : Obtém os registos para a instância de contentor anterior, se existir.<block ref="2c82c1731bc7980f276a26037aa42ec1" prefix=" " category="inline-code"></block>: Obter os logs para os recipientes sidecar.</block>
  <block id="05ec773046cd39b8bc0f2d677bce0910" category="paragraph">Use o<block ref="2541d938b0a58946090d7abdde0d3890" prefix=" " category="inline-code"></block> comando para enviar um recurso do Trident.</block>
  <block id="18a643410fc45a102fb920f23c9c2836" category="paragraph">Use<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block> sinalizadores para desinstalar o Trident.</block>
  <block id="599e9ff51846ab1b00f04c11c114486b" category="paragraph">Use o<block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix=" " category="inline-code"></block> comando para modificar um recurso no Trident.</block>
  <block id="0cf5883c2ee5ddae619d22db9c564f72" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>: Atualize um backend no Trident.</block>
  <block id="5c7182b03561a92970bed5538e17d9c4" category="list-text">Para recuperar a capacidade de definir a<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> via tridentctl depois de ter sido definida via tbc, o<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> campo deve ser removido do tbc. Isso pode ser feito usando o<block ref="d8d9eaf9706e633cb1e715e88dfbe301" prefix=" " category="inline-code"></block> comando. Depois que o<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> campo for removido, você pode usar o<block ref="30ef4d8d0d0cb9218c8f70ca2b7ee7bc" prefix=" " category="inline-code"></block> comando para alterar o<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> de um backend.</block>
  <block id="3bed2aa34d42c38e2a5593a67e2fe0c4" category="section-title">Suporte ao plugin</block>
  <block id="424054df70ee64ca6c70f04f668acb1e" category="paragraph">O Trigentctl suporta plugins semelhantes ao kubectl. O tridentctl deteta um plugin se o nome do arquivo binário do plugin seguir o esquema "tridentctl-&lt;plugin&gt;", e o binário está localizado em uma pasta listada a variável de ambiente PATH. Todos os plugins detetados estão listados na seção plugin da ajuda do tridentctl. Opcionalmente, você também pode limitar a pesquisa especificando uma pasta de plug-in na variável de enviornment TRIDENCTL_PLUGIN_PATH (exemplo:<block ref="d8923b227a7eb64a54abbd6aa4ee0f6d" prefix=" " category="inline-code"></block>). Se a variável for usada, tridenctl pesquisará somente na pasta especificada.</block>
  <block id="deeb141b9b83e90418e171a1871e4c4c" category="summary">Você deve usar o mesmo método para desinstalar o Trident que você usou para instalar o Trident. Se você precisar de uma correção para bugs observados após uma atualização, problemas de dependência ou uma atualização mal sucedida ou incompleta, você deve desinstalar o Trident e reinstalar a versão anterior usando as instruções específicas para essa versão.</block>
  <block id="7fdff6d1496ee07f5530882ace839236" category="paragraph">Você deve usar o mesmo método para desinstalar o Trident que você usou para instalar o Trident.</block>
  <block id="e2f3eebc5fb0722c4ff76f470c4c3644" category="list-text">Se você precisar de uma correção para bugs observados após uma atualização, problemas de dependência ou uma atualização mal sucedida ou incompleta, você deve desinstalar o Trident e reinstalar a versão anterior usando as instruções específicas para esse <block ref="e168bf6cc8da3b05fae6b22bcd12ba37" category="inline-link-macro-rx"></block>. Esta é a única maneira recomendada de _downgrade_ para uma versão anterior.</block>
  <block id="0a5e338ee1a9820e7a4a7d64f09e4a90" category="inline-link-macro">Remova completamente Trident e CRDs</block>
  <block id="bfc34bbf9ae6407400b3d77e0e84543b" category="list-text">Para facilitar a atualização e reinstalação, desinstalar o Trident não remove os CRDs ou objetos relacionados criados pelo Trident. Se você precisar remover completamente o Trident e todos os seus dados, <block ref="a2addcf593ef6071e49d2a678662f830" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="39596b8f60148eb1bbb5294ed08b18e3" category="paragraph">Se você estiver desativando clusters do Kubernetes, exclua todas as aplicações que usam volumes criados pelo Trident antes da desinstalação. Isso garante que os PVCs sejam inéditos nos nós do Kubernetes antes que sejam excluídos.</block>
  <block id="17733a3e129c42343460715297e0ac17" category="paragraph">Você deve usar o mesmo método para desinstalar o Trident que você usou para instalá-lo. Antes de desinstalar, verifique qual versão você usou para instalar o Trident originalmente.</block>
  <block id="289484202abcb58bc03e41c81caae5ac" category="list-text">Se não houver nenhum pod do operador, o Trident foi instalado usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="ec1716523baff70aa24080e64d8b4b12" category="list-text">Se houver um pod do operador, o Trident foi instalado usando o operador Trident manualmente ou usando o Helm.</block>
  <block id="5577c7ef32ae8572fa7be77d6824637e" category="list-text">Se houver um pod do operador, use<block ref="2bbaa285a4b0035313ee3178abf33313" prefix=" " category="inline-code"></block> para determinar se o Trident foi instalado usando o Helm.</block>
  <block id="aa5d66e97bedb220b9ef74e7c17b9f61" category="list-text">Se houver uma etiqueta Helm, o Trident foi instalado usando Helm.</block>
  <block id="28de01ed4501d62f4c5b88fa6049543d" category="list-text">Se não houver nenhuma etiqueta Helm, o Trident foi instalado manualmente usando o operador Trident.</block>
  <block id="e2a7f7c4ad1f2b2220b05363feef82c8" category="paragraph">Se você instalou o Trident usando o operador, você pode desinstalá-lo fazendo um dos seguintes procedimentos:</block>
  <block id="9f9bf29ad71be284c3ea7064648785b5" category="list-text">**Excluir<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>**: Ao remover o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR que foi usado para implantar o Trident, você instrui o operador a desinstalar o Trident. O operador processa a remoção<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e remove a implantação do Trident e o daemonset, excluindo os pods do Trident que ele criou como parte da instalação.</block>
  <block id="ea75777d00ce93c49ed762f4f7dfada6" category="paragraph">Se você instalou o Trident usando o Helm, você pode desinstalá-lo usando<block ref="547d17b0589ba1ba53549f8ddb830b62" prefix=" " category="inline-code"></block>o .</block>
  <block id="b19a703b7895e9b3039fbad761b2c100" category="paragraph">Use o<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block> comando in<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para remover todos os recursos associados ao Trident, exceto para CRDs e objetos relacionados:</block>
  <block id="6bfc286a12a4a343361f71fd9b7ccf62" category="summary">Antes de usar o operador Trident para atualizar o Trident, você deve entender os processos em segundo plano que ocorrem durante a atualização. Isso inclui alterações no controlador Trident, no pod de nó e no pod de nó e no DaemonSet que permitem atualizações contínuas.</block>
  <block id="6bd585eb6409f22b8a1e247f4935c581" category="paragraph">Um dos muitos <block ref="1294f86abdf2591159d9dd04918b1092" category="inline-link-macro-rx"></block> que instalar e atualizar o Trident é o manuseio automático de objetos do Trident e Kubernetes sem interromper os volumes montados existentes. Dessa forma, o Trident pode oferecer suporte a atualizações sem inatividade ou <block ref="c0fb6b6f12bb8ae805a97690328ec023" category="inline-link-macro-rx"></block>. Em particular, o operador do Trident se comunica com o cluster do Kubernetes para:</block>
  <block id="a958e7fa65b27b4be8589d6d0de8d135" category="list-text">Detecta a versão atualmente instalada do Trident (versão _n_).</block>
  <block id="0efdc02c2d9fa1fcf31ff85fec4ed8de" category="summary">Você pode facilmente atualizar uma instalação existente do Trident usando o operador.</block>
  <block id="9a98985a342ee2d7d213394e90d838a9" category="doc">Atualize uma instalação do Trident usando o operador Trident ou Helm</block>
  <block id="5430a6b8f98712c8210f8df2d906793a" category="paragraph">Você pode atualizar o Trident usando o operador Trident manualmente ou usando o Helm. Você pode atualizar de uma instalação de operador Trident para outra instalação de operador Trident ou atualizar de uma<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> instalação para uma versão de operador Trident. Reveja <block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block> antes de atualizar a instalação de um operador Trident.</block>
  <block id="7be5118cbf87396f839e400ffc94aecd" category="paragraph">Você pode atualizar de uma instalação de operador Trident com escopo de cluster para outra instalação de operador Trident com escopo de cluster. Todas as versões 21,01 e superiores do Trident usam um operador com escopo de cluster.</block>
  <block id="18466b7fafaca62c9c0d2438889ca0c6" category="admonition">Para atualizar do Trident que foi instalado usando o operador com escopo de namespace (versões 20,07 a 20,10), use as instruções de atualização do <block ref="567dd1ff029f25a404a69ff1e3c8d83b" category="inline-link-macro-rx"></block>Trident.</block>
  <block id="76e06d694db0c428e4d51e3354a7a4bd" category="list-text">Verifique sua versão do Trident:</block>
  <block id="5681bedbe2af394566fa4b56d2d4c938" category="list-text">Exclua o operador Trident que foi usado para instalar a instância atual do Trident. Por exemplo, se você estiver atualizando do 23,07, execute o seguinte comando:</block>
  <block id="1863fa40be678d4efa33c952a5cba52e" category="paragraph">Você pode atualizar uma instalação do Trident Helm.</block>
  <block id="b2095ed231848e69cbd92e44defb033b" category="admonition">Ao atualizar um cluster do Kubernetes do 1,24 para o 1,25 ou posterior que tenha o Trident instalado, você deve atualizar o Values.yaml para definir<block ref="94ef2a130a825358ab3002442d6e5145" prefix=" " category="inline-code"></block><block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> ou adicionar<block ref="96d5d0b9a6e3e01b2ae2ed889f75d22e" prefix=" " category="inline-code"></block><block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> ao comando antes de atualizar o cluster.</block>
  <block id="5198b91e39c3a2f369e2426e2732625e" category="paragraph">Se você já atualizou seu cluster do Kubernetes de 1,24 para 1,25 sem atualizar o leme do Trident, a atualização do leme falhará. Para que a atualização do leme passe, execute estes passos como pré-requisitos:</block>
  <block id="b85ec56f096c3a360d0efb02cd7a405c" category="list-text">Instale o plugin Helm-mapkubeapis<block ref="bd65bd6616cbc50afd763e93267c969a" category="inline-link-rx"></block> do .</block>
  <block id="5f5d62e54c7f1681b8aca17a51dae491" category="list-text">Execute uma execução a seco para a versão Trident no namespace onde o Trident está instalado. Isso lista os recursos, que serão limpos.</block>
  <block id="db65493922bad76f3135ea26ab9b5377" category="list-text">Execute uma corrida completa com o leme para fazer a limpeza.</block>
  <block id="cdfb4a820b1c2fb971221fb06e0dcd22" category="inline-link-macro">Trident instalado usando Helm</block>
  <block id="51c9e4ca2440cc879a0ac3211d74b056" category="list-text">Transfira a versão mais recente do Trident a partir de <block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>.</block>
  <block id="6a40bcc839c7c4e3dc8f6767cbe14743" category="list-text">Transfira a versão mais recente do Trident.</block>
  <block id="3dddb901f6b5bd5d89988dafdfabdec3" category="list-text">Crie um<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR para instalar o Trident.</block>
  <block id="64913c0fb81e4c0c481a4fc1fac61cdd" category="summary">O Trident segue uma cadência de lançamento de quatro meses, oferecendo três grandes lançamentos a cada ano civil. Cada nova versão é construída sobre as versões anteriores, fornecendo novos recursos e melhorias de desempenho, bem como correções de bugs e melhorias. Você é encorajado a atualizar pelo menos uma vez por ano para aproveitar os novos recursos do Trident.</block>
  <block id="77e55df8a70448ed424b5f523364ffc2" category="paragraph">Começando com o lançamento de 24,02, o Trident segue uma cadência de lançamento de quatro meses, oferecendo três grandes lançamentos a cada ano civil. Cada nova versão baseia-se nas versões anteriores e fornece novos recursos, melhorias de desempenho, correções de bugs e melhorias. Recomendamos que você atualize pelo menos uma vez por ano para aproveitar os novos recursos do Trident.</block>
  <block id="2189850878cb079b3d2ec0126cc0c42a" category="paragraph">Ao atualizar para a versão mais recente do Trident, considere o seguinte:</block>
  <block id="c0f69f3a3b098007f278b27ffb9915ac" category="list-text">Deve haver apenas uma instância do Trident instalada em todos os namespaces em um determinado cluster do Kubernetes.</block>
  <block id="a34f035fd1be1d24760b20dd8fa547ea" category="list-text">O Trident 23,07 e posterior requer instantâneos de volume v1 e não suporta mais instantâneos alfa ou beta.</block>
  <block id="df1a9174fcb3edd8d76379e2ce3131fc" category="list-text">Se você criou o Cloud Volumes Service para o Google Cloud no <block ref="14d2f65ad36632a8ebf2878592ce4877" category="inline-link-macro-rx"></block>, você deve atualizar a configuração de back-end para usar o<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block> nível de serviço ou<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block> ao atualizar a partir do Trident 23,01. A falha ao atualizar o<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block> no back-end pode causar falha de volumes. <block ref="83a0df2fb9a604879fdb2fab6c5f77c1" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="355ecbb7c8a4a9a1ef360cb6b2697d0c" category="list-text">Ao atualizar, é importante que você forneça<block ref="f6e7f85d8aee15940665bf722f7afac2" prefix=" " category="inline-code"></block> em<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> usado pelo Trident. Você pode excluir e recriar<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> sem interromper volumes pré-existentes.</block>
  <block id="a307a5edde0e4eeeb35bb77f0a1f1cc7" category="paragraph">As versões do Trident seguem uma convenção de nomenclatura baseada em data<block ref="fb6921a005d395f9482cdac0306d4935" prefix=" " category="inline-code"></block>, onde "YY" é os últimos dois dígitos do ano e "MM" é o mês. Os lançamentos de ponto seguem uma<block ref="d93ec759c4a0e8c1cf9c7653b2939656" prefix=" " category="inline-code"></block> convenção, onde "X" é o nível de patch. Você selecionará a versão para a qual atualizar com base na versão da qual você está atualizando.</block>
  <block id="25005cf84eec08f8f6a673dd193efa30" category="paragraph">Para determinar qual versão você usou para instalar o Trident originalmente:</block>
  <block id="f83034df0569133b2bce8e38446dfa7d" category="list-text">Se houver um pod do operador, use<block ref="9ce56b0c50ae80fe754522969b1c96b9" prefix=" " category="inline-code"></block> para determinar se o Trident foi instalado usando o Helm.</block>
  <block id="831878da1887476c96f4d3663eb93345" category="paragraph">Geralmente, você deve atualizar usando o mesmo método usado para a instalação inicial, no entanto, você pode <block ref="e34c010032791417159012a5e31d7540" category="inline-link-macro-rx"></block>. Existem duas opções para atualizar o Trident.</block>
  <block id="0b788cf4288607cc017571ff06e7943e" category="summary">Pode atualizar facilmente uma instalação existente do Trident utilizando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="ffdcc81ea1b556d1898b6edeef92af9c" category="paragraph">Você pode atualizar facilmente uma instalação existente do Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="f01c58ea1eebde50a8ce26c58daf4cce" category="paragraph">Desinstalar e reinstalar o Trident funciona como uma atualização. Quando você desinstalar o Trident, a reivindicação de volume persistente (PVC) e o volume persistente (PV) usados pela implantação do Trident não são excluídos. Os PVS que já foram provisionados permanecerão disponíveis enquanto o Trident estiver off-line, e o Trident provisionará volumes para quaisquer PVCs que forem criados no período intermediário depois que ele estiver novamente on-line.</block>
  <block id="7ad65028965606bad1c173b4f16cefeb" category="list-text">Execute o comando uninstall<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para remover todos os recursos associados ao Trident, exceto para os CRDs e objetos relacionados.</block>
  <block id="3777d5420fb2ef4c5e434cd5af97d73d" category="inline-link-macro">Instale o Trident usando o tridentctl</block>
  <block id="23d4814be45e57b94df46ce2ee2a19f6" category="list-text">Reinstale o Trident. <block ref="6fa1b6e43e706a69762bd9a319950a21" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="f36baffc9ca645fa1fe36124af4e39a7" category="summary">Saiba mais sobre as opções de proteção e recuperação para Trident e volumes criados usando o Trident. Você deve ter uma estratégia de proteção e recuperação de dados para cada aplicação com um requisito de persistência.</block>
  <block id="ffe1fc42630bb81c5437556ccf118ba0" category="section-title">Replicação e recuperação do Trident</block>
  <block id="9c85886fa11238157a9de69d0caaf7f2" category="paragraph">Você pode criar um backup para restaurar o Trident em caso de desastre.</block>
  <block id="a06c2dd9e460954c4c8e439ed6c16849" category="section-title">Replicação Trident</block>
  <block id="0cf2379589875f19fc411cdbbabab10c" category="paragraph">O Trident usa CRDs do Kubernetes para armazenar e gerenciar seu próprio estado e o cluster etcd do Kubernetes para armazenar seus metadados.</block>
  <block id="df92604aa3f4e581e24f9f7e549cbe1e" category="section-title">Recuperação de Trident</block>
  <block id="742d0be325a2cc0809fad668e223a40c" category="paragraph">Usando CRDs do Kubernetes e o snapshot etcd do cluster do Kubernetes, você pode recuperar o Trident.</block>
  <block id="1f7c8c42e8abc1d393aa79f78603a7d4" category="paragraph">O Trident não pode configurar relacionamentos de replicação. No entanto, o administrador de storage pode usar<block ref="eae3571c3bcc896c3c2934b9eeb2171a" category="inline-link-rx"></block> para replicar uma SVM.</block>
  <block id="5717b21c41683b40b5182faa442bafb8" category="paragraph">O SnapMirror permite que você defina opções para controlar o que replicar. Você precisará saber quais opções você selecionou ao pré-formar <block ref="36ddeb299c5dc6bcf247ffb9df4df208" category="inline-xref-macro-rx"></block>.</block>
  <block id="876b144c54cd97607e6f6f4d8b15f39e" category="section-title">Recuperação da SVM usando Trident</block>
  <block id="5c26def63f84646a9f77218eea10331a" category="paragraph">O Trident não detecta falhas na SVM automaticamente. Em caso de desastre, o administrador pode iniciar manualmente o failover de Trident para a nova SVM.</block>
  <block id="eb12f237ee9304f080e1a3b606030f2d" category="admonition">Se você especificou<block ref="524218dc9ff1ef52c9a0404971525b21" prefix=" " category="inline-code"></block>, todos os volumes provisionados pelo Trident começam a fornecer dados quando o SVM de destino é ativado.</block>
  <block id="4afaf8cedd32fb155e98f0626311d8ab" category="paragraph">O Trident não pode configurar as relações de replicação do SnapMirror. No entanto, o administrador de storage pode usar <block ref="c3487d6df2463efc752acd6f5cc45a1f" category="inline-link-macro-rx"></block> para replicar volumes criados pelo Trident.</block>
  <block id="9cf6e031ec85179307403b10689113c9" category="paragraph">Em seguida, você pode importar os volumes recuperados para o Trident usando <block ref="b0a81d9cb6f9ea994a428f959b11d3c6" category="inline-link-macro-rx"></block>o .</block>
  <block id="3c520ff745f4964007340c06ce483d92" category="summary">Use as recomendações listadas aqui quando implantar o Trident.</block>
  <block id="4ac9935cf245d076d6ef4babd8659321" category="paragraph"><block ref="c41296e544cd0faaa4fe4e8b22535287" category="inline-link-rx"></block> fornecer separação administrativa entre diferentes aplicações e são uma barreira para o compartilhamento de recursos. Por exemplo, um PVC de um namespace não pode ser consumido de outro. O Trident fornece recursos PV para todos os namespaces no cluster do Kubernetes e, consequentemente, aproveita uma conta de serviço que elevou o Privileges.</block>
  <block id="f53e7cca65962add5f429193e9cbdb7c" category="doc">Integre o Trident</block>
  <block id="ef77c788fd33425198e77cd3ce7c4525" category="paragraph">Para integrar o Trident, os seguintes elementos de design e arquitetura exigem integração: Seleção e implantação de drivers, design de classe de storage, design de pool virtual, impactos da reivindicação de volume persistente (PVC) no provisionamento de storage, operações de volume e implantação de serviços OpenShift usando o Trident.</block>
  <block id="9586fb9f48cc64f580092d7123d5acad" category="paragraph">Observe que, nas tabelas abaixo, nem todos os recursos são expostos por meio do Trident. Alguns devem ser aplicados pelo administrador de armazenamento após o provisionamento, se essa funcionalidade for desejada. As notas de rodapé sobrescritas distinguem a funcionalidade por recurso e driver.</block>
  <block id="5b003b29dfd53276a5b816a47ab32348" category="paragraph">A Trident oferece 2 drivers SAN para ONTAP, cujos recursos são mostrados abaixo.</block>
  <block id="3f89ded204a4589d3a6dc04e8b5f3199" category="verse-content-simple">Nota de rodapé: Yesfootnote:1[]: Não gerenciado por Trident Yesfootnote:2[]: Suportado para volumes de blocos brutos</block>
  <block id="e999eb209b6aaa7fd15151716377009a" category="paragraph">O Trident usa<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> o driver para gerenciar o <block ref="d617d79fbb5ee3bc8bd280353eeb1349" category="inline-link-macro-rx"></block> serviço.</block>
  <block id="67f0b796ae8988fe5446f8f925a4f9d8" category="inline-link-macro">Configuração de back-end do Trident para Azure NetApp Files</block>
  <block id="46a410b97b05c5034e7d6dd503471548" category="paragraph">Mais informações sobre esse driver e como configurá-lo podem ser encontradas no <block ref="be39645497306a87b14bbf7b3f50cd06" category="inline-link-macro-rx"></block>.</block>
  <block id="57c2378ca2b5638498fcfce53847fb9c" category="verse-content-simple">Nota de rodapé: Yesfootnote:1[]: Não gerenciado por Trident</block>
  <block id="66a053f36417f94321dcee6851d216fb" category="paragraph">O Trident usa<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> o driver para vincular ao Cloud Volumes Service no Google Cloud.</block>
  <block id="372b7e839ce4640b08b006c48ae95057" category="paragraph"><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>O driver usa pools virtuais para abstrair o back-end e permitir que o Trident determine o posicionamento do volume. O administrador define os pools virtuais nos<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> arquivos. As classes de armazenamento usam seletores para identificar pools virtuais por etiqueta.</block>
  <block id="ac8324606d3b8866904635470650c639" category="list-text">Se os pools virtuais forem definidos no back-end, o Trident tentará criar um volume nos pools de storage do Google Cloud aos quais esses pools virtuais são limitados.</block>
  <block id="9fc446e524c543fa3dd1400cdc43e4a1" category="list-text">Se os pools virtuais não estiverem definidos no back-end, o Trident selecionará um pool de armazenamento do Google Cloud nos pools de armazenamento disponíveis na região.</block>
  <block id="0fe1467ee5cd2261fbc5597882bb689e" category="paragraph">Para configurar o back-end do Google Cloud no Trident, você deve especificar<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block>,<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> e<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block> no arquivo de back-end. Você pode encontrar o número do projeto no console do Google Cloud. A chave da API é retirada do arquivo de chave privada da conta de serviço que você criou ao configurar o acesso à API para o Cloud Volumes Service no Google Cloud.</block>
  <block id="0ae6ba37bc9a9c5f0420b6d38d38f5a9" category="inline-link-macro">Saiba mais sobre o suporte do Trident para CVS para GCP</block>
  <block id="a215dc15f2b1d935791b8a15eeda76fd" category="paragraph">Para obter detalhes sobre os tipos de serviço e níveis de serviço do Cloud Volumes Service no Google Cloud, <block ref="76c16eb2ef8acb446255be1d7b0a5f06" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="232ed8614fde30f69091f058b325c923" category="list-text">A replicação não é gerenciada pelo Trident.</block>
  <block id="452de30c1a2630700e271baac21f9ff5" category="paragraph">O<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> parâmetro ajuda a restringir o armazenamento ao conjunto de pools que correspondem a quaisquer atributos especificados. O<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> parâmetro é usado para estender o conjunto de pools que o Trident usa para provisionar junto com o conjunto de pools selecionados pelos atributos e<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> parâmetros. Você pode usar um parâmetro sozinho ou ambos juntos para garantir que o conjunto apropriado de pools de armazenamento esteja selecionado.</block>
  <block id="e2dcff5242641fe99e5de74fa1bfd61c" category="paragraph">Os pools virtuais estão disponíveis para todos os backends do Trident. Você pode definir pools virtuais para qualquer back-end, usando qualquer driver fornecido pelo Trident.</block>
  <block id="976ae934688a6ffde1862ea50e00d6f9" category="paragraph">Os pools virtuais permitem que um administrador crie um nível de abstração sobre backends que pode ser referenciado por meio de classes de armazenamento, para maior flexibilidade e colocação eficiente de volumes em backends. Diferentes backends podem ser definidos com a mesma classe de serviço. Além disso, vários pools de storage podem ser criados no mesmo back-end, mas com características diferentes. Quando uma Classe de armazenamento é configurada com um seletor com as etiquetas específicas, o Trident escolhe um backend que corresponde a todas as etiquetas do seletor para colocar o volume. Se as etiquetas do seletor de Classe de armazenamento corresponder a vários pools de armazenamento, o Trident escolherá um deles para provisionar o volume.</block>
  <block id="fb241a03678f7f6dbc815840b0eb275b" category="paragraph">Alguns parâmetros além da classe de armazenamento solicitada podem afetar o processo de decisão de provisionamento do Trident ao criar um PVC.</block>
  <block id="d0652515edf18bae4abe8c32cbada535" category="paragraph">O Trident tentará corresponder ao protocolo de armazenamento utilizado com o método de acesso especificado de acordo com a seguinte matriz. Isso é independente da plataforma de storage subjacente.</block>
  <block id="5778c34e2378296c943901d6fc399424" category="paragraph">O Trident é compatível com a criação de snapshot de volume sob demanda e a criação de PVCs a partir de snapshots usando a estrutura CSI. Os snapshots fornecem um método conveniente de manter cópias pontuais dos dados e têm um ciclo de vida independente do PV de origem no Kubernetes. Esses snapshots podem ser usados para clonar PVCs.</block>
  <block id="9aea71aa176b781fee80bdbfd4f20d46" category="paragraph">O Trident também suporta a criação de PersistentVolumes a partir de instantâneos de volume. Para conseguir isso, basta criar um PersistentVolumeClaim e mencionar o<block ref="1ea7e575defdf6bc3f26a3f127e98170" prefix=" " category="inline-code"></block> como o instantâneo necessário a partir do qual o volume precisa ser criado. O Trident manipulará esse PVC criando um volume com os dados presentes no instantâneo. Com esse recurso, é possível duplicar dados entre regiões, criar ambientes de teste, substituir um volume de produção danificado ou corrompido em sua totalidade, ou recuperar arquivos e diretórios específicos e transferi-los para outro volume anexado.</block>
  <block id="ed6f39ab5224d264f94fc4324f391366" category="paragraph">Os administradores de storage podem mover volumes entre agregados e controladores no cluster ONTAP sem interrupções para o consumidor de storage. Essa operação não afeta o Trident ou o cluster do Kubernetes, contanto que o agregado de destino seja aquele ao qual o SVM que o Trident está usando tenha acesso. Importante, se o agregado tiver sido adicionado recentemente ao SVM, o back-end precisará ser atualizado readicionando-o ao Trident. Isso fará com que o Trident faça o inventário novamente da SVM para que o novo agregado seja reconhecido.</block>
  <block id="aec7eb75babd44ee65e8fe4e8f0b1096" category="paragraph">No entanto, mover volumes entre backends não é suportado automaticamente pelo Trident. Isso inclui entre SVMs no mesmo cluster, entre clusters ou em uma plataforma de storage diferente (mesmo que esse sistema de storage seja conetado ao Trident).</block>
  <block id="16c30c56fe00d20f49bb055490dff7aa" category="paragraph">Se um volume for copiado para outro local, o recurso de importação de volume pode ser usado para importar volumes atuais para o Trident.</block>
  <block id="6b810970c1e58f8070c318df43054f6c" category="paragraph">Ao usar o ONTAP e<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> os drivers, use o comando<block ref="5b139f5309999fcf6a4bbc8389cbc865" prefix=" " category="inline-code"></block> para importar um volume existente para o Kubernetes para ser gerenciado pelo Trident. O arquivo de PVC YAML ou JSON usado no comando volume de importação aponta para uma classe de storage que identifica o Trident como o provisionador. Ao usar um back-end NetApp HCI/SolidFire, certifique-se de que os nomes de volume sejam exclusivos. Se os nomes de volume forem duplicados, clone o volume para um nome exclusivo para que o recurso de importação de volume possa distinguir entre eles.</block>
  <block id="39367d7a2c7f9b4acc498f4324db020c" category="paragraph">Se o<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> driver ou<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> for usado, use o comando<block ref="37e8b35fb48ead6318ca6f2f83110554" prefix=" " category="inline-code"></block> para importar o volume para o Kubernetes para ser gerenciado pelo Trident. Isso garante uma referência de volume única.</block>
  <block id="4cb042ac9491457dd22d7368d4fa27c1" category="paragraph">Quando o comando acima é executado, o Trident irá encontrar o volume no backend e ler o seu tamanho. Ele irá adicionar automaticamente (e substituir, se necessário) o tamanho de volume do PVC configurado. O Trident então cria o novo PV e o Kubernetes liga o PVC ao PV.</block>
  <block id="e8b2e1fd32346fcd38f11f84cd51d409" category="paragraph">Com as variáveis apropriadas do Ansible definidas no arquivo de hosts/inventário, implante o serviço com o Ansible. Se você estiver implantando no horário de instalação do OpenShift, o PV será criado e usado automaticamente. Se você estiver implantando usando os playbooks de componentes, após a instalação do OpenShift, o Ansible criará todos os PVCs necessários e, depois que o Trident provisionou o storage para eles, implantará o serviço.</block>
  <block id="d6e925b1fae42b853ba04f3810c28628" category="summary">Você pode ativar a configuração de chave unificada do Linux (LUKS) para criptografar volumes DE ECONOMIA DE SAN ONTAP e SAN ONTAP no Trident. O Trident suporta redimensionamento de volume e rotação de chave (frase-passe) para volumes criptografados por LUKS.</block>
  <block id="3d987bdfee54b4cc132665887eab7b60" category="paragraph">Você pode ativar a configuração de chave unificada do Linux (LUKS) para criptografar volumes DE ECONOMIA DE SAN ONTAP e SAN ONTAP no Trident. O Trident suporta rotação de senhas e expansão de volume para volumes criptografados com LUKS.</block>
  <block id="35ae21817657169af402c244d1974dfd" category="paragraph">No Trident, os volumes criptografados por LUKS usam a cifra e o modo aes-xts-plain64, conforme recomendado <block ref="79a538d5fda32e1565131ca044d589f6" category="inline-link-macro-rx"></block>pelo .</block>
  <block id="32a9b32fc41708606002471c1eb3f55c" category="paragraph">Para importar um volume LUKS, você deve definir<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block> como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> no back-end. A<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block> opção informa ao Trident se o volume é compatível com LUKS <block ref="b326b5062b2f0e69046810717534cb09" prefix="(" category="inline-code"></block>) ou não com LUKS <block ref="68934a3e9455fa72420237eb05902327" prefix="(" category="inline-code"></block>), conforme mostrado no exemplo a seguir.</block>
  <block id="623002c2cdb3e388098c78e4a56c5f74" category="paragraph">A rotação da frase-passe LUKS ocorre quando um pod que monta o volume é criado após uma nova frase-passe LUKS ser especificada. Quando um novo pod é criado, o Trident compara a frase-passe LUKS no volume com a frase-passe ativa no segredo.</block>
  <block id="0cf736e750e01f7d7ddbc08fe8297576" category="summary">Use as recomendações listadas aqui para garantir que a instalação do Trident esteja segura.</block>
  <block id="e047f381a9811c1d60a8a3750b2d0cda" category="paragraph">Use as recomendações listadas aqui para garantir que a instalação do Trident esteja segura.</block>
  <block id="2d40d7a116d252bb16ef5b074c9c28ee" category="section-title">Execute o Trident em seu próprio namespace</block>
  <block id="7d4a55ae858dcca9ad616f33e6035cc6" category="paragraph">É importante impedir que aplicativos, administradores de aplicações, usuários e aplicativos de gerenciamento acessem as definições de objetos do Trident ou os pods para garantir um storage confiável e bloquear atividades maliciosas em potencial.</block>
  <block id="59eb6cc525324355d85d541c963c8697" category="paragraph">Para separar as outras aplicações e usuários do Trident, sempre instale o Trident em seu próprio namespace do Kubernetes <block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="(" category="inline-code"></block>). A colocação do Trident em seu próprio namespace garante que somente o pessoal administrativo do Kubernetes tenha acesso ao pod Trident e aos artefatos (como segredos de back-end e CHAP, se aplicável) armazenados nos objetos CRD com namespaces. Você deve garantir que você permita que apenas administradores acessem o namespace Trident e, assim, acessem o<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> aplicativo.</block>
  <block id="9d9837d692b44e524c96b427964bea85" category="paragraph">O Trident é compatível com autenticação baseada em CHAP para cargas de trabalho SAN ONTAP (usando os<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> drivers e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>). A NetApp recomenda o uso de CHAP bidirecional com Trident para autenticação entre um host e o back-end de storage.</block>
  <block id="a77f6a8d6a33d8d8102cdeed9631b96d" category="paragraph">O NetApp recomenda a implantação de CHAP bidirecional para garantir a autenticação entre um host e os backends NetApp HCI e SolidFire. O Trident usa um objeto secreto que inclui duas senhas CHAP por locatário. Quando o Trident é instalado, ele gerencia os segredos CHAP e os armazena em um<block ref="3ddc70b4b408f6dd5bbd5fe7d6008993" prefix=" " category="inline-code"></block> objeto CR para o respetivo PV. Quando você cria um PV, o Trident usa os segredos CHAP para iniciar uma sessão iSCSI e se comunicar com o sistema NetApp HCI e SolidFire através do CHAP.</block>
  <block id="99dfe9c8c9bd791b7382d67a440c38be" category="admonition">Os volumes criados pelo Trident não estão associados a nenhum Grupo de Acesso por volume.</block>
  <block id="9559c7656e8a28d235478856aa8e44ce" category="section-title">Use o Trident com NVE e NAE</block>
  <block id="4a8deb2ba46901e5599a8d9ca85ca254" category="list-text">Se o NAE estiver ativado no back-end, qualquer volume provisionado no Trident será habilitado para NAE.</block>
  <block id="6fd5fcab13431f04cede0c124a46282a" category="paragraph">Os volumes criados no Trident em um back-end habilitado para NAE devem ser criptografados com NVE ou NAE.</block>
  <block id="18eea8a0000e827a336c57c06568e4d5" category="list-text">Definir o sinalizador de criptografia NVE como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> em um back-end habilitado para NAE cria um volume habilitado para NAE. Não é possível desativar a criptografia NAE definindo o sinalizador de criptografia NVE como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>.</block>
  <block id="9feef6eaebf84b29639dd7c179735c8c" category="list-text">Você pode criar manualmente um volume NVE no Trident definindo explicitamente o sinalizador de criptografia NVE como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>.</block>
  <block id="4551cdad3ae48d3a807028a224a3617f" category="admonition">Normalmente, você não precisa gerenciar o<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto. Uma exceção a isso é quando você deseja <block ref="0b4cdf17ac3e4123330cb8e51ec533a2" category="inline-link-macro-rx"></block>criar fora do Trident.</block>
  <block id="805098fafaaebe033d70c80fe542e3af" category="paragraph">O Trident usa<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block> objetos para preservar a identidade de objetos do Trident, como backends Trident, classes de storage Trident e volumes Trident. Esses objetos são gerenciados pelo Trident. Além disso, a estrutura de snapshot do volume CSI introduz algumas CRDs que são necessárias para definir snapshots de volume.</block>
  <block id="a8a62fe3b16797ce253b78f83dc73a18" category="section-title">ObjetosTrident<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block></block>
  <block id="21283df20640a21f468122a427ef1bfc" category="section-title">Objetos de back-end do Trident</block>
  <block id="8a4410d54113ca147b35c633207444b7" category="section-title">ObjetosTrident<block ref="5e5d444b688db40e013a7d0b8b3c0898" prefix=" " category="inline-code"></block></block>
  <block id="f08d82cd2f4fa097db43220a04f62434" category="section-title">ObjetosTrident<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block></block>
  <block id="9b53117639a1995b2872ed6bca3dec8e" category="section-title">ObjetosTrident<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block></block>
  <block id="7eff879bfca572dbfc347fa226402a22" category="section-title">Objeto Trident<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="554741cc944c4e5f022fcbc0fa74e635" category="paragraph">O deamonset do Trident consome uma<block ref="e2c3c5140d40bff7c63d42afa55e20cb" prefix=" " category="inline-code"></block> classe de prioridade - a classe de prioridade mais alta disponível no Kubernetes - para garantir que o Trident possa identificar e limpar volumes durante o desligamento gracioso do nó e permitir que os pods do Trident daemonset pré-empt cargas de trabalho com prioridade mais baixa em clusters onde há alta pressão de recursos.</block>
  <block id="ee17e6c68211ace703b5692f81c2e6c4" category="paragraph">Para conseguir isso, o Trident emprega um<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> objeto para garantir que uma classe de prioridade "system-node-critical" no daemonset do Trident esteja satisfeita. Antes da implantação e criação do daemonset, o Trident procura o<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> objeto e, se não for descoberto, o aplica.</block>
  <block id="b09f29e72667c7bbfee7df15e0918219" category="paragraph">Se você preferir controlar sua própria alocação de recursos, você pode remover o objeto Trident<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> usando o comando:</block>
  <block id="6f9b6f4ef23610d31af9db2f8015cd91" category="summary">Os padrões de segurança do pod do Kubernetes (PSS) e as políticas de segurança do Pod (PSP) definem níveis de permissão e restringem o comportamento dos pods. As restrições de contexto de Segurança OpenShift (SCC) definem similarmente a restrição de pod específica ao OpenShift Kubernetes Engine. Para fornecer essa personalização, o Trident permite certas permissões durante a instalação.</block>
  <block id="75f5ed582d115d8da9d2b70f7279ae9c" category="paragraph">Os padrões de segurança do pod do Kubernetes (PSS) e as políticas de segurança do Pod (PSP) definem níveis de permissão e restringem o comportamento dos pods. As restrições de contexto de Segurança OpenShift (SCC) definem similarmente a restrição de pod específica ao OpenShift Kubernetes Engine. Para fornecer essa personalização, o Trident permite certas permissões durante a instalação. As seções a seguir detalham as permissões definidas pelo Trident.</block>
  <block id="81f58ff2750ef607f5ace37340e32983" category="cell">Necessário para iniciar<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block> o NFS. O Trident consulta os processos de host para determinar se<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block> está sendo executado antes da montagem de volumes NFS.</block>
  <block id="8c4d735e96caff70ec2fb4b6da0b8647" category="cell">O perfil Seccomp é sempre "unconfinado" em contentores privilegiados; portanto, não pode ser habilitado no Trident.</block>
  <block id="55067c9b7862cdb9b724bac1e11f114e" category="cell">No OpenShift, os contentores privilegiados são executados no<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block> domínio ("contentor Super privilegiado") e os contentores sem privilégios são executados<block ref="ce0991860b118fa3ab777cbb62c7caa5" prefix=" " category="inline-code"></block> no domínio. No<block ref="34c54dce528ae11502f7c2908c0e4a21" prefix=" " category="inline-code"></block>, com<block ref="c42c2c095fe432fac047b16b37a0c05c" prefix=" " category="inline-code"></block> instalado, todos os contentores são executados no<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block> domínio, o que desativa efetivamente o SELinux. Portanto, o Trident não adiciona<block ref="0221dccbaacc71551feb621f4ebfae36" prefix=" " category="inline-code"></block> a contêineres.</block>
  <block id="1b1944fe544c06f29c78d07fcfbf4683" category="summary">Saiba mais sobre as portas pelas quais o Trident se comunica.</block>
  <block id="190c8d0a8c0f9d99e2a5cee87981451c" category="paragraph">Saiba mais sobre as portas que o Trident usa para comunicação.</block>
  <block id="cf99312afccffdb3b97f892cb91990a0" category="summary">Você pode usar o endpoint REST diretamente se preferir interagir com a API REST do Trident.</block>
  <block id="5eee484e5d1a379b56272cbb68f0b4a6" category="doc">API REST do Trident</block>
  <block id="01244d6a0ae311e8f26e37eff3b90b3a" category="paragraph"><block ref="8321852d17a287399cb52ef30f4b21eb" category="inline-link-macro-rx"></block>Embora seja a maneira mais fácil de interagir com a API REST do Trident, você pode usar o endpoint REST diretamente, se preferir.</block>
  <block id="d802062141c45c0c8ed9e54ff53f4878" category="paragraph">A API REST é útil para instalações avançadas que usam o Trident como um binário autônomo em implantações não Kubernetes.</block>
  <block id="daef2c20475904ee3d06d11ab5e5cc0a" category="paragraph">Para uma melhor segurança, o Trident<block ref="aba3d4b49c454e1974970e7b5514b001" prefix=" " category="inline-code"></block> é restrito ao localhost por padrão ao ser executado dentro de um pod. Para alterar esse comportamento, você precisa definir o argumento do Trident<block ref="38df54fe961fa2bf2a7f82a5854fabad" prefix=" " category="inline-code"></block> em sua configuração de pod.</block>
  <block id="4e1a255728b39675b43f116f4cfb488b" category="paragraph">Para exemplos de como essas APIs são chamadas, passe o <block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="(" category="inline-code"></block>sinalizador debug ). Para obter mais informações, <block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="e0fcace21bf76f1a9c21940cb093720e" category="list-text">Requer uma configuração JSON para o objeto a ser criado. Para obter a especificação de cada tipo de objeto, <block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block>consulte a .</block>
  <block id="de7f4e4d8a5861d8381abc8bfafc64c2" category="admonition">Os volumes associados a backends ou classes de armazenamento continuarão a existir; estes devem ser excluídos separadamente. Para obter mais informações, <block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="9cd971ecdea9d32fa28fcdca5951a02c" category="summary">O Trident expõe várias opções de linha de comando para o orquestrador Trident e comunica através de determinadas portas.</block>
  <block id="33649eaebf2b1cded3cfe2ae660b3db8" category="paragraph">O Trident expõe várias opções de linha de comando para o orquestrador Trident. Você pode usar essas opções para modificar sua implantação.</block>
  <block id="df659a37411eac4669a05e25173aa8b7" category="list-text">Use essa opção ou<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block> para ativar o suporte do Kubernetes. Quando especificado, o Trident se coneta ao servidor de API do Kubernetes usando o endereço e a porta inseguros fornecidos. Isso permite que o Trident seja implantado fora de um pod; no entanto, ele só suporta conexões inseguras com o servidor de API. Para se conetar com segurança, implante o Trident em um pod com a<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block> opção.</block>
  <block id="e3ab8ff46f9c86474b01bf93b504507e" category="summary">A NetApp está continuamente melhorando e aprimorando seus produtos e serviços. Aqui estão alguns dos recursos mais recentes, aprimoramentos e correções de bugs na versão mais recente do Trident.</block>
  <block id="f219960762ce1ea892bf48746515e583" category="list-text">O driver do Google Cloud NetApp volumes agora está disponível para volumes NFS e é compatível com provisionamento com reconhecimento de zona.</block>
  <block id="09dc81fef04f949a006210deaff2f205" category="list-text">O código de carga de trabalho do GCP será usado como o Cloud Identity para volumes do Google Cloud NetApp com o GKE.</block>
  <block id="179837f123bf751c03460e6d2e0927c2" category="list-text">Adicionado<block ref="ef225248e79c14501d51a4941b5ae5d1" prefix=" " category="inline-code"></block> parâmetro de configuração aos drivers ONTAP-SAN e ONTAP-SAN-Economy para permitir que os usuários especifiquem opções de formato LUN.</block>
  <block id="b500d40dfa3ea14369fdaf59d3b1c835" category="list-text">Tamanho mínimo de volume Azure NetApp Files reduzido para 50 GiB. O novo tamanho mínimo do Azure deverá estar disponível em novembro.</block>
  <block id="2e6f95101e443ed93c211c35457a90e6" category="list-text">Parâmetro de configuração adicionado<block ref="80fd16da9d17abac4374b362f2e409fe" prefix=" " category="inline-code"></block> para restringir drivers de economia ONTAP-nas e economia ONTAP-SAN a pools FlexVol pré-existentes.</block>
  <block id="bf300dbe4f3e7fba7ef23cdf029d7f54" category="list-text">Adição, remoção ou renomeação de agregados do SVM em todos os drivers ONTAP.</block>
  <block id="b0587c4582678977a894feccef58eb73" category="list-text">Estágio de nó ONTAP-SAN e ONTAP-SAN aprimorado e manipulação de erros de desinstalação para permitir a remoção do estágio para remover dispositivos após um estágio com falha.</block>
  <block id="914e332f78206303c5897d6de3d31dc4" category="list-text">Adicionado um gerador de funções personalizado, permitindo que os clientes criem um papel minimalista para o Trident no ONTAP.</block>
  <block id="54a5a20d9182724aeda126c68ff2d500" category="inline-link-macro">Problema nº 792</block>
  <block id="ae953ee35cc48d929d62cd63fe1a5db9" category="list-text">Adicionado registo adicional para resolução de problemas<block ref="2a18927ad567a1bf015ee23d2f7d416f" prefix=" " category="inline-code"></block> (<block ref="0ac90c45cb5e08b111534147dc8d07bf" category="inline-link-macro-rx"></block>).</block>
  <block id="d28325b08a2b4a8f4af42dc025afe338" category="list-text">Adicionado um novo sinalizador<block ref="060e82a16c6de7d9a8541fb1da32de80" prefix=" " category="inline-code"></block> aos instaladores para definir o valor QPS usado pelo Trident para se comunicar com o servidor API Kubernetes.</block>
  <block id="46b4e7bf1e76e8eeb88747ded42b6d4f" category="list-text">Sinalizador adicionado<block ref="1606f6268af560ddbfffdd3790afb4d2" prefix=" " category="inline-code"></block> aos instaladores para gerenciamento automático de dependências de protocolo de storage nos nós de cluster do Kubernetes. Compatibilidade testada e verificada com o protocolo de armazenamento iSCSI do Amazon Linux 2023</block>
  <block id="ee2cc86dbfffd3b53ed4701a6b458dfb" category="list-text">Adicionado suporte para forçar desanexar para volumes de economia de ONTAP-nas durante cenários de encerramento de nó não gracioso.</block>
  <block id="326a8f228f219b0e904c9d182f05edc0" category="list-text">Os novos volumes de NFS com economia de ONTAP nas usarão políticas de exportação por qtree ao usar<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> a opção de back-end. As Qtrees só serão mapeadas para políticas de exportação restritivas de nós no momento da publicação para melhorar o controle de acesso e a segurança. Os qtrees existentes serão alternados para o novo modelo de política de exportação quando o Trident não publicar o volume de todos os nós para fazê-lo sem afetar cargas de trabalho ativas.</block>
  <block id="62900e6f021ab726737e77fc086ef8d8" category="list-text">Adicionado suporte para Kubernetes 1,31.</block>
  <block id="99feca4f342726633c553b7037f4effd" category="section-title">Melhorias experimentais</block>
  <block id="f47cb8e173cabaf3981c7356253eaf5f" category="list-text">*Kubernetes*:</block>
  <block id="d17c6ce149a6479587ff459c15a1f857" category="inline-link-macro">Problema nº 839</block>
  <block id="0d72ada08f4f4a9200f5e98c300ac3f5" category="list-text">Webhook de admissão de Rancher fixo que impede instalações de Helm do Trident (<block ref="db779c46d1b4e6ce40c3816626258ba8" category="inline-link-macro-rx"></block> ).</block>
  <block id="c4a8381892da41f8d4badcb947360547" category="inline-link-macro">Problema nº 898</block>
  <block id="2403ede55427cd43025cacf6e3c01d80" category="list-text">Tecla de afinidade fixa nos valores do gráfico de leme (<block ref="54ec46fe50699b7fd3f7ef30c485e12a" category="inline-link-macro-rx"></block>).</block>
  <block id="72ce7c26f0607a9f5bd8ca30e55cacef" category="inline-link-macro">Problema nº 899</block>
  <block id="cede03cb51e9bbed6dcab643181d12d7" category="list-text">Corrigido tridentControllerPluginNodeSeletor/tridentNodePluginNodeSeletor não funcionará com o valor "verdadeiro" (<block ref="5d339a433df6492948708982baf428fa" category="inline-link-macro-rx"></block>).</block>
  <block id="f11d62f384cbec26d8ed4550c153bf05" category="inline-link-macro">Problema nº 901</block>
  <block id="a0b1bd692e916f05f2ede181b41aa8a9" category="list-text">Instantâneos efêmeros eliminados criados durante a clonagem (<block ref="ef65b2f52a8de25e7edcbd74532daf2c" category="inline-link-macro-rx"></block>).</block>
  <block id="7d873532774b92f91f5b02b26b6ab15f" category="list-text">Adicionado suporte para o Windows Server 2019.</block>
  <block id="c1932a20d0117f7b70be58add390f98b" category="inline-link-macro">Problema nº 767</block>
  <block id="b205e07db438d75480a1439aaea49b90" category="list-text">Corrigido 'go mod tidy' em Trident repo (<block ref="b886e4c1dbe24e4b012cebe88d7f5dfa" category="inline-link-macro-rx"></block>).</block>
  <block id="0c1b395b1875f8cc0a3a3065e200951a" category="list-text">*Kubernetes:*</block>
  <block id="86c0118c20bbec39a37e58e07b4ca78e" category="list-text">Mínimo atualizado com suporte de Kubernetes para 1,25.</block>
  <block id="8b1b4442b4204fbf84931236c6402e37" category="list-text">Suporte removido para a Diretiva de Segurança DO POD.</block>
  <block id="4f52a386be5239d16bac5e9e054c7686" category="section-title">Rebranding do produto</block>
  <block id="b56fb7b6833a5dc3a047885cd9fb56b3" category="section-title">Mudanças em 24,06</block>
  <block id="59757b96b5b7c76f5131b54a97bfb34b" category="list-text">Adicionada capacidade para que as configurações de log configuradas pelo usuário para o controlador Trident sejam propagadas para pods de nó do Trident.</block>
  <block id="0d9957366afc474c1adc655929d57fcc" category="list-text">Adicionado capacidade para Trident DaemonSet para limpar montagens de Zumbis e arquivos de rastreamento residuais na inicialização (<block ref="1db457cca48a821c9957caae88cdf1d0" category="inline-link-macro-rx"></block>).</block>
  <block id="32c6cb7d24cfe592a3da026077c89057" category="list-text">Falhas de instalação do Trident fixas devido a transações obsoletas.</block>
  <block id="268938527c6b78a7ed673063e5a861e7" category="list-text">A prioridade do controlador Trident foi alterada<block ref="4727953cbcafc9a49db2d5e1fbb4878a" prefix=" " category="inline-code"></block> para<block ref="cfcd208495d565ef66e7dff9f98764da" prefix=" " category="inline-code"></block> (<block ref="f7f5a51d8afc55795aa860b78e4c6437" category="inline-link-macro-rx"></block> ).</block>
  <block id="f81abe23ec78b1087f167b2fcf413105" category="list-text">Adicionado suporte para instalar o Trident como um complemento no cluster EKS a partir do console EKS.</block>
  <block id="81a270127bea2c4d04088d2a999f883e" category="list-text">Corrigido problema de inicialização do Trident em um nó do Windows quando o nó é reinicializado.</block>
  <block id="84874d4f1fcbda2a79fad9c2be463612" category="admonition">O Kubernetes 1,27 agora é compatível com o Trident. Atualize o Trident antes de atualizar o Kubernetes.</block>
  <block id="8bf4d4f1641bc0ae0e1ce84b2301ad3c" category="paragraph">*Você deve ler as seguintes informações críticas antes de atualizar para o Trident 22,10.*</block>
  <block id="3c8c581ba3964d04278eae9be921969f" category="admonition-title">&lt;strong&gt; informações críticas sobre o Trident 22.10 &lt;/strong&gt;</block>
  <block id="2ec2ecd5679471f4915360aaa9562646" category="list-text">O Kubernetes 1,25 agora é compatível com o Trident. É necessário atualizar o Trident para o 22,10 antes da atualização para o Kubernetes 1,25.</block>
  <block id="3fe15650bf774497f976b0dcd6e74e95" category="list-text">O Trident agora reforça estritamente o uso de configuração multipathing em ambientes SAN, com um valor recomendado de<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> no arquivo multipath.conf.</block>
  <block id="3e84d49b37065ae841277ed78e8fb1bb" category="list-text">Novas tentativas granulares removidas dentro do fluxo de trabalho iSCSI do Trident para falhar rapidamente e reduzir os intervalos de tentativas externas.</block>
  <block id="b1ae71d1cd3967fcca9453f4087b19ef" category="list-text">Adicionado suporte para Kubernetes 1,25. É necessário atualizar o Trident para o 22,10 antes da atualização para o Kubernetes 1,25.</block>
  <block id="95b61962ec35cc252a4791e4101c5aaa" category="list-text">Os volumes ONTAP-SAN agora usarão grupos por nó e mapearão apenas LUNs para grupos enquanto são publicados ativamente nesses nós para melhorar nossa postura de segurança. Os volumes existentes serão oportunisticamente comutados para o novo esquema de grupos quando o Trident determinar que é seguro fazê-lo sem afetar cargas de trabalho ativas.</block>
  <block id="5e65f8ef909da6c604c403e32b1b48ee" category="paragraph">Uma nova <block ref="305368b4f0d008a807e095ab9da58448" category="inline-link-macro-rx"></block>seção (PSS) foi adicionada detalhando as permissões habilitadas pelo Trident na instalação.</block>
  <block id="1709d6f66b1414fcc9f298c36d33f86b" category="paragraph">A NetApp está continuamente melhorando e aprimorando seus produtos e serviços. Aqui estão alguns dos recursos mais recentes do Trident. Para versões anteriores,<block ref="25da125dffad1d6323c21354bccf0203" category="inline-link-rx"></block> consulte .</block>
  <block id="0e258ce589a7c5edca46e96701e7a846" category="list-text">Corrigido o problema quando o desempenho do Trident diminui quando &gt; 32 snapshots são criados em um volume SolidFire.</block>
  <block id="abf7e791f62ca6d68b31527c63563786" category="list-text">Corrigido o problema em que o Trident registrou um erro fatal no desligamento (problema 597 do GitHub).</block>
  <block id="20179fee7c8b97f5118f8bb139c3e3ee" category="list-text">Corrigido o problema em que todos os instaladores do Trident podiam identificar o Kubernetes simples como OpenShift (problema 639 do GitHub).</block>
  <block id="da7c48c170570a143b062de762b69ac3" category="list-text">O Trident agora aplica um espaço em<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> <block ref="6d8a605a6037c779649e91ad03a19c1c" prefix="(" category="inline-code"></block>branco ) para volumes que não têm o<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> especificado em seu StorageClass. Ao trabalhar com o Kubernetes 1,17 ou posterior, a Trident dá suporte a fornecer um espaço em branco<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> para volumes NFS. Para volumes iSCSI, é necessário definir o<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> no StorageClass ao aplicar um<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> contexto de uso de segurança.</block>
  <block id="e19cc53ffca782e210d63cc3ba607068" category="list-text">Ao usar um back-end em várias instâncias do Trident, cada arquivo de configuração de back-end deve ter um valor diferente<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> para backends do ONTAP ou usar um diferente<block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block> para backends do SolidFire. O Trident não consegue detetar volumes criados por outras instâncias do Trident. Tentar criar um volume existente em backends ONTAP ou SolidFire é bem-sucedido, porque o Trident trata a criação de volume como uma operação idempotente. Se<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> ou<block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block> não forem diferentes, pode haver colisões de nomes para volumes criados no mesmo back-end.</block>
  <block id="f361d11207fb1bf400735cf23bd3eead" category="list-text">Ao instalar o Trident (usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ou o Operador do Trident) e usar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para gerenciar o Trident, você deve garantir que a<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> variável de ambiente esteja definida. Isso é necessário para indicar o cluster do Kubernetes com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> quem trabalhar. Ao trabalhar com vários ambientes do Kubernetes, você deve garantir que o<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> arquivo seja obtido com precisão.</block>
  <block id="fb03c645f52123146ba91e4a67fc8b1e" category="list-text">Se você tiver mais de uma instância do Trident por cluster do Kubernetes, o Trident não poderá se comunicar com outras instâncias e não poderá descobrir outros volumes que eles criaram, o que leva a um comportamento inesperado e incorreto se mais de uma instância for executada em um cluster. Deve haver apenas uma instância do Trident por cluster do Kubernetes.</block>
  <block id="6d2a9758a5a695c93ba565384c106ee5" category="list-text">Se objetos baseados em Trident<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> forem excluídos do Kubernetes enquanto o Trident estiver offline, o Trident não removerá as classes de armazenamento correspondentes de seu banco de dados quando ele voltar online. Você deve excluir essas classes de armazenamento usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ou a API REST.</block>
  <block id="8064c72c81e13811dd14b604af2cba51" category="list-text">Se um usuário excluir um PV provisionado pelo Trident antes de excluir o PVC correspondente, o Trident não excluirá automaticamente o volume de backup. Você deve remover o volume via<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ou a API REST.</block>
  <block id="cf2e8e446588a928fb23cb0dbd820e8b" category="list-text">Ao usar o Trident sobre IPv6, você deve especificar<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> e<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> na definição de back-end entre colchetes. Por exemplo, <block ref="cbd17d3c94dc0ed51eeeab01d2ae8741" prefix="" category="inline-code"></block>.</block>
  <block id="b75a48587845391dbbe47d0dcc15d3c0" category="admonition">Não é possível especificar<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> em um back-end de SAN ONTAP. O Trident descobre todas as LIFs iSCSI disponíveis e as usa para estabelecer a sessão multipath.</block>
  <block id="8a247589aa6f5931b3416e5dd64ba361" category="inline-link">Trident GitHub</block>
  <block id="2e62261179042a713555c66362bf55b6" category="list-text"><block ref="2e62261179042a713555c66362bf55b6" category="inline-link-rx"></block></block>
  <block id="fd898492f5f83a18091a5e6c78cf2276" category="list-text"><block ref="fd898492f5f83a18091a5e6c78cf2276" category="inline-link-rx"></block></block>
  <block id="7afa2d89ddb38b52ee6c828cd75c06c9" category="paragraph">O Trident usa sua configuração de back-end (sub-rede, rede virtual, nível de serviço e local) para criar volumes Azure NetApp Files em pools de capacidade disponíveis no local solicitado e corresponder ao nível de serviço e à sub-rede solicitados.</block>
  <block id="e9acc9c9f9c15bdc3abfff747835f188" category="paragraph">Esta é a configuração mínima absoluta de back-end. Com essa configuração, o Trident descobre todas as suas contas NetApp, pools de capacidade e sub-redes delegadas ao Azure NetApp Files no local configurado e coloca novos volumes em um desses pools e sub-redes aleatoriamente. Como<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block> é omitido, o<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> padrão se aplica e o back-end provisionará para volumes NFS.</block>
  <block id="c23ef0ddbc293eb69087843f50a25be6" category="paragraph">Essa configuração de back-end coloca volumes no local do Azure<block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block> em um<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block> pool de capacidade. O Trident descobre automaticamente todas as sub-redes delegadas ao Azure NetApp Files nesse local e coloca um novo volume em uma delas aleatoriamente.</block>
  <block id="fefaa3b6dca112cc6521c571cfc3803d" category="paragraph">O Trident facilita o provisionamento de volumes para workloads com base em regiões e zonas de disponibilidade. O<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block> bloco nesta configuração de back-end é usado para fornecer uma lista de regiões e zonas por back-end. Os valores de região e zona especificados aqui devem corresponder aos valores de região e zona dos rótulos em cada nó de cluster do Kubernetes. Essas regiões e zonas representam a lista de valores permitidos que podem ser fornecidos em uma classe de armazenamento. Para classes de armazenamento que contêm um subconjunto das regiões e zonas fornecidas em um back-end, o Trident cria volumes na região e na zona mencionadas. Para obter mais informações, <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="cc13c2d3734cd4826a8ef70e17841621" category="list-text">A <block ref="8ad3956583058d3582a7dd1281d1f882" category="inline-link-macro-rx"></block>no nível da subscrição <block ref="e023f2926fb9af676f2809a760efeb14" prefix="(" category="inline-code"></block>) com as seguintes permissões que estão limitadas apenas ao que o Trident requer. Depois de criar a função personalizada<block ref="af58105ed429db29198b767444ed6d0d" category="inline-link-macro-rx"></block>, .</block>
  <block id="8ce7a57e3680dab09c67446ce08707de" category="list-text">Um cluster do Kubernetes com um nó de controlador Linux e pelo menos um nó de trabalho do Windows que executa o Windows Server 2022. O Trident dá suporte a volumes SMB montados em pods executados apenas em nós do Windows.</block>
  <block id="d118256fd34a78d74f0336eb83898964" category="list-text">Pelo menos um segredo do Trident contendo suas credenciais do ative Directory para que o Azure NetApp Files possa se autenticar no ative Directory. Para gerar segredo<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>:</block>
  <block id="4d869f60891f92b0887fa0954bb83cf6" category="summary">Você pode configurar o Azure NetApp Files como o back-end para o Trident. É possível anexar volumes NFS e SMB usando um back-end do Azure NetApp Files. O Trident também oferece suporte ao gerenciamento de credenciais usando identidades gerenciadas para clusters do Azure Kubernetes Services (AKS).</block>
  <block id="d0c2adbcdd991dec2899d7223e4800b7" category="paragraph">O Trident fornece os seguintes drivers de armazenamento Azure NetApp Files para se comunicar com o cluster. Os modos de acesso suportados são: _ReadWriteOnce_ (RWO), _ReadOnlyMuy_ (ROX), _ReadWriteMany_ (RWX), _ReadWriteOncePod_ (RWOP).</block>
  <block id="6bc1d5588b10361a0f432d43d687c72b" category="list-text">O serviço Azure NetApp Files não oferece suporte a volumes menores que 50 GiB. O Trident cria automaticamente volumes de 50 GiB se um volume menor for solicitado.</block>
  <block id="2d5ff5cb87519a4e50ace141656cfcb1" category="list-text">O Trident dá suporte a volumes SMB montados em pods executados apenas em nós do Windows.</block>
  <block id="f82e660891c5d7411358cecf3f95d1b8" category="paragraph">O Trident é compatível <block ref="74c572b9a9e05a7969e3f88bd692fcb8" category="inline-link-macro-rx"></block>com clusters do Azure Kubernetes Services. Para aproveitar o gerenciamento simplificado de credenciais oferecido por identidades gerenciadas, você deve ter:</block>
  <block id="ba4a4a15a9255fcbc02a1aae5442a70e" category="list-text">Trident instalado que inclui o<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block> para especificar<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>.</block>
  <block id="948b24b4e198f8ddc985605c69c55718" category="paragraph">Para instalar o Trident usando o operador Trident, edite<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block> para definir<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block> como<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>. Por exemplo:</block>
  <block id="6e3a55be7185a416b963c89e1313a21e" category="paragraph">O exemplo a seguir instala conjuntos Trident<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block> no Azure usando a variável de ambiente<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block> :</block>
  <block id="5914afb9381493b19e7d55f591b22f7e" category="paragraph">O exemplo a seguir instala o Trident e define o<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block> sinalizador como<block ref="3a580f142203677f1f0bc30898f63f53" prefix=" " category="inline-code"></block>:</block>
  <block id="f4a04ca0cf488acdb4c47e4276e53b0d" category="list-text">Trident instalado que inclui o<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block> para especificar<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block> e<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block> especificar a identidade da carga de trabalho</block>
  <block id="cd1b43a026c160e8905dc5847d424f8f" category="paragraph">Para instalar o Trident usando o operador Trident, edite<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block> para definir<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block> como<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block> e defina<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block> como<block ref="ab6b275be02c02a9982cb7a0c234629e" prefix=" " category="inline-code"></block>.</block>
  <block id="0df381404177fadd38b0a15ef178cf09" category="paragraph">O exemplo a seguir instala o Trident e define<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block> o Azure usando a variável de ambiente<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block> e define a<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block> variável usando o ambiente<block ref="c9d280b28993d1d105c3fbafb5868a15" prefix=" " category="inline-code"></block> :</block>
  <block id="7d7c872ffb338fffab0ed66d892cf48b" category="paragraph">O exemplo a seguir instala o Trident e define o<block ref="e33bb4eb32023da4a8ea7a1ba6927067" prefix=" " category="inline-code"></block> sinalizador como<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>, e<block ref="c5af480af77c330e04a1fce1f6c2b03a" prefix=" " category="inline-code"></block> como<block ref="c9d280b28993d1d105c3fbafb5868a15" prefix=" " category="inline-code"></block>:</block>
  <block id="6531f27ba87f15c54cdf44dcb7ef3273" category="summary">Um back-end define a relação entre o Trident e um sistema de storage. Ele informa à Trident como se comunicar com esse sistema de storage e como o Trident deve provisionar volumes a partir dele. Após a instalação do Trident, a próxima etapa é criar um backend. A<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> Definição de recursos personalizada (CRD) permite criar e gerenciar backends Trident diretamente por meio da interface do Kubernetes. Para fazer isso, use<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> ou a ferramenta CLI equivalente para sua distribuição do Kubernetes.</block>
  <block id="672d26386c125fcd3bc8d1c008758043" category="paragraph"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block><block ref="11c73f5ef965e27ad7f2162c6d862d00" prefix="(" category="inline-code"></block> <block ref="f049287d4b5e8c2771cd45ad40d6bbd0" prefix=" " category="inline-code"></block>, ,<block ref="e4f7bfc35d74ab4136d16191494e7ceb" prefix=" " category="inline-code"></block>) É um CRD com namespaces e frontend que permite gerenciar backends Trident usando<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>o . Agora, os administradores de storage e Kubernetes podem criar e gerenciar back-ends diretamente pela CLI do Kubernetes sem exigir um utilitário de linha de comando dedicado <block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="(" category="inline-code"></block>).</block>
  <block id="b7bd3d795dd544bcf8b44a16fc1ddab8" category="list-text">Um back-end é criado automaticamente pelo Trident com base na configuração que você fornece. Isto é representado internamente como um<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block> <block ref="ebf1bd0254e733981928851df08fca08" prefix="(" category="inline-code"></block>,<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block> ) CR.</block>
  <block id="96cf9ab1c0acdca2aa54ed2c55a7e95d" category="list-text">O<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> é exclusivamente vinculado a um<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block> que foi criado por Trident.</block>
  <block id="17858cf125217a7fe7239b3271b587af" category="admonition"><block ref="d2eac341e6076c7146e5b2598b973d94" prefix="" category="inline-code"></block> Os CRS são criados automaticamente pelo Trident. Você *não deve* modificá-los. Se você quiser fazer atualizações para backends, faça isso modificando o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto.</block>
  <block id="d2605b6821beb27d0e7001414ade9773" category="admonition">Backends que foram criados com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> não têm um objeto associado<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>. Você pode optar por gerenciar esses backends<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> criando um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR. Deve-se ter cuidado para especificar parâmetros de configuração idênticos (como<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block> , ,<block ref="670f8a39d00195ce172543b2794c522b" prefix=" " category="inline-code"></block>,<block ref="4f361a1568cc7e740f7642f6f59e2fe0" prefix=" " category="inline-code"></block> e assim por diante). O Trident vinculará automaticamente o recém-criado<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> com o back-end pré-existente.</block>
  <block id="b681f7c062097827d9374fb7ef922a12" category="list-text">Criar um<block ref="fcce7b7bd05b6b012eabe3df8de04808" category="inline-link-rx"></block>. o segredo contém as credenciais que o Trident precisa para se comunicar com o cluster/serviço de storage.</block>
  <block id="2836a99ecae06907e08eb3b9502d45d6" category="list-text">Se não existirem declarações de volume persistentes (PVCs) no back-end, a exclusão do resultará na exclusão do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> Trident do back-end, bem como do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR.</block>
  <block id="7ddc4cac10b03b42fc0ff0fc7e00789f" category="list-text"><block ref="88183b946cc5f0e8c96b2e66e1c74a7e" prefix="" category="inline-code"></block>: O Trident não consegue determinar o estado ou a existência do back-end associado ao<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR. Por exemplo, se o servidor de API não estiver respondendo ou se o<block ref="5f829d3562952527064a5c553cd09189" prefix=" " category="inline-code"></block> CRD estiver ausente. Isso pode exigir intervenção.</block>
  <block id="5c3139ae9ab5d818511e9d321e73fece" category="paragraph"><block ref="5a5abb2eaa9c440d605c2a659dd2079f" prefix="" category="inline-code"></block> Contém o<block ref="a3d5885ebdbdbb3f39c48e483cc04978" prefix=" " category="inline-code"></block> e o<block ref="17b686c7edfa8cfaa60e094e4592491f" prefix=" " category="inline-code"></block> do back-end criado em resposta ao<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR. O<block ref="8d625027763e2e062eb5f57c8518040d" prefix=" " category="inline-code"></block> campo representa o status da última operação do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR, que pode ser acionada pelo usuário (por exemplo, o usuário mudou algo no<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>) ou acionado pelo Trident (por exemplo, durante reinicializações do Trident). Pode ser sucesso ou falhou.<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block> Representa o status da relação entre o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR e o back-end. No exemplo acima,<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block> tem o valor vinculado, o que significa que o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR está associado ao back-end.</block>
  <block id="cd9b0eee685820fd4ee1b3c0bea5cfb5" category="paragraph">Ao excluir um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>, você instrui o Trident a excluir/reter backends (com base<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> no ). Para excluir um back-end, certifique-se de que<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> está definido para excluir. Para eliminar apenas o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>, certifique-se de que<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> está definido como reter. Isso garante que o backend ainda esteja presente e possa ser gerenciado usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="5f39834a6f39c7539a5edeb4e8f3ea48" category="paragraph">O Trident não exclui os segredos do Kubernetes que estavam em uso<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> pelo . O usuário do Kubernetes é responsável pela limpeza de segredos. Cuidado deve ser tomado ao excluir segredos. Você deve excluir segredos somente se eles não estiverem em uso pelos backends.</block>
  <block id="63f9a789e1c077aab804a2a5c20f1419" category="list-text">As credenciais para o sistema de storage foram alteradas. Para atualizar as credenciais, o segredo do Kubernetes que é usado no<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto deve ser atualizado. O Trident atualizará automaticamente o back-end com as credenciais mais recentes fornecidas. Execute o seguinte comando para atualizar o segredo do Kubernetes:</block>
  <block id="4f3ff24da375936278cfeceb396c61dd" category="paragraph">Para excluir um back-end do Trident, faça o seguinte:</block>
  <block id="734b51d6b10d22bfb052a1b8e8a9bc56" category="summary">Saiba mais sobre as diferentes maneiras de gerenciar backends no Trident.</block>
  <block id="e0b4d05f7fb24e9606ae02b176974698" category="paragraph">Em ambos os cenários, os backends continuarão a estar presentes, com o Trident agendando volumes e operando neles. Os administradores têm uma das duas opções aqui:</block>
  <block id="1abff208034794e09bab3e34ad393f6c" category="list-text">Crie um segredo do Kubernetes. O segredo contém as credenciais que a Trident precisa para se comunicar com o cluster/serviço de storage.</block>
  <block id="76d558fd5aada70a89c3e865ca420a68" category="paragraph">Vamos dar uma olhada no valor<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> de . Isso precisa ser definido como<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>. Isso garante que quando um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR é excluído, a definição de back-end ainda estará presente e pode ser gerenciada com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="112121684d9357cc8fb46c6007457443" category="paragraph">Após a exclusão<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> do objeto, o Trident simplesmente o remove sem realmente excluir o próprio backend.</block>
  <block id="81feffd6e3f1dfe7d96f93bb83a3576f" category="paragraph">O Trident oferece automaticamente pools de storage de back-ends que atendem aos requisitos definidos por uma classe de storage. Saiba como configurar o back-end para o seu sistema de armazenamento.</block>
  <block id="982a76bd7422f8b1ee773545fc01ea11" category="inline-link-macro">Use o Trident com o Amazon FSX para NetApp ONTAP</block>
  <block id="729d88792170d42963cf63b9e9606321" category="list-text"><block ref="729d88792170d42963cf63b9e9606321" category="inline-link-macro-rx"></block></block>
  <block id="68a131c3971c1c8532edfb16be1b2903" category="summary">Você pode projetar um arquivo Kubernetes StorageClass e criar o StorageClass para instruir o Trident a provisionar volumes.</block>
  <block id="e093f3bc5e5c7d5965cb1bf67aeee4c6" category="paragraph">Configure um objeto Kubernetes StorageClass e crie a classe de storage para instruir o Trident a provisionar volumes.</block>
  <block id="cc11289855049780fd7db136e693d82e" category="paragraph">O<block ref="da3f7f170e13df7f56e057fc4226aa85" category="inline-link-rx"></block> identifica o Trident como o provisionador usado para essa classe e instrui o Trident a provisionar um volume. Por exemplo:</block>
  <block id="cfcd78d3f3ec6bdd1da5051dc5fbad51" category="paragraph"><block ref="879ce943b486ecaae1c4cb96b01133e9" category="inline-link-macro-rx"></block>Consulte para obter detalhes sobre como as classes de armazenamento interagem com os<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> parâmetros e para controlar como o Trident provisiona volumes.</block>
  <block id="060364df9713326935c57a6702c9084c" category="list-text">Agora você deve ver uma classe de armazenamento *Basic-csi* no Kubernetes e no Trident, e o Trident deve ter descoberto os pools no back-end.</block>
  <block id="45ae9b184f3067c00f4a660edac67a17" category="paragraph">O Trident fornece<block ref="78512e06e40b1d6e7b22821168623dd6" category="inline-link-rx"></block>.</block>
  <block id="689375d73a0e73673da4e52a37631d4d" category="summary">O Trident pode criar e anexar volumes seletivamente a nós presentes em um cluster do Kubernetes, fazendo uso do recurso topologia de CSI.</block>
  <block id="f9ee522bc68b30b3de2c706b1e656ea6" category="paragraph">O Trident pode criar e anexar volumes seletivamente a nós presentes em um cluster do Kubernetes, utilizando o<block ref="80b9a4f4a1bc9851317207ee3477041a" category="inline-link-rx"></block>.</block>
  <block id="fad4fe0757704f7cfbc0d68602a1a58b" category="paragraph">Usando o recurso de topologia de CSI, o acesso a volumes pode ser limitado a um subconjunto de nós, com base em regiões e zonas de disponibilidade. Hoje em dia, os provedores de nuvem permitem que os administradores do Kubernetes gerem nós baseados em zonas. Os nós podem ser localizados em diferentes zonas de disponibilidade dentro de uma região ou em várias regiões. Para facilitar o provisionamento de volumes para workloads em uma arquitetura de várias zonas, o Trident usa a topologia de CSI.</block>
  <block id="c7c66bdbe6c90a256243cb5346a324a5" category="list-text">Com<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block> definido como<block ref="43f6615bbb2c40a5306ff804094420b1" prefix=" " category="inline-code"></block>, o Trident cria o volume sem qualquer reconhecimento de topologia. A vinculação de volume e o provisionamento dinâmico são tratados quando o PVC é criado. Esse é o padrão<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block> e é adequado para clusters que não impõem restrições de topologia. Os volumes persistentes são criados sem depender dos requisitos de agendamento do pod solicitante.</block>
  <block id="e60c9ae411010a64108db4f1b8d793be" category="list-text">Os nós no cluster devem ter rótulos que introduzam reconhecimento da topologia <block ref="e1ff98cb39abe026da77d207e1fd46de" prefix="(" category="inline-code"></block>e<block ref="c4d11894a6687c3a84f5daeda7154443" prefix=" " category="inline-code"></block>). Esses rótulos *devem estar presentes nos nós no cluster* antes que o Trident seja instalado para que o Trident esteja ciente da topologia.</block>
  <block id="6110b46939d65cd5339476bd5fdbe7df" category="paragraph">Os back-ends de storage do Trident podem ser projetados para provisionar volumes seletivamente de acordo com as zonas de disponibilidade. Cada back-end pode transportar um bloco opcional<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block> que representa uma lista de zonas e regiões com suporte. Para o StorageClasses que fazem uso de tal back-end, um volume só seria criado se solicitado por um aplicativo agendado em uma região/zona suportada.</block>
  <block id="db432089fc07064a10ae6334c0db7e97" category="admonition"><block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix="" category="inline-code"></block> é usado para fornecer uma lista de regiões e zonas por backend. Essas regiões e zonas representam a lista de valores permitidos que podem ser fornecidos em um StorageClass. Para os StorageClasses que contêm um subconjunto das regiões e zonas fornecidas em um back-end, o Trident cria um volume no back-end.</block>
  <block id="f8d5cb4864ad5d339fb567af550ff371" category="paragraph">Na definição StorageClass fornecida acima,<block ref="086b513e7d83c4cf32a8bd3550679276" prefix=" " category="inline-code"></block> está definida como<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>. Os PVCs solicitados com este StorageClass não serão utilizados até que sejam referenciados em um pod. E,<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block> fornece as zonas e a região a serem usadas. O<block ref="a88a8ddf9fecacf26383a3c60dc3e5fb" prefix=" " category="inline-code"></block> StorageClass cria PVCs no<block ref="e3ed370204229201f6df345a5a590519" prefix=" " category="inline-code"></block> back-end definido acima.</block>
  <block id="48dec026afe488df8faca35c5c3a39ea" category="summary">Saiba mais sobre como criar e usar um backend Element com a instalação do Trident.</block>
  <block id="e3bf4f4da0c5a0a22b37a23b20b2789f" category="paragraph">Saiba como criar e usar um backend Element com a instalação do Trident.</block>
  <block id="55d12319f030354c3d3da130783340d4" category="paragraph">O Trident fornece ao<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> controlador de armazenamento a comunicação com o cluster. Os modos de acesso suportados são: _ReadWriteOnce_ (RWO), _ReadOnlyMuy_ (ROX), _ReadWriteMany_ (RWX), _ReadWriteOncePod_ (RWOP).</block>
  <block id="d332cf1f1b1ca6601e95859b9d3b2434" category="paragraph">O<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver de armazenamento suporta os modos de volume _file_ e _block_. Para o<block ref="ac52cf637478f3656a1fdee5c02324fd" prefix=" " category="inline-code"></block> volumeMode, o Trident cria um volume e cria um sistema de arquivos. O tipo de sistema de arquivos é especificado pelo StorageClass.</block>
  <block id="36f37bb9b250ed1fab33dfdced302bec" category="cell">Use CHAP para autenticar iSCSI. Trident usa CHAP.</block>
  <block id="626a366c19963bb80ca04337415711f5" category="paragraph">O Trident copia rótulos presentes em um pool de storage para a LUN de storage de back-end no provisionamento. Por conveniência, os administradores de storage podem definir rótulos por pool virtual e volumes de grupo por rótulo.</block>
  <block id="6b414187e193a000944e395beb010938" category="paragraph">O primeiro StorageClass ) <block ref="166028d9a95f5465a6ae917e6e089ce6" prefix="(" category="inline-code"></block>será mapeado para o primeiro pool virtual. Este é o único pool que oferece desempenho de ouro com um<block ref="89bf6c97f9a3eaea76c86df0086361bc" prefix=" " category="inline-code"></block> de ouro. O último StorageClass ) <block ref="b4457b3eeca98cadb51648f8fcef36cb" prefix="(" category="inline-code"></block>chama qualquer pool de armazenamento que ofereça um desempenho prateado. O Trident decidirá qual pool virtual é selecionado e garante que o requisito de armazenamento seja atendido.</block>
  <block id="4f50ef2995c3caa2284d837d375e4db0" category="cell">O Trident cria volumes de GCNV. Ao criar clusters de Kubernetes entre regiões, os volumes criados em a<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> podem ser usados em workloads programados em nós em várias regiões do Google Cloud. O tráfego entre regiões incorre em um custo adicional.</block>
  <block id="827683b582e1abfa2478a23d65a88a1f" category="cell">Representa uma lista de regiões e zonas que são suportadas por este backend. Para obter mais informações, <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>consulte . Por exemplo:<block ref="1e97fdca2db62120d99c87c9fad7ac06" prefix=" " category="inline-code"></block></block>
  <block id="9f857ec3fcdcb6ffcc762e0be5004aa2" category="paragraph">Esta é a configuração mínima absoluta de back-end. Com essa configuração, o Trident descobre todos os pools de armazenamento delegados ao Google Cloud NetApp volumes no local configurado e coloca novos volumes aleatoriamente em um desses pools. Como<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block> é omitido, o<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> padrão se aplica e o back-end provisionará para volumes NFS.</block>
  <block id="ec0fec1613e760b6689b9fb4990bdb46" category="inline-link-macro">Crie uma chave de conta de serviço</block>
  <block id="704f74ac9dc2a2a60c73df6b9d8a9eff" category="list-text">Arquivo de chave de API para sua conta GCNV. Consulte <block ref="068ee9c4fdcce4c0fd131a7dd8fe524f" category="inline-link-macro-rx"></block></block>
  <block id="6db42dae8341edee9e823963baa82d9d" category="paragraph">O Trident fornece ao<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block> controlador para comunicar com o cluster. Os modos de acesso suportados são: _ReadWriteOnce_ (RWO), _ReadOnlyMuy_ (ROX), _ReadWriteMany_ (RWX), _ReadWriteOncePod_ (RWOP).</block>
  <block id="dd0d8a6eeca2940c60cd0ac812afed1d" category="paragraph">O Cloud Identity permite que os pods do Kubernetes acessem os recursos do Google Cloud autenticando como uma identidade de workload em vez de fornecer credenciais explícitas do Google Cloud.</block>
  <block id="299b031aaa6fc8a06127791cf12decf9" category="paragraph">Para aproveitar a identidade da nuvem no Google Cloud, você deve ter:</block>
  <block id="df181b0b41273ec7065dab05b4a6da10" category="list-text">Um cluster do Kubernetes implantado usando o GKE.</block>
  <block id="ff87a1c47933f4d6895655dd61ad9d5c" category="summary">Saiba como configurar o Cloud Volumes Service para o Google Cloud como o back-end para sua instalação do Trident usando as configurações de exemplo fornecidas.</block>
  <block id="6385dfeab6eb1cdf5e0b269b83c02870" category="paragraph">Saiba como configurar o NetApp Cloud Volumes Service para o Google Cloud como o back-end para sua instalação do Trident usando as configurações de exemplo fornecidas.</block>
  <block id="f501f5f541b4e828bada7eb37751ec96" category="paragraph">O Trident fornece ao<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> controlador para comunicar com o cluster. Os modos de acesso suportados são: _ReadWriteOnce_ (RWO), _ReadOnlyMuy_ (ROX), _ReadWriteMany_ (RWX), _ReadWriteOncePod_ (RWOP).</block>
  <block id="bc3c06062e58c58165fa787186ae374c" category="section-title">Saiba mais sobre o suporte do Trident para o Cloud Volumes Service</block>
  <block id="fe7058df6a1b56e94957ef68f8ddf955" category="paragraph">O Trident pode criar volumes Cloud Volumes Service em um de dois <block ref="a3cd55e5a9ff014b76f6953040234c24" category="inline-link-macro-rx"></block>:</block>
  <block id="48cbfcdcce7c2c2d2876ce5a2c74ea32" category="list-text">*CVS-Performance*: O tipo de serviço Trident padrão. Esse tipo de serviço otimizado para performance é mais adequado para workloads de produção que valorizam a performance. O tipo de serviço CVS-Performance é uma opção de hardware que suporta volumes com um tamanho mínimo de 100 GiB. Você pode escolher um dos <block ref="87d12cea36129673eb9128fd986958c5" category="inline-link-macro-rx"></block>:</block>
  <block id="d75d4a2bd644e06cc6588477267e33d8" category="cell">Parâmetro opcional usado para especificar o tipo de serviço CVS. <block ref="f9fa10ba956cacf91d7878861139efb9" prefix=" " category="inline-code"></block>Use para selecionar o tipo de serviço CVS. Caso contrário, o Trident assume o tipo de serviço CVS-Performance <block ref="3ca14c518d1bf901acc339e7c9cd6d7f" prefix="(" category="inline-code"></block>).</block>
  <block id="dc7c0c7001706c97a9a03d5f77e6883e" category="cell">A região do Google Cloud onde o Trident cria o Cloud Volumes Service volumes. Ao criar clusters de Kubernetes entre regiões, os volumes criados em um<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> podem ser usados em workloads programados em nós em várias regiões do Google Cloud. O tráfego entre regiões incorre em um custo adicional.</block>
  <block id="7630c5d33e3b852f758af8c20c4caefb" category="list-text">O último StorageClass ) <block ref="92c87bc6be7db462499a5a2258aa7ba9" prefix="(" category="inline-code"></block>chama qualquer pool de armazenamento que forneça uma reserva de snapshot de 10%. O Trident decide qual pool virtual é selecionado e garante que o requisito de reserva de snapshot seja atendido.</block>
  <block id="ab10f4a91ef779d380fca281ef9df578" category="list-text">Para exibir as classes de armazenamento sincronizadas do Trident, execute o seguinte comando:</block>
  <block id="0953527d940d16d1979f49a4ac5bc746" category="list-text">Para exibir os detalhes da classe de armazenamento sincronizado do Trident, execute o seguinte comando:</block>
  <block id="a78b12e067ec1975a317cab6fc947692" category="paragraph">Este é um exemplo do tipo de perguntas que você pode responder com o JSON que<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> produz para objetos backend do Trident. Isso usa o<block ref="d8757fb4e9ea07606d23a1ef5a4b8d4e" prefix=" " category="inline-code"></block> utilitário, que você pode precisar instalar primeiro.</block>
  <block id="2538c9a2100f674ce2db1e4b4c26315f" category="paragraph">Todos os volumes persistentes criados com essa classe de storage permanecerão intocados, e o Trident continuará gerenciando-os.</block>
  <block id="ad882e33b96ca33000804dbc738d1d50" category="admonition">O Trident impõe um espaço em branco<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> para os volumes que cria. Para backends iSCSI, recomenda-se aplicar<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block> no StorageClass. Você deve excluir StorageClasses existentes e recriá-los com<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block> especificado.</block>
  <block id="0c2d4b956840e91a5026f299d11e6b2a" category="summary">O Trident fornece um conjunto de endpoints de métricas Prometheus que você pode usar para monitorar o desempenho do Trident.</block>
  <block id="f3bf54ffbc2b1eef233e6a26009af940" category="doc">Monitore o Trident</block>
  <block id="023417a8020b969b0bbe5cc6cf816d22" category="paragraph">O Trident fornece um conjunto de endpoints de métricas Prometheus que você pode usar para monitorar o desempenho do Trident.</block>
  <block id="5e65c891836aee4c311dc1e3dcbd072f" category="paragraph">As métricas fornecidas pelo Trident permitem que você faça o seguinte:</block>
  <block id="35ada9c61125e74058c883f83c6c6867" category="list-text">Mantenha o controle sobre a integridade e a configuração do Trident. Você pode examinar como as operações são bem-sucedidas e se elas podem se comunicar com os backends como esperado.</block>
  <block id="35ff0baf577051daffe0a27ab0d03c9e" category="list-text">Acompanhe o desempenho. Você pode dar uma olhada em quanto tempo leva para o Trident se comunicar com backends e realizar operações.</block>
  <block id="cb9109c9018f4c25d0545bac0f21176f" category="list-text">Um cluster do Kubernetes com o Trident instalado.</block>
  <block id="67cc72b550d17849cb7141b0b95aea77" category="paragraph">Você deve definir um alvo Prometheus para reunir as métricas e obter informações sobre os backends que o Trident gerencia, os volumes que ele cria e assim por diante. <block ref="dc7964965bf1b3af43b28caf6231e550" category="inline-link-rx"></block>Isso explica como você pode usar Prometheus e Grafana com Trident para recuperar métricas. O blog explica como você pode executar o Prometheus como um operador no cluster do Kubernetes e a criação de um ServiceMonitor para obter métricas do Trident.</block>
  <block id="a36c5d8fdf28501b60d84fa4b009f7c9" category="paragraph">Essa definição do ServiceMonitor recupera as métricas retornadas pelo<block ref="d9585690fd147c34fbd50c487a3520de" prefix=" " category="inline-code"></block> serviço e procura especificamente o<block ref="aa59d67c2123f094d0d6798ffe651c4d" prefix=" " category="inline-code"></block> ponto final do serviço. Como resultado, Prometheus agora está configurado para entender as métricas do Trident.</block>
  <block id="b25be1046c4629be0262d9873a147d96" category="paragraph">Além das métricas disponíveis diretamente do Trident, o kubelet expõe muitas<block ref="f706c2d1cef9479098166eec3d215483" prefix=" " category="inline-code"></block> métricas por meio do seu próprio ponto de extremidade de métricas. O Kubelet pode fornecer informações sobre os volumes anexados e pods e outras operações internas que ele manipula. Consulte a<block ref="3f1f0977d0df3e8b343e403140284021" category="inline-link-rx"></block>.</block>
  <block id="0665ea39a4ca4388763b36eda9a3986d" category="list-text">**Porcentagem de respostas HTTP 2XX do Trident**</block>
  <block id="26cd09e35e7d03c2f93f8d6a691c8567" category="list-text">**Porcentagem de respostas REST do Trident via código de status**</block>
  <block id="5919ab2f7a44a6b3f0a6741f7b0f3f86" category="list-text">** Duração média em ms das operações realizadas pela Trident**</block>
  <block id="57421d698299c713c3afb841620271d8" category="section-title">Obtenha informações de uso do Trident</block>
  <block id="3ed8ff2d40a8a68841cd7d548c47f079" category="section-title">Saiba mais sobre telemetria Trident AutoSupport</block>
  <block id="b5fb620a79591716feab3605e0045775" category="paragraph">Por padrão, o Trident envia métricas de Prometheus e informações básicas de back-end para o NetApp em uma cadência diária.</block>
  <block id="41cc8a517566946bcfd42776583c2946" category="list-text">Para impedir que o Trident envie métricas do Prometheus e informações básicas de back-end para o NetApp, passe a<block ref="284e51f7c35ac8708577507873ff928e" prefix=" " category="inline-code"></block> bandeira durante a instalação do Trident.</block>
  <block id="2293c34fd6ddef40c9c9ecb540c27898" category="list-text">O Trident também pode enviar Registros de contentores para o suporte da NetApp sob demanda por meio<block ref="8cf945b97dde0c7bfc643bea7edbff67" prefix=" " category="inline-code"></block>do . Você precisará acionar o Trident para fazer o upload dos seus logs. Antes de enviar logs, você deve aceitar o NetApp'<block ref="91b6c0438017ba5fa21c286a96d5acb4" category="inline-link-rx"></block>s .</block>
  <block id="517af010cc9f1850ec10fc55631d3437" category="list-text">A menos que especificado, o Trident obtém os logs das últimas 24 horas.</block>
  <block id="cc368c6d3d859a01a63550429f01cb9c" category="list-text">Você pode especificar o período de tempo de retenção do log com o<block ref="86339c2ed773d5bd944b82d3086d3477" prefix=" " category="inline-code"></block> sinalizador. Por exemplo<block ref="e238339d491d4840f7d8e509bdbb7b63" prefix=" " category="inline-code"></block>: . Essas informações são coletadas e enviadas por meio de um<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block> contentor que é instalado ao lado do Trident. Pode obter a imagem do contentor em<block ref="1b00454f0ab35dcec2ee1a0061efc6e5" category="inline-link-rx"></block>.</block>
  <block id="b508f8888445cd57bcf910ed51afb0dd" category="paragraph">Um exemplo de payload enviado pela Trident é assim:</block>
  <block id="19398926f4bb3de321ccfc2488d606dd" category="section-title">Desativar métricas do Trident</block>
  <block id="053cd9e68cf6c155e5b93616bc7e3e32" category="summary">Saiba como criar e usar drivers ONTAP nas com a instalação do Trident. Esta seção fornece exemplos de configuração de back-end e detalhes sobre como mapear backends para StorageClasses.</block>
  <block id="6603621fd665e289ada4dbb1dcc5835c" category="paragraph">Aprenda a criar e usar drivers ONTAP nas com sua instalação do Trident. Esta seção fornece exemplos de configuração de back-end e detalhes para mapear backends para StorageClasses.</block>
  <block id="c31c728d8c1e31b350486f8db0ebd5df" category="cell">Endereço IP de um cluster ou LIF de gerenciamento de SVM Um nome de domínio totalmente qualificado (FQDN) pode ser especificado. Pode ser definido para usar endereços IPv6 se o Trident tiver sido instalado usando o sinalizador IPv6. Os endereços IPv6 devem ser definidos entre colchetes, como<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block> . Para o switchover MetroCluster otimizado, consulte o <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>.</block>
  <block id="5b487539b64483311ed87290e717353a" category="cell">Ativar a criação e atualização automática da política de exportação [Boolean]. Usando as<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> opções e<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>, o Trident pode gerenciar políticas de exportação automaticamente.</block>
  <block id="aeeba745624a2ddc45043c3be805561e" category="cell">Lista de CIDR para filtrar IPs de nós do Kubernetes quando<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> está ativado. Usando as<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> opções e<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>, o Trident pode gerenciar políticas de exportação automaticamente.</block>
  <block id="0b74b16550d48484341fc52ad7af0c7d" category="paragraph">Agregado para provisionamento (opcional; se definido, deve ser atribuído ao SVM). Para<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> o driver, essa opção é ignorada. Se não for atribuído, qualquer um dos agregados disponíveis poderá ser usado para provisionar um volume FlexGroup.</block>
  <block id="f01b478814d1117e017539a48474a29d" category="admonition">Quando o agregado é atualizado no SVM, ele é atualizado automaticamente no Trident polling SVM sem ter que reiniciar a controladora Trident. Quando você tiver configurado um agregado específico no Trident para provisionar volumes, se o agregado for renomeado ou movido para fora do SVM, o back-end mudará para o estado com falha no Trident durante a pesquisa do agregado SVM. Você precisa alterar o agregado para um que esteja presente no SVM ou removê-lo completamente para colocar o back-end on-line.</block>
  <block id="9b791871c2696d3b7bc8c95a1d487b58" category="cell">FlexgroupAggregateList</block>
  <block id="77a0d40a429011d223a093dd3cf8713e" category="paragraph">Lista de agregados para provisionamento (opcional; se definida, deve ser atribuída ao SVM). Todos os agregados atribuídos ao SVM são usados para provisionar um volume FlexGroup. Suportado para o driver de armazenamento *ONTAP-nas-FlexGroup*.</block>
  <block id="dbe23b2e968cff9eb3692844d1e75516" category="admonition">Quando a lista de agregados é atualizada no SVM, a lista é atualizada automaticamente no Trident polling SVM sem ter que reiniciar o controlador Trident. Quando você tiver configurado uma lista de agregados específica no Trident para provisionar volumes, se a lista de agregados for renomeada ou movida para fora do SVM, o back-end passará para o estado com falha no Trident durante a consulta do agregado SVM. Você precisa alterar a lista de agregados para uma que esteja presente no SVM ou removê-la completamente para colocar o back-end on-line.</block>
  <block id="5160493063ea2e4f1b1a6e3b951b0a53" category="cell">Lista separada por vírgulas de opções de montagem NFS. As opções de montagem para volumes persistentes do Kubernetes normalmente são especificadas em classes de armazenamento, mas se nenhuma opção de montagem for especificada em uma classe de armazenamento, o Trident voltará a usar as opções de montagem especificadas no arquivo de configuração do back-end de armazenamento. Se nenhuma opção de montagem for especificada na classe de armazenamento ou no arquivo de configuração, o Trident não definirá nenhuma opção de montagem em um volume persistente associado.</block>
  <block id="8f0dd7b65e6130f3f55d984ebc34bbdb" category="cell">Você pode especificar uma das seguintes opções: O nome de um compartilhamento SMB criado usando o Console de Gerenciamento da Microsoft ou a CLI do ONTAP; um nome para permitir que o Trident crie o compartilhamento SMB; ou você pode deixar o parâmetro em branco para impedir o acesso comum ao compartilhamento a volumes. Esse parâmetro é opcional para o ONTAP no local. Esse parâmetro é necessário para backends do Amazon FSX for ONTAP e não pode ficar em branco.</block>
  <block id="760f7a1b05bc9d3d50c534dc491c07d4" category="cell">Ative a criptografia de volume do NetApp (NVE) no novo volume; o padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>. O NVE deve ser licenciado e habilitado no cluster para usar essa opção. Se NAE estiver ativado no back-end, qualquer volume provisionado no Trident será NAE habilitado. Para obter mais informações, consulte: <block ref="5113a2fb1642ecd23870711ba25c4ad7" category="inline-link-macro-rx"></block>.</block>
  <block id="9cae9ee80bd5bcfdc5aefb0ffdbdf25b" category="admonition">O uso de grupos de política de QoS com Trident requer o ONTAP 9.8 ou posterior. Você deve usar um grupo de políticas de QoS não compartilhado e garantir que o grupo de políticas seja aplicado individualmente a cada componente. Um grupo de políticas de QoS compartilhado impõe o limite máximo da taxa de transferência total de todos os workloads.</block>
  <block id="04475efebba67943de12a2269d2e0a7b" category="paragraph">Este exemplo mostra como você pode instruir o Trident a usar políticas de exportação dinâmicas para criar e gerenciar a política de exportação automaticamente. Isso funciona da mesma forma para os<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> drivers e<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>.</block>
  <block id="917b750655d8fd1d6c961e661535fa99" category="paragraph">O Trident define rótulos de provisionamento no campo "Comentários". Os comentários são definidos no FlexVol for<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ou no FlexGroup<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> for . O Trident copia todas as etiquetas presentes em um pool virtual para o volume de storage no provisionamento. Por conveniência, os administradores de storage podem definir rótulos por pool virtual e volumes de grupo por rótulo.</block>
  <block id="fb66862ac33cf61ecc10382c3a42dee3" category="paragraph">O Trident decidirá qual pool virtual é selecionado e garante que o requisito de armazenamento seja atendido.</block>
  <block id="3791349e449ca2bc9a8b7b7ed4c843de" category="list-text">O Trident dá suporte a volumes SMB montados em pods executados apenas em nós do Windows. <block ref="688177e6b45c5d27a545463079c58d82" category="inline-xref-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="bef1bdf06ff1fb19147e51880974a6c5" category="paragraph">O Trident oferece dois modos de autenticar um back-end do ONTAP.</block>
  <block id="c3ac6347a688cffd729947263e3387fb" category="list-text">Baseado em certificado: Este modo requer um certificado instalado no back-end para que o Trident se comunique com um cluster ONTAP. Aqui, a definição de back-end deve conter valores codificados em Base64 do certificado de cliente, chave e certificado de CA confiável, se usado (recomendado).</block>
  <block id="3dcd67bbe9a272b52d3d7a0b30220f72" category="paragraph">O Trident requer as credenciais para um administrador com escopo SVM/escopo de cluster para se comunicar com o back-end do ONTAP. Recomenda-se a utilização de funções padrão predefinidas, como<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> ou<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>. Isso garante compatibilidade direta com futuras versões do ONTAP que podem expor APIs de recursos a serem usadas por futuras versões do Trident. Uma função de login de segurança personalizada pode ser criada e usada com o Trident, mas não é recomendada.</block>
  <block id="9cce0e23fbc00d5ef4aa8264a88e346a" category="paragraph">A atualização de um back-end não interrompe o acesso a volumes que já foram criados, nem afeta as conexões de volume feitas depois. Uma atualização de back-end bem-sucedida indica que o Trident pode se comunicar com o back-end do ONTAP e lidar com operações de volume futuras.</block>
  <block id="1d67220b5084f7489e1a078d7ce093c3" category="section-title">Crie uma função ONTAP personalizada para o Trident</block>
  <block id="9284d31490691a3e4c3cb7c3fa6bdb30" category="paragraph">O Trident usa políticas de exportação de NFS para controlar o acesso aos volumes provisionados.</block>
  <block id="911e36a0e95c6a8cd786e86a3fcc313a" category="paragraph">O Trident fornece duas opções ao trabalhar com políticas de exportação:</block>
  <block id="5dc1a99b61ad0584100fea35d3c77e2d" category="list-text">O Trident pode gerenciar dinamicamente a própria política de exportação; nesse modo de operação, o administrador de armazenamento especifica uma lista de blocos CIDR que representam endereços IP admissíveis. O Trident adiciona IPs de nós aplicáveis que se enquadram nesses intervalos à política de exportação automaticamente no momento da publicação. Como alternativa, quando nenhum CIDR é especificado, todos os IPs unicast de escopo global encontrados no nó para o qual o volume será publicado serão adicionados à política de exportação.</block>
  <block id="d6f1d6cb064a0fa1dad0c21c9e750994" category="list-text">Os administradores de storage podem criar uma política de exportação e adicionar regras manualmente. O Trident usa a política de exportação padrão, a menos que um nome de política de exportação diferente seja especificado na configuração.</block>
  <block id="9391b78a23c85c79820dc84c10db96aa" category="paragraph">O Trident fornece a capacidade de gerenciar dinamicamente políticas de exportação para backends ONTAP. Isso fornece ao administrador de armazenamento a capacidade de especificar um espaço de endereço permitido para IPs de nó de trabalho, em vez de definir regras explícitas manualmente. Ele simplifica muito o gerenciamento de políticas de exportação. As modificações na política de exportação não exigem mais intervenção manual no cluster de storage. Além disso, isso ajuda a restringir o acesso ao cluster de armazenamento somente aos nós de trabalho que estão montando volumes e têm IPs no intervalo especificado, suportando um gerenciamento refinado e automatizado.</block>
  <block id="b1c10dc35d4f2204f84dafbae3a9db72" category="admonition">Ao usar esse recurso, você deve garantir que a junção raiz do SVM tenha uma política de exportação criada anteriormente com uma regra de exportação que permita o bloco CIDR do nó (como a política de exportação padrão). Siga sempre as melhores práticas recomendadas pela NetApp para dedicar um SVM para Trident.</block>
  <block id="be5fcef35e23604f5b0fc183ca7506c7" category="list-text">Back-end UUID 403b5326-8482-40dB-96d0-d83fb3f4daec</block>
  <block id="28dfab96c79abedb70e1d50d710ea98b" category="list-text"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block> defina como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block></block>
  <block id="580cc4344cc0f2e6db295db4ab750199" category="list-text">prefixo de armazenamento<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block></block>
  <block id="281f254b4327225d2f04f74bef468fda" category="list-text">PVC UUID a79bcf5f-7b6d-4a40-9876-e2551f159c1c</block>
  <block id="9f39168351aa064bf4add0614e72cf76" category="list-text">A qtree Trident_pvc_a79bcf5f_7b6d_4a40_9876_e2551f159c1c cria uma política de exportação para o FlexVol<block ref="c39e5727ab9fde433a5c617f19a07adc" prefix=" " category="inline-code"></block> nomeado , uma política de exportação para a qtree<block ref="a9394417b5c3be8334bc253bf0db8df0" prefix=" " category="inline-code"></block> nomeada e uma política de exportação vazia nomeada<block ref="735cc5128643b8de22e29beb94c9ccf4" prefix=" " category="inline-code"></block> na SVM. As regras para a política de exportação do FlexVol serão um superconjunto de quaisquer regras contidas nas políticas de exportação de qtree. A política de exportação vazia será reutilizada por quaisquer volumes que não estejam anexados.</block>
  <block id="1ac483d2832bce598fb016d9eb24a804" category="list-text"><block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix="" category="inline-code"></block> contém uma lista de blocos de endereços. Este campo é opcional e o padrão é ["0,0.0,0/0", "::/0"]. Se não estiver definido, o Trident adiciona todos os endereços unicast de escopo global encontrados nos nós de trabalho com publicações.</block>
  <block id="b2a40ed90888ed4dd5f4dce75ca437a5" category="paragraph">Neste exemplo, o<block ref="f2293842bd9b1febec66e01804867721" prefix=" " category="inline-code"></block> espaço de endereço é fornecido. Isso indica que os IPs de nó do Kubernetes que se enquadram nesse intervalo de endereços com publicações serão adicionados à política de exportação criada pelo Trident. Quando o Trident Registra um nó em que ele é executado, ele recupera os endereços IP do nó e os verifica em relação aos blocos de endereços fornecidos no<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>. no momento da publicação, após filtrar os IPs, o Trident cria as regras de política de exportação para os IPs do cliente para o nó em que está publicando.</block>
  <block id="7bbfd70596d4809b3a59a1d543c64933" category="paragraph">Depois que o Trident cria ou atualiza um backend, você pode verificar o backend usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ou o CRD correspondente<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block>:</block>
  <block id="c21ad3c9d699da710d3d9a10d356f72d" category="paragraph">Quando um nó é removido, o Trident verifica todas as políticas de exportação para remover as regras de acesso correspondentes ao nó. Ao remover esse IP de nó das políticas de exportação de backends gerenciados, o Trident impede montagens fraudulentas, a menos que esse IP seja reutilizado por um novo nó no cluster.</block>
  <block id="560093aa674b397879f076b8f8a64fb1" category="paragraph">Para backends existentes anteriormente, atualizar o backend com<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block> garante que o Trident gerencia as políticas de exportação automaticamente. Isso cria duas novas políticas de exportação nomeadas após o UUID e o nome de qtree do back-end quando elas são necessárias. Os volumes presentes no back-end usarão as políticas de exportação recém-criadas depois que forem desmontadas e montadas novamente.</block>
  <block id="5be86c6240034dbc77f8dad4eae132b0" category="paragraph">Se o endereço IP de um nó ativo for atualizado, você deverá reiniciar o pod Trident no nó. O Trident atualizará então a política de exportação para backends que consegue refletir esta alteração de IP.</block>
  <block id="3c84638211d81849fc9b0b95216d1afa" category="admonition"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block> Não é compatível com volumes SMB.</block>
  <block id="072a79a382792fdaa71cab41d1340dae" category="list-text">Pelo menos um segredo do Trident contendo suas credenciais do ative Directory. Para gerar segredo<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>:</block>
  <block id="f05dd4ff0ba35f59e465466148e57015" category="list-text">Para o ONTAP no local, você pode criar, opcionalmente, um compartilhamento SMB ou o Trident pode criar um para você.</block>
  <block id="c267535828cc965ba3fe4e10913f7285" category="paragraph">O Trident fornece os seguintes drivers de armazenamento nas para se comunicar com o cluster ONTAP. Os modos de acesso suportados são: _ReadWriteOnce_ (RWO), _ReadOnlyMuy_ (ROX), _ReadWriteMany_ (RWX), _ReadWriteOncePod_ (RWOP).</block>
  <block id="f993941dc62990aa70d883be7a386ea7" category="paragraph">O Trident espera ser executado como administrador do ONTAP ou SVM, normalmente usando o<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> usuário do cluster ou um<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário SVM, ou um usuário com um nome diferente que tenha a mesma função.</block>
  <block id="fed5cc1d933ad528f364a438a22f2465" category="paragraph">Para implantações do Amazon FSX for NetApp ONTAP, o Trident espera ser executado como administrador do ONTAP ou SVM, usando o usuário do cluster<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> ou um<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário SVM, ou um usuário com um nome diferente que tenha a mesma função. O<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> usuário é um substituto limitado para o usuário administrador do cluster.</block>
  <block id="6e82d09aa274380adf21d56aaa3b0413" category="admonition">Se você usar o<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block> parâmetro, as permissões de administrador do cluster serão necessárias. Ao usar o Amazon FSX for NetApp ONTAP com Trident, o<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block> parâmetro não funcionará com as<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> contas de usuário e<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>. A operação de configuração falhará se você especificar este parâmetro.</block>
  <block id="8dbaef294ecadfe828f5bab1ae097d46" category="summary">Saiba mais sobre como criar e usar drivers SAN ONTAP com a instalação do Trident. Esta seção fornece exemplos de configuração de back-end e detalhes sobre como mapear backends para StorageClasses.</block>
  <block id="55fd4fb7ce66d950d3136fb6613ab770" category="paragraph">Saiba como criar e usar drivers SAN ONTAP com a instalação do Trident. Esta seção fornece exemplos de configuração de back-end e detalhes para mapear backends para StorageClasses.</block>
  <block id="c59bb4e25695c195dbaa360d34c9795e" category="cell"><block ref="ef225248e79c14501d51a4941b5ae5d1" prefix="" category="inline-code"></block></block>
  <block id="091b358e8a9ea5e6b1137fbd4c18372f" category="paragraph"><block ref="ef225248e79c14501d51a4941b5ae5d1" prefix=" " category="inline-code"></block>Use para especificar argumentos de linha de comando para o<block ref="899da842f7d2c1db0e3f8c88ad72507f" prefix=" " category="inline-code"></block> comando, que serão aplicados sempre que um volume for formatado. Isto permite-lhe formatar o volume de acordo com as suas preferências. Certifique-se de especificar as formatOptions semelhantes às opções de comando mkfs, excluindo o caminho do dispositivo. Exemplo: "-e nodiscard"</block>
  <block id="18eb1633594b2436e83e73071958b960" category="section-title">Recomendações para o uso de formatOptions</block>
  <block id="d9ec468a8922eca17349404c59b7659c" category="paragraph">A Trident recomenda a seguinte opção para agilizar o processo de formatação:</block>
  <block id="ee8d7eb9cc1e43184ed6a64abb3255f6" category="paragraph">*-e nodiscard:*</block>
  <block id="f1e8c049fa2ad08b8d1a332e2d26163e" category="cell">Grupo de políticas de QoS a atribuir aos volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento/backend. O uso de grupos de política de QoS com Trident requer o ONTAP 9.8 ou posterior. Você deve usar um grupo de políticas de QoS não compartilhado e garantir que o grupo de políticas seja aplicado individualmente a cada componente. Um grupo de políticas de QoS compartilhado impõe o limite máximo da taxa de transferência total de todos os workloads.</block>
  <block id="c598aba0725ffc7663bf0f4db1a3238f" category="cell"><block ref="80fd16da9d17abac4374b362f2e409fe" prefix="" category="inline-code"></block></block>
  <block id="a5b88f2b14a5b0fa1aa2bbed9eb87602" category="cell">Restringe a<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> criação de novos volumes do FlexVol para conter LUNs. Somente Flexvols pré-existentes são usados para provisionar novos PVS.</block>
  <block id="e78c177a9e5dfcf995756c1f03c48529" category="admonition">Para todos os volumes criados usando<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o driver, o Trident adiciona uma capacidade extra de 10% ao FlexVol para acomodar os metadados do LUN. O LUN será provisionado com o tamanho exato que o usuário solicita no PVC. O Trident adiciona 10 por cento ao FlexVol (mostra como tamanho disponível no ONTAP). Os usuários agora terão a capacidade utilizável que solicitaram. Essa alteração também impede que LUNs fiquem somente leitura, a menos que o espaço disponível seja totalmente utilizado. Isto não se aplica à ONTAP-san-economia.</block>
  <block id="2d4fda186ee0e99d76ee82d9cd36b908" category="paragraph">Para backends que definem<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>o , o Trident calcula o tamanho dos volumes da seguinte forma:</block>
  <block id="83e850c97b7044397eba3d214682be5b" category="list-text">Baseado em certificado: O Trident também pode se comunicar com um cluster ONTAP usando um certificado instalado no back-end. Aqui, a definição de back-end deve conter valores codificados em Base64 do certificado de cliente, chave e certificado de CA confiável, se usado (recomendado).</block>
  <block id="14bc1b6d66d79a6242106075078d6a75" category="paragraph">O Trident pode autenticar sessões iSCSI com CHAP bidirecional para os<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> drivers e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>. Isso requer a ativação da<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> opção na definição de backend. Quando definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o Trident configura a segurança do iniciador padrão do SVM para CHAP bidirecional e define o nome de usuário e os segredos do arquivo de back-end. O NetApp recomenda o uso de CHAP bidirecional para autenticar conexões. Veja a seguinte configuração de exemplo:</block>
  <block id="a3101deed09a2c98e2dc3f8d302ef2ec" category="paragraph">Ao definir<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> como verdadeiro, o administrador de armazenamento instrui o Trident a configurar o CHAP no back-end de armazenamento. Isso inclui o seguinte:</block>
  <block id="8a8d93d572194f00b71a710946af762d" category="list-text">Se o tipo de segurança do iniciador padrão da SVM for nenhum (definido por padrão) *e* não houver LUNs pré-existentes no volume, o Trident definirá o tipo de segurança padrão<block ref="9ef2bbb12ff72558472202561a25058d" prefix=" " category="inline-code"></block> e continuará configurando o iniciador CHAP e o nome de usuário e os segredos de destino.</block>
  <block id="1938c188012d6b3e1bb2a8ab1d30ed4b" category="list-text">Se o SVM contiver LUNs, o Trident não ativará o CHAP no SVM. Isso garante que o acesso a LUNs que já estão presentes no SVM não seja restrito.</block>
  <block id="6aee28036e0c3cf4a8792451108bdab1" category="paragraph">Depois que o back-end é criado, o Trident cria um CRD correspondente<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block> e armazena os segredos e nomes de usuário do CHAP como segredos do Kubernetes. Todos os PVS criados pelo Trident neste backend serão montados e anexados através do CHAP.</block>
  <block id="efa0e2d045a35ff3060322078634f115" category="paragraph">As conexões existentes não serão afetadas. Elas continuarão ativas se as credenciais forem atualizadas pelo Trident no SVM. As novas conexões usam as credenciais atualizadas e as conexões existentes continuam ativas. Desconetar e reconetar PVS antigos resultará em eles usando as credenciais atualizadas.</block>
  <block id="b5ab1040103dff58a29ac4bd0e6ce111" category="paragraph">O Trident fornece os seguintes drivers de armazenamento SAN para se comunicar com o cluster ONTAP. Os modos de acesso suportados são: _ReadWriteOnce_ (RWO), _ReadOnlyMuy_ (ROX), _ReadWriteMany_ (RWX), _ReadWriteOncePod_ (RWOP).</block>
  <block id="e5981541c0e608f7fb860a1ba0443a18" category="paragraph">O Trident espera ser executado como administrador do ONTAP ou SVM, normalmente usando o<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> usuário do cluster ou um<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário SVM, ou um usuário com um nome diferente que tenha a mesma função. Para implantações do Amazon FSX for NetApp ONTAP, o Trident espera ser executado como administrador do ONTAP ou SVM, usando o usuário do cluster<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> ou um<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário SVM, ou um usuário com um nome diferente que tenha a mesma função. O<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> usuário é um substituto limitado para o usuário administrador do cluster.</block>
  <block id="03f5e10eafb756dac410015b29a6d0e0" category="paragraph">O Trident dá suporte ao protocolo NVMe (non-volátil Memory Express) usando<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o driver, incluindo:</block>
  <block id="8102a8aaee21f7594331faa6a31ceeb6" category="list-text">Importação de um volume NVMe que foi criado fora do Trident para que seu ciclo de vida possa ser gerenciado pelo Trident</block>
  <block id="54211a2d289b1fa18afc99aab9e27892" category="paragraph">O Trident não suporta:</block>
  <block id="efd6bf14511b7506d1d5a1575d817027" category="cell">Endereço IP de um cluster ou LIF de gerenciamento de SVM Um nome de domínio totalmente qualificado (FQDN) pode ser especificado. Pode ser definido para usar endereços IPv6 se o Trident tiver sido instalado usando o sinalizador IPv6. Os endereços IPv6 devem ser definidos entre colchetes, como [28e8:d9fb:a825:b7bf:69a8:d02f:9e7b:3555].</block>
  <block id="900a97d43b0d89ff1f26477ad38cc3bc" category="cell">*Não especifique para o Amazon FSX for NetApp ONTAP.* O fornecido<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> e<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> não contém as permissões necessárias para recuperar o uso agregado e limitá-lo usando o Trident.</block>
  <block id="df2f5c3ad0d6cdf07a86704a8dfcef06" category="cell">Você pode especificar uma das seguintes opções: O nome de um compartilhamento SMB criado usando o Console de Gerenciamento da Microsoft ou a CLI do ONTAP ou um nome para permitir que o Trident crie o compartilhamento SMB. Esse parâmetro é necessário para backends do Amazon FSX for ONTAP.</block>
  <block id="4f124386f4b1bb06c61bcf1c73aff529" category="cell">Grupo de políticas de QoS a atribuir aos volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento ou backend. O uso de grupos de política de QoS com Trident requer o ONTAP 9.8 ou posterior. Você deve usar um grupo de políticas de QoS não compartilhado e garantir que o grupo de políticas seja aplicado individualmente a cada componente. Um grupo de políticas de QoS compartilhado impõe o limite máximo da taxa de transferência total de todos os workloads.</block>
  <block id="e5bbe1a57bb9d1fa8056d28e0a96a518" category="summary">Usando o Trident com o Amazon FSX for NetApp ONTAP, você pode garantir que os clusters do Kubernetes executados no Amazon Elastic Kubernetes Service (EKS) provisionem volumes persistentes de bloco e arquivo com o respaldo do do ONTAP.</block>
  <block id="a2e4c75efdd834198ec30de5256aa938" category="paragraph">Você pode integrar o Trident com o Amazon FSX for NetApp ONTAP usando os seguintes drivers:</block>
  <block id="b67b129bb636d36f948ca02b68bfa9bc" category="cell">Endereço IP de um cluster ou LIF de gerenciamento de SVM Um nome de domínio totalmente qualificado (FQDN) pode ser especificado. Pode ser definido para usar endereços IPv6 se o Trident tiver sido instalado usando o sinalizador IPv6. Os endereços IPv6 devem ser definidos entre colchetes, como [28e8:d9fb:a825:b7bf:69a8:d02f:9e7b:3555]. Se você fornecer o<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block> sob o<block ref="ac68bbf921d953d1cfab916cb6120864" prefix=" " category="inline-code"></block> campo, não precisará fornecer o<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> porque o Trident recupera as informações do SVM<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> da AWS. Portanto, você deve fornecer credenciais para um usuário sob o SVM (por exemplo: Vsadmin) e o usuário deve ter a<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> função.</block>
  <block id="52934bc714f29a2f1d7b732705cd3bc3" category="list-text">Um cluster do Kubernetes com um nó de controlador Linux e pelo menos um nó de trabalho do Windows que executa o Windows Server 2019. O Trident dá suporte a volumes SMB montados em pods executados apenas em nós do Windows.</block>
  <block id="456166bed74a8ee84892a1778e8485a7" category="section-title">Atributos do Trident</block>
  <block id="0a6a0f274bdb2256373050bb5155f62f" category="paragraph">Você pode integrar o sistema de arquivos do Amazon FSX for NetApp ONTAP ao Trident para garantir que os clusters do Kubernetes executados no Amazon Elastic Kubernetes Service (EKS) possam provisionar volumes persistentes de bloco e arquivo com o respaldo do ONTAP.</block>
  <block id="e22cd0725c5dbd58b894af3d4584607c" category="paragraph">Usando o Trident com o Amazon FSX for NetApp ONTAP, você pode garantir que os clusters do Kubernetes executados no Amazon Elastic Kubernetes Service (EKS) provisionem volumes persistentes de bloco e arquivo com o respaldo do do ONTAP.</block>
  <block id="0ad999be0dea6cdee2afca2bcb6da8b1" category="paragraph">Além <block ref="6004af307fc2eed554c42ebaa4be8446" category="inline-link-macro-rx"></block>do , para integrar o FSX for ONTAP com o Trident, você precisa:</block>
  <block id="6bb2a5c441a4e421f26e835928b68f1f" category="list-text">Os volumes SMB não são compatíveis com o complemento Trident EKS.</block>
  <block id="910bc8aad96dce304454db69330c4c1c" category="list-text">O Trident dá suporte a volumes SMB montados em pods executados apenas em nós do Windows. <block ref="5d9770278862f1ca4af19e761a5fa655" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="3111c4c842496dcfcddb5de6e9f7ec11" category="list-text">Antes do Trident 24,02, os volumes criados nos sistemas de arquivos do Amazon FSX que têm backups automáticos ativados, não puderam ser excluídos pelo Trident. Para evitar esse problema no Trident 24,02 ou posterior, especifique o<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>,<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> AWS , AWS<block ref="9af4d8381781baccb0f915e554f8798d" prefix=" " category="inline-code"></block> e AWS<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block> no arquivo de configuração de back-end do AWS FSX for ONTAP.</block>
  <block id="9f953e6f7a1bf75b24ad7c1f72aeda22" category="admonition">Se você estiver especificando uma função do IAM para o Trident, poderá omitir especificar explicitamente os<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> campos ,<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block> e<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block> para o Trident. Para obter mais informações, <block ref="d3e98810edf44af02b30486ed13bd043" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="7b53d57c2eba03d6610dce9feca9a586" category="paragraph">O Trident oferece dois modos de autenticação.</block>
  <block id="954d503a6b34d7989c109f6cb0bfac8d" category="admonition">O Trident espera ser executado como um<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário SVM ou como um usuário com um nome diferente que tenha a mesma função. O Amazon FSX for NetApp ONTAP tem um<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> usuário que é uma substituição limitada do usuário do cluster do ONTAP<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>. Recomendamos vivamente a utilização<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> com o Trident.</block>
  <block id="e4cd0c6f3c2ade8eef84039005a10f36" category="list-text">Baseado em certificado: O Trident se comunicará com o SVM em seu sistema de arquivos FSX usando um certificado instalado em seu SVM.</block>
  <block id="f8abfe6b352de2fd0e868bcaf6f3e7f7" category="summary">O Trident dá suporte à atribuição de nomes e rótulos significativos aos volumes criados para que seja mais fácil identificar, monitorar o gerenciamento e mapear os volumes para os respectivos recursos do Kubernetes (PVCs).</block>
  <block id="ba7c9f4d567a323afc79746f519e415b" category="paragraph">Com o Trident, você pode atribuir nomes e rótulos significativos aos volumes criados. Isso ajuda a identificar e mapear facilmente volumes para seus respectivos recursos do Kubernetes (PVCs). Você também pode definir modelos no nível de back-end para criar nomes de volume personalizados e rótulos personalizados; todos os volumes que você criar, importar ou clonar aderirão aos modelos.</block>
  <block id="97c781efba117c0e1d5363fc4b25ca4d" category="list-text">O Trident não suporta a utilização de um operador de corte com o prefixo de armazenamento.</block>
  <block id="d30011d07380d694abaa3a0701445be9" category="list-text">Se os modelos não resultarem em nomes de volume exclusivos, o Trident adicionará alguns carateres aleatórios para criar nomes de volume exclusivos.</block>
  <block id="67b2f0b2bd7da526ee1d031a8d146585" category="list-text">Se o nome personalizado para um volume de economia nas exceder 64 carateres de comprimento, o Trident nomeará os volumes de acordo com a convenção de nomenclatura existente. Para todos os outros drivers ONTAP, se o nome do volume exceder o limite de nome, o processo de criação de volume falhará.</block>
  <block id="e784d9ded1cce64694895e336ef35234" category="paragraph">O Trident cria um volume persistente (PV) e associa-o a esta reivindicação de volume persistente (PVC).</block>
  <block id="c97c2c03f174086fc1172be741226250" category="list-text">Se o PV estiver conetado a um pod, o Trident expande o volume no back-end de armazenamento, refaz o dispositivo e redimensiona o sistema de arquivos.</block>
  <block id="8870cc012f196366d720ebdad2f5632f" category="list-text">Ao tentar redimensionar um PV não anexado, o Trident expande o volume no back-end de armazenamento. Depois que o PVC é ligado a um pod, o Trident refaz o dispositivo e redimensiona o sistema de arquivos. Em seguida, o Kubernetes atualiza o tamanho do PVC após a operação de expansão ter sido concluída com sucesso.</block>
  <block id="026f69e8eb7faab2f07a68365843746d" category="paragraph">Você pode validar a expansão trabalhada corretamente verificando o tamanho do PVC, PV e o volume Trident:</block>
  <block id="d8fc21061998f01679cbbabd9102ec8c" category="paragraph">O Trident oferece suporte à expansão de volume para PVS NFS provisionados em<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> , , ,<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> e<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> backends.</block>
  <block id="36941664e357e5e47a63d528d3ff49b5" category="paragraph">Você pode validar o redimensionamento trabalhado corretamente verificando o tamanho do PVC, PV e o volume Trident:</block>
  <block id="822f23137373a7a374fd33ef3863c2de" category="paragraph">Você pode importar um volume para o Trident para:</block>
  <block id="15309597fffd67488a7a5dde3591144d" category="list-text">O Trident pode importar apenas volumes ONTAP do tipo RW (leitura-gravação). Os volumes do tipo DP (proteção de dados) são volumes de destino do SnapMirror. Você deve quebrar a relação de espelhamento antes de importar o volume para o Trident.</block>
  <block id="349d29de1123e1836103914780ffb39b" category="list-text">Embora<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> deva ser especificado em um PVC, o Trident não usa esse parâmetro durante a importação. As classes de armazenamento são usadas durante a criação de volume para selecionar os pools disponíveis com base nas caraterísticas de armazenamento. Como o volume já existe, nenhuma seleção de pool é necessária durante a importação. Portanto, a importação não falhará mesmo se o volume existir em um backend ou pool que não corresponda à classe de armazenamento especificada no PVC.</block>
  <block id="7a06039f2c19a8797457cd811e999229" category="list-text">Use o<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block> comando para especificar o nome do back-end do Trident que contém o volume e o nome que identifica exclusivamente o volume no storage (por exemplo: ONTAP FlexVol, volume do elemento, caminho do Cloud Volumes Service). O<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block> argumento é necessário para especificar o caminho para o arquivo PVC.</block>
  <block id="f610f3c991a9fe41a30dec78ba76caa8" category="paragraph">O Trident suporta a importação de volume usando os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>.</block>
  <block id="2bde530216fea43a4e556d3bba5dce11" category="paragraph">Ao usar o<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block> argumento, o Trident não renomeará o volume.</block>
  <block id="ef40e9c3e0773e9fb6f24b131aa9ba8f" category="paragraph">O Trident suporta a importação de volume usando os<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> drivers e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>.</block>
  <block id="df1e93e323319db2375e3d3dad7fb9cc" category="paragraph">O Trident suporta o software NetApp Element e a importação de volume NetApp HCI usando o<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver.</block>
  <block id="49fdf43d32dad9fda984acfedf0be04f" category="admonition">O driver Element suporta nomes de volume duplicados. No entanto, o Trident retorna um erro se houver nomes de volume duplicados. Como solução alternativa, clone o volume, forneça um nome de volume exclusivo e importe o volume clonado.</block>
  <block id="13bad29adee620ad0bb1075fdf0e45b0" category="paragraph">O Trident suporta a importação de volume usando<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> o driver.</block>
  <block id="781d7167559669ccd02b24925b4be62e" category="paragraph">O Trident suporta a importação de volume usando<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> o driver.</block>
  <block id="91df12d96329d2a5cdfb509205e68b38" category="summary">O Trident fornece vários recursos para gerenciar seus volumes. Saiba mais sobre os recursos que o Trident tem a oferecer para volumes.</block>
  <block id="3f21653d19d6382928f806e17a3ab1c4" category="paragraph">Saiba mais sobre os recursos que o Trident fornece para gerenciar seus volumes.</block>
  <block id="ca5acbb90042e065e5dd4eb793ef320c" category="paragraph">Consulte o seguinte para saber como gerenciar seus volumes com o Trident.</block>
  <block id="bf320e716fd5e77836a28acbf01fd5f2" category="summary">Os snapshots de volume do Kubernetes de volumes persistentes (PVS) permitem cópias pontuais de volumes. Você pode criar um snapshot de um volume criado usando o Trident, importar um snapshot criado fora do Trident, criar um novo volume a partir de um snapshot existente e recuperar dados de volume de snapshots.</block>
  <block id="27aa53a8adee533e027b5b2a725716da" category="list-text">Os<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block> pontos para o driver Trident CSI.</block>
  <block id="443fed0e44021bc800c6840b6a2c8191" category="paragraph">O Trident oferece suporte ao <block ref="a3174ff04e144786ca73f65ec9b76f58" category="inline-link-macro-rx"></block> para permitir que o administrador de cluster crie um<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto e importe snapshots criados fora do Trident.</block>
  <block id="5de65a931e7f0117030dde1d54eff5f4" category="paragraph">O Trident deve ter criado ou importado o volume pai do instantâneo.</block>
  <block id="a06ecac9b140cf61cd5d4a82c88c488a" category="list-text">*Cluster admin:* Crie um<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto que faça referência ao snapshot de back-end. Isso inicia o fluxo de trabalho de snapshot no Trident.</block>
  <block id="d480294e263bd9916f014824428ddbca" category="list-text">Especifique<block ref="62c99546614b1610927a47ea682b6d63" prefix=" " category="inline-code"></block> em<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block>. esta é a única informação fornecida ao Trident pelo snapshotter externo na<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block> chamada.</block>
  <block id="3e36f7927fcc85da94d36bcb51457a89" category="list-text">* Processamento interno (nenhuma ação necessária):* o Snapshotter externo reconhece o recém-criado<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> e executa a<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block> chamada. Trident cria o<block ref="9a303ae09fee10afe60e5fd9e00e5e45" prefix=" " category="inline-code"></block>.</block>
  <block id="c179bf71b229cad4b31c8b19407ab978" category="summary">Usando o Trident, você pode criar um volume em um namespace principal e compartilhá-lo em um ou mais namespaces secundários.</block>
  <block id="eeef56d54787b9aa6bd579f2e856b658" category="paragraph">O TridentVolumeReference CR permite que você compartilhe com segurança volumes NFS ReadWriteMany (RWX) em um ou mais namespaces do Kubernetes. Essa solução nativa do Kubernetes tem os seguintes benefícios:</block>
  <block id="00315912b48f10a3906def68b6887f6c" category="paragraph">A Trident cria o PV e seu volume de storage NFS no back-end.</block>
  <block id="7f2c8022cfb81e20fa274d1e20f4ae7b" category="paragraph">O Trident lê a<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block> anotação no PVC de destino e cria o PV de destino como um volume subordinado sem recurso de armazenamento próprio que aponta para o PV de origem e compartilha o recurso de armazenamento PV de origem. O PVC e o PV de destino aparecem encadernados normalmente.</block>
  <block id="a5b25f7f8c74c644f3484c2182ea8a25" category="paragraph">Você pode excluir um volume compartilhado entre vários namespaces. O Trident removerá o acesso ao volume no namespace de origem e manterá o acesso para outros namespaces que compartilham o volume. Quando todos os namespaces que fazem referência ao volume são removidos, o Trident exclui o volume.</block>
  <block id="39e92ae6d270535c1cad298373650560" category="list-text">O Trident não pode impedir que namespaces de destino gravem no volume compartilhado. Você deve usar o bloqueio de arquivos ou outros processos para evitar a substituição de dados de volume compartilhado.</block>
  <block id="b709b82e3d76fa5433fd3117387424b7" category="paragraph-title">Ferramentas SCSI sobre FC</block>
  <block id="867cf4bbcb92ecc7017612aafa765813" category="inline-link-macro">Maneiras de configurar hosts SAN FC &amp;amp; FC-NVMe</block>
  <block id="16649adc62ed952ba4dac811c548cbfb" category="paragraph">O Trident tenta detetar automaticamente se o nó pode executar serviços iSCSI ou NFS.</block>
  <block id="ff577472362d5ec5388791cc868e283e" category="paragraph">O Trident cria eventos para o nó para identificar os serviços descobertos. Para rever estes eventos, execute:</block>
  <block id="e0dbb340725a054b795eaa2c5ce9925a" category="paragraph">O Trident identifica os serviços ativados para cada nó no CR do nó Trident. Para visualizar os serviços descobertos, execute:</block>
  <block id="5a89f68b37546fc775b3e4fdbaa83f86" category="paragraph">O Trident pode estabelecer automaticamente uma sessão iSCSI, digitalizar LUNs e descobrir dispositivos multipath, formatá-los e montá-los em um pod.</block>
  <block id="f31ad49d6d434380feb4017e7e67844c" category="paragraph">Para sistemas ONTAP, o Trident executa a autorrecuperação iSCSI a cada cinco minutos para:</block>
  <block id="88857aef34da03584f9873d9ae451f35" category="list-text">*Compare* o estado desejado com o estado atual para identificar as reparações necessárias. O Trident determina as prioridades de reparação e quando efetuar as reparações.</block>
  <block id="43b7f6020acce94258b8cd6f49d039e9" category="admonition">Logs de atividade de auto-cura estão localizados no<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block> recipiente no respetivo pod Daemonset. Para visualizar registos, tem de ter definido<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block> como "verdadeiro" durante a instalação do Trident.</block>
  <block id="575a6c9926e4c10d0f01f5a7b5ae5af7" category="paragraph">Os recursos de autorrecuperação iSCSI da Trident podem ajudar a impedir:</block>
  <block id="dc5ea7c62b923ea94fb050bf49982b18" category="list-text">Sessões iSCSI obsoletas ou não saudáveis que podem ocorrer após um problema de conetividade de rede. No caso de uma sessão obsoleta, o Trident aguarda sete minutos antes de sair para restabelecer a conexão com um portal.</block>
  <block id="35a7465f650e4e342879c89b19aab955" category="paragraph">Você pode configurar as seguintes configurações de auto-recuperação iSCSI Trident para corrigir sessões obsoletas:</block>
  <block id="37ed104d69b44253f63f811d2ac61b38" category="admonition">O Trident modifica o<block ref="f0523c4334dbbc70205de4279475561a" prefix=" " category="inline-code"></block> valor para garantir que o NVMe não desista do caminho se ele cair. Não altere esta definição.</block>
  <block id="49c51de1f7ef1bb1a3f7996dce0bd162" category="summary">Use os ponteiros fornecidos aqui para solucionar problemas que você pode encontrar ao instalar e usar o Trident.</block>
  <block id="ff880370a59a3edf263703cf427ef61b" category="paragraph">Para Trident 20,07 e 20,10, utilizar<block ref="5d50f02b16b5f3c834b39c00b5adcf4f" prefix=" " category="inline-code"></block> no lugar<block ref="b9b2e8f293392f4f25fc8a59b9522d84" prefix=" " category="inline-code"></block> de .</block>
  <block id="f61e7737805bc6c31f70cc744f0be580" category="paragraph">Você pode remover completamente o Trident e todos os CRDs criados e recursos personalizados associados.</block>
  <block id="bf33d5f4492b83e480e02a87c13bea8f" category="admonition">Isso não pode ser desfeito. Não faça isso a menos que você queira uma instalação completamente nova do Trident. Para desinstalar o Trident sem remover CRDs, <block ref="09e567d3102352bdd3a5975f49a136db" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="7e8fc4df4a520d5e63be7a3cceaf49b6" category="paragraph">Para desinstalar o Trident e remover completamente CRDs usando o operador Trident:</block>
  <block id="48402172a8740f09fa3a5295a3c776f2" category="paragraph">Para desinstalar o Trident e remover completamente CRDs usando Helm:</block>
  <block id="fca562606bcefc58d4a718783c1b96d2" category="paragraph">Para remover completamente CRDs após desinstalar o Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="4432cfcacafa1abcedd4043a54b77f9f" category="paragraph">Considere um cenário em que você tenha um namespace gerenciado do Trident (volume persistente NVMe) anexado a um pod. Se você excluir o namespace diretamente do back-end do ONTAP, o processo de despreparo fica preso após tentar excluir o pod. Esse cenário não afeta o cluster do Kubernetes ou outras funcionalidades.</block>
  <block id="65edeac74973a1ff99e0e74473ca1ac5" category="sidebar">O Trident é um provisionador e orquestrador de storage de código aberto mantido pela NetApp. Com ele, você cria volumes de storage para aplicações em contêiner gerenciadas pelo Docker e Kubernetes.</block>
  <block id="c2be0dce836d12b399a864c7019c6c72" category="sidebar">Use o Trident</block>
  <block id="c2cad626583e84ad7681ff1f879baed0" category="sidebar">Vídeos do Trident</block>
  <block id="19cd85517cccf8e142cb03b4a1b778b8" category="sidebar">Trident docs</block>
  <block id="cbe339e53da479584b62fcdaed7006c1" category="sidebar">Visão geral do Trident</block>
  <block id="c95d3f2a880ad1b81926c3a78c2294ed" category="sidebar">Gerenciar e monitorar o Trident</block>
  <block id="4182ceafe6e7afa67be49e639a8fa3a9" category="sidebar">Integração com Trident</block>
  <block id="e41a00202d1138f85f18e0c7afdb0955" category="sidebar">Configure o complemento do Trident EKS no cluster do EKS</block>
  <block id="b89f71465b55ef1dc894a4364041d9f0" category="paragraph">Este exemplo instala o Trident para uso com uma identidade de nuvem em um cluster GKE.</block>
  <block id="3bd49228e6aff48852b023fa1ceaf62c" category="paragraph">Para instalar o Trident usando o operador Trident, edite<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block> para definir<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block> como<block ref="9856712fdf7563a4074fc130ed9f0755" prefix=" " category="inline-code"></block> e defina<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block> como<block ref="90f8fb110d694743ec7a069beef76b7b" prefix=" " category="inline-code"></block>.</block>
  <block id="7ba174e1291062b960ec1b8607b6e1e2" category="paragraph">O exemplo a seguir instala o Trident e define<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block> o GCP usando a variável de ambiente<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block> e define a<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block> variável usando o ambiente<block ref="fab50dca589d1a68fdf56bd4ae0b4a83" prefix=" " category="inline-code"></block> :</block>
  <block id="bde178d22672aa38120646e529ed04b5" category="paragraph">O exemplo a seguir instala o Trident e define o<block ref="e33bb4eb32023da4a8ea7a1ba6927067" prefix=" " category="inline-code"></block> sinalizador como<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>, e<block ref="c5af480af77c330e04a1fce1f6c2b03a" prefix=" " category="inline-code"></block> como<block ref="fab50dca589d1a68fdf56bd4ae0b4a83" prefix=" " category="inline-code"></block>:</block>
  <block id="dc3d22611e67d08cb39256f8980be582" category="cell">Restringe<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> backends de criar novos volumes do FlexVol para conter suas Qtrees. Somente Flexvols pré-existentes são usados para provisionar novos PVS.</block>
  <block id="eddc3ab7d283c02464f100ff837cf055" category="inline-link-macro">Recursos do Trident</block>
  <block id="01ba66c56fa9029a3ce0095f09b9b340" category="list-text"><block ref="01ba66c56fa9029a3ce0095f09b9b340" category="inline-link-macro-rx"></block></block>
  <block id="10c80ca6b662fb62c61b4f3551fa4460" category="paragraph">Para backends ONTAP que usam os drivers de armazenamento SAN, o Trident pode configurar CHAP bidirecional e gerenciar nomes de usuário e segredos do CHAP através<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>do . <block ref="647d5f494fdd01a14f263aa1b49a3db4" category="inline-link-macro-rx"></block>Consulte para compreender como o Trident configura o CHAP nos backends ONTAP.</block>
  <block id="98b1298645505c6ec838667dff651c81" category="cell">Tamanho máximo de FlexVol requestable ao usar Qtrees no back-end ONTAP-nas-Economy.</block>
  <block id="7be7ec1f4262cda30e19c85af89449af" category="cell">Alocação de espaço para Qtrees</block>
  <block id="bc78339d85241498c635b61d8f201ef9" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor. Também restringe o tamanho máximo dos volumes que gerencia para LUNs.</block>
  <block id="579198c91fea423d4b79c97828ac3da4" category="summary">O Trident Protect permite que você proteja seus aplicativos e dados de aplicações usando o Trident.</block>
  <block id="a53f4cc048a3d0227206b8b6182e67dc" category="doc">Saiba mais sobre o Trident Protect</block>
  <block id="6d8d3279a9b2226029d9af309058363b" category="paragraph">O NetApp Trident Protect oferece recursos avançados de gerenciamento de dados de aplicações que aprimoram o recurso e a disponibilidade de aplicações Kubernetes com monitoramento de estado e respaldo dos sistemas de storage da NetApp ONTAP e do provisionador de storage NetApp Trident CSI. O Trident Protect simplifica o gerenciamento, a proteção e a movimentação de workloads em contêineres entre nuvens públicas e ambientes locais. Ele também oferece recursos de automação por meio de sua API e CLI.</block>
  <block id="6a945469c2d9fdc27b0cb844d066c984" category="paragraph">Você pode proteger aplicativos com o Trident Protect criando recursos personalizados (CRS) ou usando a CLI do Trident Protect.</block>
  <block id="7e6f9558ca98ca29afd74d0bbb0b2bce" category="paragraph">Você pode saber mais sobre os requisitos do Trident Protect antes de instalá-lo:</block>
  <block id="a0a1eb9fbd2b7284352e6b610999f841" category="inline-link-macro">Requisitos do Trident Protect</block>
  <block id="8d806bd87636d4fd0eecab0333057f10" category="list-text"><block ref="8d806bd87636d4fd0eecab0333057f10" category="inline-link-macro-rx"></block></block>
  <block id="af68364761ed4114c192b6bb2962467b" category="summary">O Trident Protect usa o modelo Kubernetes de controle de acesso baseado em funções (RBAC). Você pode usar os recursos do Trident Protect RBAC para controlar com mais precisão o acesso aos recursos.</block>
  <block id="3f94255d3ae6517615821f8939ba6230" category="doc">Gerenciar autorização e controle de acesso</block>
  <block id="9991f5d4b3aa4ae5a36fb2ad6a637d73" category="paragraph">O Trident Protect usa o modelo Kubernetes de controle de acesso baseado em funções (RBAC). Por padrão, o Trident Protect fornece um único namespace de sistema e sua conta de serviço padrão associada. Se você tiver uma organização com muitos usuários ou necessidades de segurança específicas, use os recursos RBAC do Trident Protect para obter controle mais granular sobre o acesso a recursos e espaços de nomes.</block>
  <block id="a22c0a4dfca95968d88392eb0bbb2dcf" category="paragraph">O administrador do cluster sempre tem acesso a recursos no namespace padrão<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block> e também pode acessar recursos em todos os outros namespaces. Para controlar o acesso a recursos e aplicações, é necessário criar espaços de nomes adicionais e adicionar recursos e aplicações a esses espaços de nomes.</block>
  <block id="661e3b2b32de1ab85fb426b5abec28f3" category="paragraph">Observe que nenhum usuário pode criar CRS de gerenciamento de dados do aplicativo no namespace padrão<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block>. Você precisa criar CRS de gerenciamento de dados de aplicativo em um namespace de aplicativo (como prática recomendada, criar CRS de gerenciamento de dados de aplicativo no mesmo namespace que seu aplicativo associado).</block>
  <block id="b1f69b20762545a6c94e024888638df8" category="paragraph">Somente os administradores devem ter acesso a objetos de recursos personalizados privilegiados do Trident Protect, que incluem:</block>
  <block id="4516bb1529fba64216073cc95812839c" category="list-text">*AppVault*: Requer dados de credenciais de bucket</block>
  <block id="984eb0d94901a4b5f9105f96d4d2b4a9" category="list-text">*AutoSupportBundle*: Coleta métricas, logs e outros dados confidenciais do Trident Protect</block>
  <block id="10e6811ca4c78900349b612176a3233b" category="list-text">*AutoSupportBundleSchedule*: Gerencia os horários de coleta de Registros</block>
  <block id="7cfd5c25f0cd486a1157966cad4acba7" category="paragraph">Como prática recomendada, use o RBAC para restringir o acesso a objetos privilegiados aos administradores.</block>
  <block id="407b2fe2d3bbcc55c8ae895a2fd8263c" category="inline-link">Documentação do Kubernetes RBAC</block>
  <block id="280879df8b54b2167169ec47c5cabf6d" category="paragraph">Para obter mais informações sobre como o RBAC regula o acesso a recursos e namespaces, consulte o<block ref="4825a411217f39ad9486c7b5e7edfd2b" category="inline-link-rx"></block>.</block>
  <block id="1f8885e14663f7eb65b23f1fb65cf1ad" category="inline-link">Documentação da conta de serviço do Kubernetes</block>
  <block id="6d2eefddf1d006b070ac00f2cf8d9f2e" category="paragraph">Para obter informações sobre contas de serviço, consulte o<block ref="37bf82f0fc7d7e935aabd2fb73032b3c" category="inline-link-rx"></block>.</block>
  <block id="c8daba6f7a2139f5744d1f673acae2b4" category="section-title">Exemplo: Gerencie o acesso para dois grupos de usuários</block>
  <block id="9a9f2142e8d53ddda9013b6fc97827cd" category="paragraph">Por exemplo, uma organização tem um administrador de cluster, um grupo de usuários de engenharia e um grupo de usuários de marketing. O administrador do cluster concluiria as seguintes tarefas para criar um ambiente onde o grupo de engenharia e o grupo de marketing tenham acesso apenas aos recursos atribuídos aos respetivos namespaces.</block>
  <block id="62e8eb1beb4089e76f084fa767746c24" category="section-title">Etapa 1: Crie um namespace para conter recursos para cada grupo</block>
  <block id="bff98f2ace11d8e7b9fe541ae444c93a" category="paragraph">Criar um namespace permite separar recursos logicamente e controlar melhor quem tem acesso a esses recursos.</block>
  <block id="34bc7fd01806723536ffab05992d77d0" category="list-text">Crie um namespace para o grupo de engenharia:</block>
  <block id="ba644a4cbff232b5b4157a0f8bfc30f8" category="list-text">Crie um namespace para o grupo de marketing:</block>
  <block id="aac00f41716d928be61ef3ff1cd6fc2d" category="section-title">Etapa 2: Crie novas contas de serviço para interagir com recursos em cada namespace</block>
  <block id="3e8da71376257c3915a88fb2bfe69a27" category="paragraph">Cada novo namespace que você criar vem com uma conta de serviço padrão, mas você deve criar uma conta de serviço para cada grupo de usuários para que você possa dividir ainda mais Privileges entre grupos no futuro, se necessário.</block>
  <block id="7bd34dd5c1a41f3a7aeea2aaad2469b5" category="list-text">Crie uma conta de serviço para o grupo de engenharia:</block>
  <block id="37281883196948d16907e71598070c79" category="list-text">Crie uma conta de serviço para o grupo de marketing:</block>
  <block id="2cdbda2406e807bdae6ccf33ad2445f3" category="section-title">Passo 3: Crie um segredo para cada nova conta de serviço</block>
  <block id="a15042adaad3bebc86d46ef450a4f98c" category="paragraph">Um segredo de conta de serviço é usado para autenticar com a conta de serviço e pode ser facilmente excluído e recriado se comprometido.</block>
  <block id="78a7dfb4e5b60d84d3c54ec150be8a80" category="list-text">Crie um segredo para a conta de serviço de engenharia:</block>
  <block id="b098f513abca683a5e1c36cbc8b244db" category="list-text">Crie um segredo para a conta do serviço de marketing:</block>
  <block id="d1732b3423240a19064951afa9a3266a" category="section-title">Passo 4: Crie um objeto RoleBinding para vincular o objeto ClusterRole a cada nova conta de serviço</block>
  <block id="720de81bb5619bda23df5ae99eb9ebcb" category="paragraph">Um objeto ClusterRole padrão é criado quando você instala o Trident Protect. Você pode vincular esse ClusterRole à conta de serviço criando e aplicando um objeto RoleBinding.</block>
  <block id="067d8d99affb5418a3d899eba8658cc4" category="list-text">Vincule o ClusterRole à conta de serviço de engenharia:</block>
  <block id="b25ecd55b23c424058fdad947fe23b13" category="list-text">Vincule o ClusterRole à conta do serviço de marketing:</block>
  <block id="574c7934280b498080dfc2272c570f69" category="section-title">Passo 5: Testar permissões</block>
  <block id="8d65423ec256f18737823ea6cedeae87" category="paragraph">Teste se as permissões estão corretas.</block>
  <block id="7b0c0cd292b286167249cc067be6d47d" category="list-text">Confirme se os usuários de engenharia podem acessar os recursos de engenharia:</block>
  <block id="37aa0c3d444b765e5080a77f572f9040" category="list-text">Confirme que os usuários de engenharia não podem acessar recursos de marketing:</block>
  <block id="1317a4b523ecc5ea298adec08e7ba407" category="summary">O bucket custom resource (CR) do Trident Protect é conhecido como AppVault. AppVaults são a representação declarativa do fluxo de trabalho do Kubernetes de um bucket de storage.</block>
  <block id="618ce5e44021c1c57c9655e5e3846eda" category="doc">Use objetos AppVault para gerenciar buckets</block>
  <block id="f39726752bf5b117fe78f8c383e31cdd" category="paragraph">O bucket custom resource (CR) do Trident Protect é conhecido como AppVault. Os objetos AppVault são a representação declarativa do fluxo de trabalho do Kubernetes de um bucket de storage. Um AppVault CR contém as configurações necessárias para que um bucket seja usado em operações de proteção, como backups, snapshots, operações de restauração e replicação do SnapMirror. Apenas os administradores podem criar AppVaults.</block>
  <block id="56ef2682280ac110060b881925a87b80" category="section-title">Google Cloud</block>
  <block id="1668ca1bd914c1d847f23b491319ac91" category="section-title">Microsoft Azure</block>
  <block id="cf04a02e37b774fc311a48f605c3c597" category="cell">azure</block>
  <block id="50f66ecbc45488ee5826941bfbc50411" category="cell">gcp</block>
  <block id="485573baf8bfa9487485deb07780d89f" category="list-text">Exibir o conteúdo de um objeto AppVault:</block>
  <block id="10dce9030ad8783afd2b4e831da49b7f" category="paragraph">*Exemplo de saída*:</block>
  <block id="72444a17ff17655124f96b02602fe90f" category="list-text">Opcionalmente, para ver o AppVaultPath para cada recurso, use o<block ref="a9b1c03a99224cbb5c6773ccbe51d4fb" prefix=" " category="inline-code"></block> sinalizador .</block>
  <block id="caef5be37857b92378c0054db6bc8696" category="paragraph">O nome do cluster na primeira coluna da tabela só estará disponível se um nome de cluster tiver sido especificado na instalação do leme Trident Protect. Por exemplo<block ref="b84d46473a6782105f40ea4fa2bc2964" prefix=" " category="inline-code"></block>: .</block>
  <block id="eb5dcb495342ee5285be31fb17267ccc" category="section-title">Remova um AppVault</block>
  <block id="086d4622dbc50dc37c51fc80568681a2" category="paragraph">Você pode remover um objeto AppVault a qualquer momento.</block>
  <block id="79f2a1cdb1287644a5d3176157cc43c4" category="admonition">Não remova a<block ref="276c63528ef3085f91fb1bc80a3febc0" prefix=" " category="inline-code"></block> chave no AppVault CR antes de excluir o objeto AppVault. Se você fizer isso, isso pode resultar em dados residuais no bucket do AppVault e recursos órfãos no cluster.</block>
  <block id="33850d305da8c5eb949c81e70e40a54d" category="open-title">Remova um AppVault usando a CLI do Kubernetes</block>
  <block id="6c4ae71603666b23d3e05193118a3147" category="summary">Você pode usar o comando protectctl para criar e interagir com os recursos personalizados do Trident Protect.</block>
  <block id="40e0842217cf3fc8b760cbd68cc14a76" category="doc">Instale o plugin Trident Protect CLI</block>
  <block id="bd0df34f0c12fe6faae3a05dde47f3a9" category="paragraph">Você pode usar o plugin de linha de comando Trident Protect, que é uma extensão do utilitário Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>, para criar e interagir com o Trident Protect custom Resources (CRS).</block>
  <block id="2b1100a071932a4cb5f33e22121f48fa" category="paragraph">Antes de usar o utilitário de linha de comando, você precisa instalá-lo na máquina usada para acessar o cluster. Siga estes passos, dependendo se a sua máquina utiliza uma CPU x64 ou ARM.</block>
  <block id="852f04e90409df288c69ca8f37453383" category="open-title">Faça o download do plugin para CPUs Linux AMD64</block>
  <block id="567471047b313eb49e48a17b4213a1d1" category="list-text">Faça o download do plugin Trident Protect CLI:</block>
  <block id="b64b2077b896969e7810dbb0a2de2f1a" category="open-title">Faça o download do plugin para CPUs Linux ARM64</block>
  <block id="d58e744bd40cf0f8373ee5b2c7d11387" category="open-title">Baixe o plugin para CPUs Mac AMD64</block>
  <block id="fd3e558ef6c1af851bddabf0eb1945d7" category="open-title">Baixe o plugin para CPUs Mac ARM64</block>
  <block id="b23c395acc963a69b0a5f06a20bb4887" category="section-title">Veja a ajuda do plugin Trident CLI</block>
  <block id="305f79cb740685921820521a57e525e5" category="paragraph">Você pode usar os recursos integrados de ajuda do plugin para obter ajuda detalhada sobre os recursos do plugin:</block>
  <block id="09b4818c610e8f967a9f5257455a3a2a" category="list-text">Utilize a função de ajuda para visualizar as orientações de utilização:</block>
  <block id="da9d072bec5b191d5b5120761a2094e5" category="section-title">Ativar a auto-conclusão do comando</block>
  <block id="2994879f05c105b10427c87890d6ce6a" category="paragraph">Depois de instalar o plugin Trident Protect CLI, você pode ativar a auto-conclusão para determinados comandos.</block>
  <block id="df7d0aa2cf46fe870b9bba130ea4d964" category="open-title">Ative a auto-conclusão para o shell Bash</block>
  <block id="dc8d08efd37c5c2cd13f1da4b74b2004" category="list-text">Faça o download do script de conclusão:</block>
  <block id="bbd32e1d32af84e3002666b13f548cce" category="list-text">Crie um novo diretório em seu diretório inicial para conter o script:</block>
  <block id="63f01fb9933705d6d795c4c690a6504c" category="list-text">Mova o script baixado para<block ref="37476bab24bad3126a5edbc11fab761e" prefix=" " category="inline-code"></block> o diretório:</block>
  <block id="4a76f80f250e570c9fd0b4b8b9e41486" category="list-text">Adicione a seguinte linha ao<block ref="b8cb707d54dfbd8ab64f0b1dc81b72e1" prefix=" " category="inline-code"></block> arquivo em seu diretório inicial:</block>
  <block id="51c2c8a3b8dd4aaaa1d5640e39860408" category="open-title">Ative a auto-conclusão para o shell Z.</block>
  <block id="45dba4471beecdb4813778042a6ccfc2" category="list-text">Mova o script baixado para<block ref="d6ca46a9bae5529cb8e845fb419ba1e0" prefix=" " category="inline-code"></block> o diretório:</block>
  <block id="e2f12f24108169a5ab9aa9923f95a468" category="list-text">Adicione a seguinte linha ao<block ref="f0f9c4057b7322a99704208706a05ba7" prefix=" " category="inline-code"></block> arquivo em seu diretório inicial:</block>
  <block id="8eea62084ca7e541d918e823422bd82e" category="paragraph-title">Resultado</block>
  <block id="7b6672be7a52979b1357ccc3d2a45f8a" category="summary">O Trident Protect permite que os administradores gerem pacotes que incluem informações úteis ao suporte da NetApp, incluindo logs, métricas e informações de topologia sobre os clusters e aplicativos em gerenciamento. Se você estiver conetado à Internet, poderá fazer upload de pacotes de suporte para o site de suporte da NetApp (NSS) usando um arquivo de recurso personalizado (CR).</block>
  <block id="e984343e441956b7136d09919877b5ab" category="open-title">Crie um pacote de suporte usando um CR</block>
  <block id="dd942fa25b8e28c96c8d05e37b0f157e" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o (por exemplo,<block ref="699c503b46d4ca3ec78905dff3704cac" prefix=" " category="inline-code"></block> ).</block>
  <block id="18924d9e76d2dc9a88bddb772904461d" category="list-text">Configure os seguintes atributos:</block>
  <block id="3dbbdf39618ebec771728a10e75c52f9" category="list-text">*metadata.name*: (_required_) o nome deste recurso personalizado; escolha um nome único e sensível para o seu ambiente.</block>
  <block id="1d18312b2c5bd000f0693d25f38bddc9" category="list-text">*Spec.triggerType*: (_required_) determina se o pacote de suporte é gerado imediatamente ou programado. A geração de pacotes programados acontece às 12AM UTC. Valores possíveis:</block>
  <block id="2b7dabba0077abe3732e0418b048a56b" category="list-text">Programado</block>
  <block id="e1ba155a9f2e8c3be94020eef32a0301" category="list-text">Manual</block>
  <block id="b541a1c308699e3b9e58d7a1aa6d3ad6" category="list-text">*Spec.uploadEnabled*: (_Optional_) controla se o pacote de suporte deve ser carregado para o site de suporte da NetApp depois que ele é gerado. Se não for especificado, o padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>. Valores possíveis:</block>
  <block id="e836d7c4f6371da7534f60641286999b" category="list-text">falso (padrão)</block>
  <block id="fa3e867f8599e4541ced8b0ced5b2cf1" category="list-text">*Spec.dataWindowStart*: (_Optional_) Uma cadeia de carateres de data no formato RFC 3339 que especifica a data e a hora em que a janela de dados incluídos no pacote de suporte deve começar. Se não for especificado, o padrão é 24 horas atrás. A data da janela mais antiga que você pode especificar é de 7 dias atrás.</block>
  <block id="139f344cca23a89c521bc7cc6c7100b8" category="paragraph">Exemplo YAML:</block>
  <block id="1f5c923d658756149d27388a30350ece" category="list-text">Depois de preencher o<block ref="f242db754742ad72c7a0a3fa93d314df" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="b69675775a82aaa1e3307ebbe6a45fc0" category="open-title">Crie um pacote de suporte usando a CLI</block>
  <block id="2294988013d14e5c254422b8164d83ad" category="list-text">Crie o pacote de suporte, substituindo valores entre parênteses por informações do seu ambiente. O<block ref="769627afa23a2b90f925b1091e474dc5" prefix=" " category="inline-code"></block> determina se o pacote é criado imediatamente ou se o tempo de criação é ditado pelo agendamento e pode ser<block ref="e1ba155a9f2e8c3be94020eef32a0301" prefix=" " category="inline-code"></block> ou<block ref="2b7dabba0077abe3732e0418b048a56b" prefix=" " category="inline-code"></block>. A predefinição é<block ref="e1ba155a9f2e8c3be94020eef32a0301" prefix=" " category="inline-code"></block>.</block>
  <block id="4351048276414d4fad273a0c7ad9f491" category="summary">Se o seu ambiente atender aos requisitos, siga estas etapas para instalar o Trident Protect.</block>
  <block id="9ee0b57319616120eef37546fa8e4c42" category="doc">Instalar e configurar o Trident Protect</block>
  <block id="dc48a335c2095fb6a79ee14ee62b4806" category="paragraph">Se o seu ambiente atender aos requisitos do Trident Protect, siga estas etapas para instalar o Trident Protect no cluster. Você pode obter o Trident Protect do NetApp, ou instalá-lo a partir de seu próprio Registro privado. A instalação a partir de um registo privado é útil se o cluster não conseguir aceder à Internet.</block>
  <block id="1d5f2a4008fa2c223d0ebc6aea423256" category="open-title">Instale o Trident Protect do NetApp</block>
  <block id="f1db582519ebcfcc20d90e41c0c5e9cc" category="open-title">Instale o Trident Protect a partir de um registo privado</block>
  <block id="73dac5f92be0a06ecbcb1b8139b40593" category="paragraph">Você pode instalar o Trident Protect a partir de um Registro de imagem privado se o cluster do Kubernetes não conseguir acessar a Internet. Nestes exemplos, substitua valores entre parênteses por informações do seu ambiente:</block>
  <block id="dfb8cfd789dde682f000a96e0aabb1f1" category="list-text">Puxe as seguintes imagens para a sua máquina local, atualize as etiquetas e, em seguida, envie-as para o seu registo privado:</block>
  <block id="2dcd4437dbff8aff3bc16ac15a71b74d" category="list-text">Crie o namespace do sistema Trident Protect:</block>
  <block id="e0f6b701766eb28d805d7ba1e820f582" category="list-text">Inicie sessão no registo:</block>
  <block id="814565bb5d7e7359fff967986fd4195a" category="list-text">Crie um segredo para usar para autenticação de Registro privado:</block>
  <block id="86e8b34710172d33dcae839e1f4dd07e" category="summary">Você pode tornar o Trident Protect ciente de um aplicativo que deseja gerenciar criando um CR de aplicativo e um CR de AppVault associado.</block>
  <block id="80b940e5c68d020c06f9dc2f188d2169" category="doc">Definir uma aplicação para gestão</block>
  <block id="1e10d655f5307ce7f79aeee68a9e72f3" category="paragraph">Você pode definir um aplicativo que deseja gerenciar com o Trident Protect criando um CR de aplicativo e um CR de AppVault associado.</block>
  <block id="58bd941b0268654136e17a3f6361fa75" category="section-title">Crie um AppVault CR</block>
  <block id="f5ddee36f3439fbf6875de509925b804" category="inline-link-macro">Recursos personalizados do AppVault.</block>
  <block id="2c2c79b6a4bc3f3b90fed9b96ab44d05" category="paragraph">Você precisa criar um AppVault CR que será usado ao executar operações de proteção de dados no aplicativo, e o AppVault CR precisa residir no cluster onde o Trident Protect está instalado. O AppVault CR é específico para o seu ambiente; para exemplos do AppVault CRS, consulte <block ref="7e7838343a821a01b97d2b866c568a54" category="inline-link-macro-rx"></block></block>
  <block id="7eb786201a1068df31c2a8d7805c50bf" category="open-title">Adicione uma aplicação utilizando um CR</block>
  <block id="b4b10aa7102ef4de9ba1d5672445c895" category="list-text">Criar o ficheiro CR da aplicação de destino:</block>
  <block id="0f14679ea6b53d676a4e19300d32937e" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o (por exemplo,<block ref="6e1c6964e1bb7e391ff353b09e122d80" prefix=" " category="inline-code"></block> ).</block>
  <block id="3b96edf2a12486fc5d9dfaf7e692cdfc" category="list-text">*metadata.name*: (_required_) o nome do recurso personalizado do aplicativo. Observe o nome escolhido porque outros arquivos CR necessários para operações de proteção referem-se a esse valor.</block>
  <block id="edb32c41feaaffb2d7ff10dac9d80312" category="open-title">Adicione um aplicativo usando a CLI</block>
  <block id="0ef657dffb550796349fff7260ee7b1f" category="summary">Você pode restaurar os dados de backup ou snapshot para um cluster ou classe de armazenamento diferente</block>
  <block id="5d23a9c0c55a80ece74daa65c04f1d66" category="doc">Migrar aplicações</block>
  <block id="85ff05ce333a3cc83e4b1bece0b1a885" category="admonition">Quando você migra um aplicativo, todos os ganchos de execução configurados para o aplicativo são migrados com o aplicativo. Se um gancho de execução pós-restauração estiver presente, ele será executado automaticamente como parte da operação de restauração.</block>
  <block id="dea2f94d534ebdd522c0137cd11f63bf" category="section-title">Operações de backup e restauração</block>
  <block id="b21f1727ed04fb70c8e47cb11cdfb2bb" category="paragraph">Para executar operações de backup e restauração nos cenários a seguir, você pode automatizar tarefas específicas de backup e restauração.</block>
  <block id="a9764be0f1589c38e0a7df19889c7d63" category="section-title">Clonar para o mesmo cluster</block>
  <block id="5a9889aaf704b3737fe054ecabd850fc" category="paragraph">Para clonar uma aplicação para o mesmo cluster, crie um snapshot ou backup e restaure os dados para o mesmo cluster.</block>
  <block id="365d382b2d9ecca9b0d40171c69b38ff" category="list-text">Execute um dos seguintes procedimentos:</block>
  <block id="af9c364e0933200b7b8c1e7e13947ccf" category="inline-link-macro">Criar um instantâneo</block>
  <block id="a73aa64574ccfae0cf05d9da96bd1301" category="list-text"><block ref="e078308a27dcac975eec5d2adaa1104c" category="inline-link-macro-rx"></block>.</block>
  <block id="f99b69945a176ffbedac86a22cf6c413" category="inline-link-macro">Crie uma cópia de segurança</block>
  <block id="d0b37af201761eb2698b45f7c3f6d0d8" category="list-text"><block ref="7d9cd4227c8376552577f7b664ce81bb" category="inline-link-macro-rx"></block>.</block>
  <block id="cf36005406fb9e7864efedea0a35a8a0" category="list-text">No mesmo cluster, siga um destes procedimentos, dependendo se você criou um snapshot ou um backup:</block>
  <block id="2d173330624878d1a02dc399b82aa10b" category="inline-link-macro">Restaure seus dados a partir do snapshot</block>
  <block id="00b559822f9df33b751ce11389fb7c7a" category="list-text"><block ref="137b81ae6c60df62029e75ad69c6bacd" category="inline-link-macro-rx"></block>.</block>
  <block id="1c7b9a68982aa2ad5f1d69eeb5bdf99e" category="inline-link-macro">Restaure seus dados a partir do backup</block>
  <block id="e27031b9d0bffffcf2abd2136eed21f5" category="list-text"><block ref="71bc4096317f8eb78a9951851bc1165b" category="inline-link-macro-rx"></block>.</block>
  <block id="403ecb1db6fa0f1bb20e787bb5f5dacd" category="section-title">Clone para cluster diferente</block>
  <block id="181aa092ab965b34bcee90e25056f876" category="section-title">Migrar aplicações de uma classe de storage para outra classe de storage</block>
  <block id="f1ad7bca566917ee78958caa78fab3f5" category="paragraph">Por exemplo (excluindo os segredos do CR de restauração):</block>
  <block id="daf2d2aebeca09dea5ece5c9c1513383" category="open-title">Restaure o instantâneo usando um CR</block>
  <block id="a35b06511e032bee46bbed064afa12dc" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o<block ref="fac6dff7f801a4983f4a536dbcbd40d7" prefix=" " category="inline-code"></block>.</block>
  <block id="3585700696abe40ccc0973202ddace0a" category="list-text">No arquivo criado, configure os seguintes atributos:</block>
  <block id="ac6cdb13ccdd5d0ac3195b3301db572c" category="list-text">*Spec.appArchivePath*: O caminho dentro do AppVault onde o conteúdo do snapshot é armazenado. Você pode usar o seguinte comando para encontrar este caminho:</block>
  <block id="d2e7f59eea5f95f37b023a243745727d" category="list-text">*Spec.appVaultRef*: (_required_) o nome do AppVault onde o conteúdo do instantâneo é armazenado.</block>
  <block id="33dc1feba43183f93ade318576611f4a" category="list-text">*spec.namespaceMapping*: o mapeamento do namespace de origem da operação de restauração para o namespace de destino. Substitua<block ref="a6f7f0a873c27a67ee3194949076866b" prefix=" " category="inline-code"></block> e<block ref="2cfb071d6be7d4cf9e297100f62858fe" prefix=" " category="inline-code"></block> por informações do seu ambiente.</block>
  <block id="12ed8140e585382bd7caee15c2ebb002" category="list-text">Opcionalmente, se você precisar selecionar apenas certos recursos do aplicativo para restaurar, adicione filtragem que inclua ou exclua recursos marcados com rótulos específicos:</block>
  <block id="15212a55e2108abef019ef0de4a2d413" category="list-text">*ResourceFilter.resourceSelectionCriteria*: (Necessário para filtragem) Use<block ref="0daf9ee05d33b85e4cfc7be473c64e9b" prefix=" " category="inline-code"></block> para incluir ou excluir um recurso definido em resourceMatchers. Adicione os seguintes parâmetros resourceMatchers para definir os recursos a serem incluídos ou excluídos:</block>
  <block id="d9348d075dc7b3c91cff99d56dfc327b" category="inline-link">Documentação do Kubernetes</block>
  <block id="bca1b1b2b1a229dc37dffa4f7012c02d" category="list-text">Depois de preencher o<block ref="fac6dff7f801a4983f4a536dbcbd40d7" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="ffe607ccb2c74bd77fcfcd7f0ff7691e" category="open-title">Restaure o instantâneo usando a CLI</block>
  <block id="a77b4ff586cfbf08c54732a1ced52e4f" category="list-text">Restaure o snapshot para um namespace diferente, substituindo valores entre parênteses por informações do seu ambiente.</block>
  <block id="4f7a601ab79eb07bd8f0460d0e4ebccf" category="list-text">O<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block> argumento usa um namespace e um nome instantâneo no formato<block ref="7310980de32cd5ca687291f4b01b2e19" prefix=" " category="inline-code"></block>.</block>
  <block id="9a3152a9bfe0e487c80e9e42ee22e9f0" category="list-text">O<block ref="65e11896cb6b19f7dcb2432e67c74725" prefix=" " category="inline-code"></block> argumento usa namespaces separados por dois pontos para mapear namespaces de origem para os namespaces de destino corretos no formato<block ref="07c70c21dcae158a4b2f0d389a52981b" prefix=" " category="inline-code"></block>.</block>
  <block id="3909674c7e76459d193fe9c27f127cbf" category="summary">Proteja todos os aplicativos tirando snapshots e backups usando uma política de proteção automatizada ou ad hoc.</block>
  <block id="ca73b42f56baa81e1c83e31ee5c53d42" category="doc">Proteger aplicações</block>
  <block id="2530ad97c013f5d8d9c69004a4e7ee67" category="section-title">Crie um snapshot sob demanda</block>
  <block id="9bbdcd6083ca1f29424ab7d4e6e6d3f5" category="paragraph">Você pode criar um snapshot sob demanda a qualquer momento.</block>
  <block id="ca5d8da21766c0b74083bb89d9b98f19" category="open-title">Crie um instantâneo usando um CR</block>
  <block id="d3455b82ff23d66412cff307dea26e95" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o<block ref="30f7bac2bbe029d2d24e82f27526854c" prefix=" " category="inline-code"></block>.</block>
  <block id="14c5017706ef7ba38dbfced0b670f7e4" category="list-text">*Spec.applicationRef*: O nome do Kubernetes da aplicação para snapshot.</block>
  <block id="92c5bebe15e018e9b60ed9fa2a5d7736" category="list-text">*Spec.appVaultRef*: (_required_) o nome do AppVault onde o conteúdo instantâneo (metadados) deve ser armazenado.</block>
  <block id="a9860c462819471295facd0a13fc4275" category="list-text">*Spec.reclaimPolicy*: (_Optional_) define o que acontece com o AppArchive de um snapshot quando o snapshot CR é excluído. Isso significa que, mesmo quando definido como<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>, o instantâneo será excluído. Opções válidas:</block>
  <block id="ff5ca6a0665c8d286d507fe36b867e1c" category="list-text"><block ref="afece4245269582cb2f1009d4fb52047" prefix="" category="inline-code"></block> (predefinição)</block>
  <block id="c009f85498c5a7a2db78e1874e6dd4b1" category="list-text"><block ref="f2a6c498fb90ee345d997f888fce3b18" prefix="" category="inline-code"></block></block>
  <block id="e405f936b8c322965ea5098c0dbead5e" category="list-text">Depois de preencher o<block ref="30f7bac2bbe029d2d24e82f27526854c" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="70e7d17c41da1ec8002b8b8735b5d0b2" category="open-title">Crie um instantâneo usando a CLI</block>
  <block id="210011bd2b9ec4d5301f86e4a42cd17a" category="list-text">Crie o snapshot, substituindo valores entre parênteses por informações do seu ambiente. Por exemplo:</block>
  <block id="6c4e6d5940a93fcf9cfb1c5d53280da3" category="section-title">Crie um backup sob demanda</block>
  <block id="f874973a64b67b3f5a5bb3aa28c5ed12" category="paragraph">Você pode fazer backup de um aplicativo a qualquer momento.</block>
  <block id="e0babda055ca7a962e4010e772393eb7" category="open-title">Crie uma cópia de segurança utilizando um CR</block>
  <block id="adfd482111138eb2dfed01cdbaf4bead" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o<block ref="a130741c8dff3b771a616715e2390607" prefix=" " category="inline-code"></block>.</block>
  <block id="888ea90f9844794ae90f13cbee8b341f" category="list-text">*Spec.applicationRef*: (_required_) o nome do Kubernetes do aplicativo para fazer backup.</block>
  <block id="df4c9919e99b5b20e10644af2e6480e1" category="list-text">*Spec.appVaultRef*: (_required_) o nome do AppVault onde o conteúdo de backup deve ser armazenado.</block>
  <block id="2c5daece4baabe00a1e913f6f4248b54" category="list-text">*Spec.dataMover*: (_Optional_) Uma cadeia de carateres indicando qual ferramenta de backup usar para a operação de backup. Valores possíveis (sensíveis a maiúsculas e minúsculas):</block>
  <block id="2baffe938961bfb9edd7d7ddfd52e2e1" category="list-text"><block ref="5f1c05bdfa0fa9da52e78fce65f0891a" prefix="" category="inline-code"></block></block>
  <block id="02c4383beef4fc06361dc4ef7bd9762a" category="list-text"><block ref="d112b025f416527f157666baac7d0ff7" prefix="" category="inline-code"></block> (predefinição)</block>
  <block id="5a848fb25ba88be36b674bded99badbd" category="list-text">*Spec.reclaimPolicy*: (_Optional_) define o que acontece com um backup quando liberado de sua reivindicação. Valores possíveis:</block>
  <block id="e3cdcd12b4f53ac42049007406401d18" category="list-text">Depois de preencher o<block ref="a130741c8dff3b771a616715e2390607" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="4dd48cffc8290e0b33e5c4ee6ddc6dbb" category="open-title">Crie um backup usando a CLI</block>
  <block id="25ccf268b4f889fe28d3f3de94aace02" category="list-text">Crie o backup, substituindo valores entre parênteses por informações do seu ambiente. Por exemplo:</block>
  <block id="451d39e79b7f4418d96b486e79bbce7d" category="section-title">Criar um cronograma de proteção de dados</block>
  <block id="45ad0235a77627fe6b23b64997cecf69" category="paragraph">Uma política de proteção protege um aplicativo criando snapshots, backups ou ambos em um cronograma definido. Você pode optar por criar snapshots e backups por hora, diariamente, semanalmente e mensalmente, e especificar o número de cópias a reter.</block>
  <block id="1f3ba9ee33f6eeade259b37d0a9d4295" category="open-title">Crie uma agenda usando um CR</block>
  <block id="0e94d109e3c6dd8f63d25b03253b5d5b" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o<block ref="8b0c6e1f32e0c117335dedae62b11dba" prefix=" " category="inline-code"></block>.</block>
  <block id="fd3508664419c1ac5449e5dc6073188b" category="list-text">*Spec.applicationRef*: O nome do Kubernetes do aplicativo para fazer backup.</block>
  <block id="42423d5a056001113d7894f5f70d7b91" category="list-text">*Spec.backupRetention*: O número de backups a reter. Zero indica que nenhum backup deve ser criado.</block>
  <block id="53ea99d8bfae17bb8fc2186524166892" category="list-text">*Spec.snapshotRetention*: O número de instantâneos a reter. Zero indica que nenhum instantâneo deve ser criado.</block>
  <block id="da9137c7fbfdc9b7f02e3ca8def0431d" category="list-text">*spec.granularity*: a frequência em que o horário deve ser executado. Valores possíveis, juntamente com campos associados obrigatórios:</block>
  <block id="682d677bcf1ee88366ae753c477ace2d" category="list-text"><block ref="745fd0ea7f576f350a0eed4b8c48a8e2" prefix="" category="inline-code"></block> (requer que você<block ref="aadd5cec42dbc02d51f62a1095401f59" prefix=" " category="inline-code"></block> especifique )</block>
  <block id="a1fbdfda9f5f05dbe5b05383881f400f" category="list-text"><block ref="bea79186fd7af2da67e59b4b15df5a26" prefix="" category="inline-code"></block> (requer que você especifique<block ref="aadd5cec42dbc02d51f62a1095401f59" prefix=" " category="inline-code"></block> e<block ref="9199af27775b1a2a876e6d7b25540711" prefix=" " category="inline-code"></block>)</block>
  <block id="41f071e1fad48cd8dcd577b1ac9c6917" category="list-text"><block ref="4a11fc05ed694c195f0703605b64da90" prefix="" category="inline-code"></block> (requer especificar<block ref="d5870327522a71f5b75f9d3793d0dc97" prefix=" " category="inline-code"></block>, e<block ref="4a04848e0e6e9423892ebc93ae61842d" prefix=" " category="inline-code"></block>)</block>
  <block id="80ec5614051d9052a9306e31ccee727b" category="list-text"><block ref="708638881f3bac9d9c8c742c79502811" prefix="" category="inline-code"></block> (requer especificar<block ref="d5870327522a71f5b75f9d3793d0dc97" prefix=" " category="inline-code"></block>, e<block ref="9a7606959f42328ceeef95d70c353158" prefix=" " category="inline-code"></block>)</block>
  <block id="fcf190043fb09fd4804fe6782a78a9a2" category="list-text">*Spec.dayOfMonth*: (_Optional_) o dia do mês (1 - 31) em que a programação deve ser executada. Este campo é necessário se a granularidade estiver definida como<block ref="708638881f3bac9d9c8c742c79502811" prefix=" " category="inline-code"></block>.</block>
  <block id="2af4c701bc864e6f851f67ac3c19d5ea" category="list-text">*Spec.DayOfWeek*: (_Optional_) o dia da semana (0 - 7) em que o horário deve ser executado. Os valores de 0 ou 7 indicam domingo. Este campo é necessário se a granularidade estiver definida como<block ref="4a11fc05ed694c195f0703605b64da90" prefix=" " category="inline-code"></block>.</block>
  <block id="b3af349c3c5d7f7aaa212c92d5ea9e51" category="list-text">*Spec.hour*: (_Optional_) a hora do dia (0 - 23) em que o horário deve ser executado. Este campo é necessário se a granularidade estiver definida como<block ref="bea79186fd7af2da67e59b4b15df5a26" prefix=" " category="inline-code"></block>,<block ref="4a11fc05ed694c195f0703605b64da90" prefix=" " category="inline-code"></block><block ref="708638881f3bac9d9c8c742c79502811" prefix=" " category="inline-code"></block> ou .</block>
  <block id="27c9cf2998853e8a9b756268b2844110" category="list-text">*Spec.minute*: (_Optional_) o minuto da hora (0 - 59) que o horário deve ser executado. Este campo é necessário se a granularidade estiver definida como<block ref="745fd0ea7f576f350a0eed4b8c48a8e2" prefix=" " category="inline-code"></block>, ,<block ref="bea79186fd7af2da67e59b4b15df5a26" prefix=" " category="inline-code"></block><block ref="4a11fc05ed694c195f0703605b64da90" prefix=" " category="inline-code"></block> , ou<block ref="708638881f3bac9d9c8c742c79502811" prefix=" " category="inline-code"></block>.</block>
  <block id="1326c499c45cd471c6075891c6573130" category="list-text">Depois de preencher o<block ref="8b0c6e1f32e0c117335dedae62b11dba" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="6bb2ab2bbc2b0f3f5faec961628f6f4b" category="open-title">Crie uma agenda usando a CLI</block>
  <block id="95e2bfc6f531a05575927e45b0a34558" category="list-text">Crie o cronograma de proteção, substituindo valores entre parênteses por informações do seu ambiente. Por exemplo:</block>
  <block id="efb44cfe1d5b8d9954ea045385675c66" category="section-title">Eliminar um instantâneo</block>
  <block id="a37bf6328466dc531288498c6041de5f" category="paragraph">Exclua os snapshots programados ou sob demanda que você não precisa mais.</block>
  <block id="3eb928cdf7a13317d47b6aff6e1777bc" category="list-text">Remover o instantâneo CR associado ao instantâneo:</block>
  <block id="cb2cecbd9776fc0c17c7929541fe9404" category="section-title">Eliminar uma cópia de segurança</block>
  <block id="2072fc95a1bd08ae58a002d5b61a84d0" category="paragraph">Exclua os backups programados ou sob demanda que você não precisa mais.</block>
  <block id="7b30bbf41be45c1c70a68e6dd971d83a" category="list-text">Remova o CR de backup associado ao backup:</block>
  <block id="b4907a30deb60cd2f8ea2856235ce4d7" category="section-title">Verifique o status de uma operação de backup</block>
  <block id="b030755f5014f11eb86aee527d4ef872" category="paragraph">Você pode usar a linha de comando para verificar o status de uma operação de backup em andamento, concluída ou falhou.</block>
  <block id="83fe182363ccdea33046e538aec4ac23" category="list-text">Use o seguinte comando para recuperar o status da operação de backup, substituindo valores em brackes por informações do seu ambiente:</block>
  <block id="bdd3c7731ba2eae7059bfebd0d56c7e3" category="section-title">Habilite o backup e a restauração de operações do Azure-NetApp-Files (ANF)</block>
  <block id="e9730662640f8238dbf4ed30d6292ecb" category="paragraph">Se você tiver instalado o Trident Protect, poderá habilitar a funcionalidade de backup e restauração com uso eficiente de espaço para back-ends de armazenamento que usam a classe de armazenamento azure-NetApp-Files e foram criados antes do Trident 24,06. Esta funcionalidade funciona com NFSv4 volumes e não consome espaço adicional do pool de capacidade.</block>
  <block id="a3ba5a3fd33b03f148e52fd833cda7c3" category="paragraph">Certifique-se de que:</block>
  <block id="a6cdb2021351db573212b98138416717" category="list-text">Você instalou o Trident Protect.</block>
  <block id="1b56af5799cb507ae72605b020a620df" category="list-text">Você definiu um aplicativo no Trident Protect. Esta aplicação terá uma funcionalidade de proteçãoão limitada até concluir este procedimento.</block>
  <block id="a9910fb38baec2aa849c3ea6191b1cf9" category="list-text">Você<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> selecionou como a classe de armazenamento padrão para o back-end de armazenamento.</block>
  <block id="579cc8ac85c74501fbfa1bac4d013c1f" category="example-title">Expanda para obter as etapas de configuração</block>
  <block id="b1927eae954479de09c736cae4ed08dd" category="list-text">No Trident, se o volume do ANF tiver sido criado antes da atualização para o Trident 24,10:</block>
  <block id="119a6ab21356c173b517e4baf8ab21d3" category="list-text">Ative o diretório instantâneo para cada PV que é baseado em azure-NetApp-Files e associado ao aplicativo:</block>
  <block id="9cb0a94d3b3051cae7cda63d4c5aa1d6" category="list-text">Confirme se o diretório instantâneo foi ativado para cada PV associado:</block>
  <block id="54472d1da4b0c6eadf8684e846b25dcc" category="paragraph">Resposta:</block>
  <block id="77c9498d5c74a08af1c5918bd5fd8ee1" category="paragraph">Quando o diretório instantâneo não está ativado, o Trident Protect escolhe a funcionalidade de backup regular, que consome temporariamente espaço no pool de capacidade durante o processo de backup. Nesse caso, certifique-se de que há espaço suficiente disponível no pool de capacidade para criar um volume temporário do tamanho do volume que está sendo feito backup.</block>
  <block id="2efd4c8775ce47d6aa29183091d2a4e2" category="paragraph">O aplicativo está pronto para backup e restauração usando o Trident Protect. Cada PVC também está disponível para ser usado por outras aplicações para backups e restaurações.</block>
  <block id="697f51e8965440d487236d46d469510d" category="summary">Comece verificando a prontidão do seu ambiente operacional, clusters de aplicativos, aplicativos e licenças. Certifique-se de que seu ambiente atenda a esses requisitos para implantar e operar o Trident Protect.</block>
  <block id="c8f91050b5ec3e677d9c7e16e424f9bc" category="paragraph">O Trident Protect é compatível com uma ampla variedade de ofertas do Kubernetes totalmente gerenciadas e autogeridas, incluindo:</block>
  <block id="480c9b5f979d1ce95ea2a58b09826d1b" category="list-text">Amazon Elastic Kubernetes Service (EKS)</block>
  <block id="974030a30a48754684d05541fd5e96c9" category="list-text">Google Kubernetes Engine (GKE)</block>
  <block id="f3bd1985b243e9691bbbd63c6702344b" category="list-text">Microsoft Azure Kubernetes Service (AKS)</block>
  <block id="b175d08ac03101cd40f077848d436e1f" category="list-text">Red Hat OpenShift</block>
  <block id="6577b94f9943e513915919cfd0dc5909" category="list-text">SUSE Rancher</block>
  <block id="c395793804bd9dfa82ff727781faf3c5" category="list-text">Portfólio do VMware Tanzu</block>
  <block id="1de3a8db0dcc39abe68ae2b506a8f0ac" category="list-text">Kubernetes upstream</block>
  <block id="f6fbfc99b1ed4fcb2dee65355a088f0b" category="section-title">O Trident protege a compatibilidade de back-end de storage</block>
  <block id="dc754c1df3be627f8c83600f4c69aade" category="paragraph">O Trident Protect suporta os seguintes backends de armazenamento:</block>
  <block id="ca3930511e1c5997e851e891e33190ab" category="list-text">Storage arrays ONTAP</block>
  <block id="e254891423d193d0e614eaf948880de5" category="paragraph">Certifique-se de que o back-end de storage atenda aos seguintes requisitos:</block>
  <block id="1efa9b79a24750278cc3058eaf2ead00" category="list-text">Verifique se você tem um back-end de storage do NetApp ONTAP.</block>
  <block id="c9a524733ac9eb25fbf1980538b5437d" category="list-text">Certifique-se de ter configurado um bucket de armazenamento de objetos para armazenar backups.</block>
  <block id="953216b11f9b494b0b28bcec605cbea1" category="list-text">Crie namespaces de aplicações que você planeja usar para aplicações ou operações de gerenciamento de dados de aplicações. O Trident Protect não cria esses namespaces para você; se você especificar um namespace inexistente em um recurso personalizado, a operação falhará.</block>
  <block id="f4ce5a5f08fdc6de51b81cc305a21fd0" category="section-title">Requisitos para volumes nas-economia</block>
  <block id="85641afe25671a9190f50185f6e499d5" category="paragraph">O Trident Protect é compatível com operações de backup e restauração em volumes com economia nas. Snapshots, clones e replicação SnapMirror para volumes nas-Economy atualmente não são compatíveis. Você precisa ativar um diretório de snapshot para cada volume de economia nas que você planeja usar com o Trident Protect.</block>
  <block id="43da051477acee60af3ad54451d3d090" category="paragraph">Alguns aplicativos não são compatíveis com volumes que usam um diretório instantâneo. Para esses aplicativos, você precisa ocultar o diretório instantâneo executando o seguinte comando no sistema de armazenamento ONTAP:</block>
  <block id="beb2d6f4cedfc5b87a39d1766369fade" category="paragraph">Você pode ativar o diretório de snapshot executando o seguinte comando para cada volume de economia nas, substituindo<block ref="a86374477aa0b3d451812bb6ced0458d" prefix=" " category="inline-code"></block> pelo UUID do volume que deseja alterar:</block>
  <block id="70117c3862b4c793cc80799862e6fde9" category="admonition">Você pode habilitar diretórios de snapshot por padrão para novos volumes definindo a opção de configuração de back-end do Trident<block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix=" " category="inline-code"></block> como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>. Os volumes existentes não são afetados.</block>
  <block id="3ab436334531996382ccf17d7d3a4d69" category="section-title">Requisitos para replicação do SnapMirror</block>
  <block id="00ae925249b1dcd734cdb679b48bf8f7" category="list-text">NetApp ONTAP Select</block>
  <block id="0f0b99ea2f70cd363c2c6a279f74e760" category="list-text">NetApp Cloud Volumes ONTAP</block>
  <block id="9f91d52d37c43ec162560596ac851ec9" category="section-title">Requisitos de cluster do ONTAP para replicação do SnapMirror</block>
  <block id="6ed8f95cb1dcd3baff756120151793a9" category="paragraph">Se você planeja usar a replicação do SnapMirror, verifique se o cluster do ONTAP atende aos seguintes requisitos:</block>
  <block id="ba84728ffba482ceb12371a53be2f636" category="inline-link">Visão geral do licenciamento do SnapMirror no ONTAP</block>
  <block id="b677eb65f7f869d18b845725a133a8d5" category="list-text">*Licenças*: As licenças assíncronas do ONTAP SnapMirror usando o pacote proteção de dados devem estar ativadas nos clusters ONTAP de origem e destino. <block ref="a7b9425cefc4a3715b38951f4b2b6b35" category="inline-link-rx"></block>Consulte para obter mais informações.</block>
  <block id="ed097f5d093bf5311313c62bfb2f2d5a" category="section-title">Considerações de peering para replicação do SnapMirror</block>
  <block id="a56ca0c4752a7197e296cb9141e9be9f" category="paragraph">Certifique-se de que seu ambiente atenda aos seguintes requisitos se você planeja usar peering de back-end de storage:</block>
  <block id="9fecd08b776fdfca7b33426363edf913" category="inline-link">Visão geral do peering de cluster e SVM</block>
  <block id="ddae31913091b421eaff815ed1e19b4f" category="list-text">*Cluster e SVM*: Os backends de storage do ONTAP devem ser colocados em Contato. <block ref="36ecaf21e9ca81a83e736deb4ff5c657" category="inline-link-rx"></block>Consulte para obter mais informações.</block>
  <block id="94ac6b3955eab183cb88ab17c91000eb" category="admonition">Certifique-se de que os nomes do SVM usados na relação de replicação entre dois clusters ONTAP sejam exclusivos.</block>
  <block id="e05c29680eacd6a4c163eefe138ff9fd" category="list-text">*Backends gerenciados*: Você precisa adicionar e gerenciar backends de armazenamento ONTAP no Trident Protect para criar uma relação de replicação.</block>
  <block id="57fe82c052fea1c269ca2b14e92e80d3" category="section-title">Configuração Trident / ONTAP para replicação SnapMirror</block>
  <block id="59292a70a610fc937685ef1c3a3b5cb1" category="paragraph">O Trident Protect exige que você configure pelo menos um back-end de storage compatível com a replicação para os clusters de origem e destino. Se os clusters de origem e destino forem iguais, o aplicativo de destino deverá usar um back-end de storage diferente do aplicativo de origem para obter a melhor resiliência.</block>
  <block id="4b92c534580865d96f1efb9f86289249" category="summary">Você pode usar o Trident Protect para restaurar seu aplicativo a partir de um snapshot ou backup. A restauração a partir de um instantâneo existente será mais rápida ao restaurar o aplicativo para o mesmo cluster.</block>
  <block id="ff29014f3961a30f52557df7142d1a65" category="doc">Restaurar aplicativos</block>
  <block id="f346d32ba5d9c332bf8577bf1bacda07" category="admonition">Quando você restaura um aplicativo, todos os ganchos de execução configurados para o aplicativo são restaurados com o aplicativo. Se um gancho de execução pós-restauração estiver presente, ele será executado automaticamente como parte da operação de restauração.</block>
  <block id="a082effb2d23d4eb077129001a77582f" category="section-title">Restaure de um backup para um namespace diferente</block>
  <block id="5a3a68cc2fb27d13057472b4869353f1" category="open-title">Use um CR</block>
  <block id="0334c5d881452d9144d4edf93d44ff85" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o<block ref="aa3356b96c40153ef83fe9854ede7a70" prefix=" " category="inline-code"></block>.</block>
  <block id="8ebefb3e84a05b2e3bf54824870d776d" category="list-text">*Spec.appArchivePath*: O caminho dentro do AppVault onde o conteúdo do backup é armazenado. Você pode usar o seguinte comando para encontrar este caminho:</block>
  <block id="3f1db1c30ba33e5d04499f000ed77f97" category="list-text">*Spec.appVaultRef*: (_required_) o nome do AppVault onde o conteúdo de backup é armazenado.</block>
  <block id="a5085953f7b15a312b4e12827abc66e5" category="list-text">(_Opcional_) se você precisar selecionar apenas determinados recursos do aplicativo para restaurar, adicione filtragem que inclua ou exclua recursos marcados com rótulos específicos:</block>
  <block id="be16b6e14200639734fb9694e3c0f655" category="list-text">*ResourceMatchers[].group*: (_Optional_) Grupo do recurso a ser filtrado.</block>
  <block id="2162d9f0c97d87c37f838ea27ecb393a" category="list-text">*ResourceMatchers[].kind*: (_Opcional_) tipo do recurso a ser filtrado.</block>
  <block id="862dca1a77422225d13abda4b7bf539b" category="list-text">*ResourceMatchers[].version*: (_Optional_) versão do recurso a ser filtrado.</block>
  <block id="f5d1dcaf86934b4541162f010db1d3e1" category="list-text">*ResourceMatchers[].names*: (_Optional_) nomes no campo Kubernetes metadata.name do recurso a ser filtrado.</block>
  <block id="19c69b04e9f9adb29979cc0ff90625b2" category="list-text">*ResourceMatchers[].namespaces*: (_Optional_) namespaces no campo Kubernetes metadata.name do recurso a ser filtrado.</block>
  <block id="cb4354b08a6a88b3c12671390a85c520" category="list-text">*ResourceMatchers[].labelSelectors*: (_Optional_) string de seleção de etiquetas no campo Kubernetes metadata.name do recurso, conforme definido no<block ref="d4ce3da8407a7d8e148bb1287288e778" category="inline-link-rx"></block>. Por exemplo<block ref="6ea45baf659f1f35e51c8dc9005eac03" prefix=" " category="inline-code"></block>: .</block>
  <block id="18ad656f28db1ef6b2d76d21959ca243" category="list-text">Depois de preencher o<block ref="aa3356b96c40153ef83fe9854ede7a70" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="8a9e0f8224695e94f0988f444488877b" category="open-title">Use a CLI</block>
  <block id="6a07207e8441bfa8c4c36dc925112780" category="list-text">Restaure o backup para um namespace diferente, substituindo valores entre parênteses por informações do seu ambiente. O<block ref="65e11896cb6b19f7dcb2432e67c74725" prefix=" " category="inline-code"></block> argumento usa namespaces separados por dois pontos para mapear namespaces de origem para os namespaces de destino corretos no formato<block ref="07c70c21dcae158a4b2f0d389a52981b" prefix=" " category="inline-code"></block>. Por exemplo:</block>
  <block id="0bfcabe961e72fea535a073143d53fad" category="section-title">Restaure de um backup para o namespace original</block>
  <block id="7260bc412b6c22c2589f01098c1f4430" category="paragraph">Você pode restaurar um backup para o namespace original a qualquer momento.</block>
  <block id="34653be4af07bad31b9a3775f18b1b5f" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o<block ref="59a09233aaa2a2c9e25fc46650bd6dee" prefix=" " category="inline-code"></block>.</block>
  <block id="349d4c53fe9d2e740d60f7ce8094c294" category="list-text">Depois de preencher o<block ref="59a09233aaa2a2c9e25fc46650bd6dee" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="11d13ce9542ccbfd1e47138c96b125a1" category="list-text">Restaure o backup para o namespace original, substituindo valores entre parênteses por informações do seu ambiente. O<block ref="402051f4be0cc3aad33bcf3ac3d6532b" prefix=" " category="inline-code"></block> argumento usa um namespace e um nome de backup no formato<block ref="7310980de32cd5ca687291f4b01b2e19" prefix=" " category="inline-code"></block>. Por exemplo:</block>
  <block id="db4c6bfd26488f4d6ab2ec6129b067d8" category="section-title">Restauração de um snapshot para um namespace diferente</block>
  <block id="941a76112ae80457a7a22ae552218be9" category="section-title">Restauração de um snapshot para o namespace original</block>
  <block id="a392e5395f0751460dc460cd6ec5e89d" category="paragraph">Você pode restaurar um snapshot para o namespace original a qualquer momento.</block>
  <block id="4d18dba9a79fbe92e2bb99f0a9300df3" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o<block ref="620b0dae36dbe6aeaae5d993f961c634" prefix=" " category="inline-code"></block>.</block>
  <block id="54625166c25afd8a6a484aaf2f346fbb" category="list-text">Depois de preencher o<block ref="620b0dae36dbe6aeaae5d993f961c634" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="6bd960f94c189d42fef14b770c0ac909" category="list-text">Restaure o snapshot para o namespace original, substituindo valores entre parênteses por informações do seu ambiente. Por exemplo:</block>
  <block id="ba2718de6be08337811d049982d9f03f" category="section-title">Verifique o status de uma operação de restauração</block>
  <block id="97dedb929a195e839af5f7d7f8ef0ec5" category="paragraph">Você pode usar a linha de comando para verificar o status de uma operação de restauração que está em andamento, concluiu ou falhou.</block>
  <block id="c076e91339c1f092aaad1d36a9c18a7a" category="list-text">Use o seguinte comando para recuperar o status da operação de restauração, substituindo valores em brackes por informações do seu ambiente:</block>
  <block id="3b236bd888d7d3460e381b13adb8f6b8" category="summary">Talvez seja necessário remover componentes do Trident Protect se você estiver atualizando de uma versão de avaliação para uma versão completa do produto.</block>
  <block id="1bc8acdabd6fc240195da5f19b986dd6" category="doc">Desinstalar o Trident Protect</block>
  <block id="fb509ce83a58c3beeca23f5d55c8d75c" category="paragraph">Para remover o Trident Protect, execute as etapas a seguir.</block>
  <block id="f6116aed83b3970c50d28447d27f4f97" category="list-text">Remova os arquivos Trident Protect CR:</block>
  <block id="aec02c2a1b714f40a949aa18d1f2d588" category="list-text">Remover Trident Protect:</block>
  <block id="20c06650be80c297c0e4dc5ae977d44f" category="list-text">Remova o namespace Trident Protect:</block>
  <block id="a8c1fc9f09b8338dd9f8badd5c3d30c0" category="summary">Você pode criar um gancho de execução personalizado para um aplicativo usando o Trident Protect. Você precisa ter permissões de proprietário, administrador ou membro para criar ganchos de execução.</block>
  <block id="ccd62d676165e34c2e9c6d088c06e70f" category="paragraph">Um gancho de execução é uma ação personalizada que você pode configurar para ser executada em conjunto com uma operação de proteção de dados de um aplicativo gerenciado. Por exemplo, se você tiver um aplicativo de banco de dados, poderá usar um gancho de execução para pausar todas as transações de banco de dados antes de um snapshot e retomar as transações após a conclusão do snapshot. Isso garante snapshots consistentes com aplicativos.</block>
  <block id="83fbf1604bedff410ea11872b40ab9f0" category="section-title">Tipos de ganchos de execução</block>
  <block id="d702711249a4d54c15ce81c80152b8e7" category="paragraph">O Trident Protect suporta os seguintes tipos de ganchos de execução, com base em quando eles podem ser executados:</block>
  <block id="9c6a9cc04a4d5840a5d237b232190a35" category="list-text">Pré-instantâneo</block>
  <block id="65db6b15c7f05c97a1647c11699053e3" category="list-text">Pós-snapshot</block>
  <block id="0a2055495a94f091655a2e4d421cffe2" category="list-text">Pré-backup</block>
  <block id="cf6e97e89c4b36c29252fcb7b0728d2f" category="list-text">Pós-backup</block>
  <block id="349b93d2884e6ca3d41d0d9dab41dcd8" category="list-text">Pós-restauração</block>
  <block id="0952ad82f36d650828c9197bb777ee05" category="list-text">Pós-failover</block>
  <block id="a9f57378169166a88acf61a71442e5fb" category="section-title">Ordem de execução</block>
  <block id="e8132483e0cae3565c87c193b3fd8f57" category="paragraph">Quando uma operação de proteção de dados é executada, os eventos de gancho de execução ocorrem na seguinte ordem:</block>
  <block id="4a6ccf1757fd10978b3fb28d81187dcc" category="list-text">Todos os ganchos de execução personalizados de pré-operação aplicáveis são executados nos contentores apropriados. Você pode criar e executar quantos ganchos de pré-operação personalizados você precisar, mas a ordem de execução desses ganchos antes da operação não é garantida nem configurável.</block>
  <block id="cfbed2286711be0cf6dbc12aba602709" category="list-text">A operação de proteção de dados é realizada.</block>
  <block id="9465fae733e0b5fdcd6e532ef8a78b08" category="list-text">Todos os ganchos de execução pós-operação personalizados aplicáveis são executados nos contentores apropriados. Você pode criar e executar quantos ganchos de pós-operação personalizados você precisar, mas a ordem de execução desses ganchos após a operação não é garantida nem configurável.</block>
  <block id="a4ce4f522b635b3063f4af5d138933cc" category="paragraph">Se você criar vários ganchos de execução do mesmo tipo (por exemplo, pré-snapshot), a ordem de execução desses ganchos não será garantida. No entanto, a ordem de execução de ganchos de diferentes tipos é garantida. Por exemplo, a seguinte é a ordem de execução de uma configuração que tem todos os diferentes tipos de ganchos:</block>
  <block id="25fcbdcc7c9fb7d2e1db9e64ef06804c" category="list-text">Ganchos pré-instantâneos executados</block>
  <block id="f098e888afa8ccb3f1ad3337c3b6eea1" category="list-text">Ganchos pós-snapshot executados</block>
  <block id="59b50be8e9e2ed1b0e1bccae54c76036" category="list-text">Ganchos pré-backup executados</block>
  <block id="1f374d287bf615eef6eb9afd92b862f2" category="list-text">Ganchos pós-backup executados</block>
  <block id="e807d528474129e76f18c5ce17a2c3d6" category="admonition">O exemplo de pedido anterior só se aplica quando você executa um backup que não usa um snapshot existente.</block>
  <block id="b74efcc6eafe1d8dec6ade34cfa13365" category="admonition">Você deve sempre testar seus scripts de gancho de execução antes de habilitá-los em um ambiente de produção. Você pode usar o comando 'kubectl exec' para testar convenientemente os scripts. Depois de habilitar os ganchos de execução em um ambiente de produção, teste os snapshots e backups resultantes para garantir que eles sejam consistentes. Você pode fazer isso clonando o aplicativo para um namespace temporário, restaurando o snapshot ou o backup e testando o aplicativo.</block>
  <block id="f99748fb4b1cf592516b60937743c52d" category="section-title">Notas importantes sobre ganchos de execução personalizados</block>
  <block id="6b8e88c5f4231fbc6994f3a29dd893af" category="paragraph">Considere o seguinte ao Planejar ganchos de execução para seus aplicativos.</block>
  <block id="c9333604c0c05d7727ea70ec5f1b806b" category="list-text">Um gancho de execução deve usar um script para executar ações. Muitos ganchos de execução podem referenciar o mesmo script.</block>
  <block id="cc0a52984aa9087cc5fca898c4dc1caa" category="list-text">O Trident Protect requer que os scripts que os ganchos de execução usam sejam escritos no formato de scripts shell executáveis.</block>
  <block id="6a7d60379bb9015c0bfe02adcc54d0b5" category="list-text">O tamanho do script está limitado a 96kbMB.</block>
  <block id="d6eb1b65eb578d8eb99d367edc11bb03" category="list-text">O Trident Protect usa configurações de gancho de execução e quaisquer critérios correspondentes para determinar quais ganchos são aplicáveis a uma operação de snapshot, backup ou restauração.</block>
  <block id="6b988caf78b1aa60f0402c611a1c8e2a" category="admonition">Como os ganchos de execução geralmente reduzem ou desativam completamente a funcionalidade do aplicativo em que estão sendo executados, você deve sempre tentar minimizar o tempo que seus ganchos de execução personalizados demoram para serem executados. Se você iniciar uma operação de backup ou snapshot com ganchos de execução associados, mas depois cancelá-la, os ganchos ainda poderão ser executados se a operação de backup ou snapshot já tiver começado. Isso significa que a lógica usada em um gancho de execução pós-backup não pode assumir que o backup foi concluído.</block>
  <block id="99dc882fc0f61d1db87631ed9f156913" category="section-title">Filtros de gancho de execução</block>
  <block id="44db75fbdb91be494665aebf40107fcf" category="paragraph">Quando você adiciona ou edita um gancho de execução para um aplicativo, você pode adicionar filtros ao gancho de execução para gerenciar quais contentores o gancho corresponderá. Os filtros são úteis para aplicativos que usam a mesma imagem de contentor em todos os contentores, mas podem usar cada imagem para um propósito diferente (como o Elasticsearch). Os filtros permitem criar cenários onde os ganchos de execução são executados em alguns, mas não necessariamente em todos os contentores idênticos. Se você criar vários filtros para um único gancho de execução, eles serão combinados com um operador LÓGICO E. Você pode ter até 10 filtros ativos por gancho de execução.</block>
  <block id="7caae75448dbc59fcadd621099e170b3" category="inline-link">Suporte à sintaxe da expressão regular 2 (RE2)</block>
  <block id="c8390f7fcf8913e63d64e8069f87aa58" category="paragraph">Cada filtro que você adicionar a um gancho de execução usa uma expressão regular para corresponder a containers em seu cluster. Quando um gancho corresponde a um recipiente, o gancho executará o script associado nesse recipiente. As expressões regulares para filtros usam a sintaxe da expressão regular 2 (RE2), que não suporta a criação de um filtro que exclui contentores da lista de correspondências. Para obter informações sobre a sintaxe que o Trident Protect suporta para expressões regulares em filtros de gancho de execução,<block ref="d4d0dd655d04b2dc5b031206e1febd50" category="inline-link-rx"></block> consulte .</block>
  <block id="4c004df391027b81952b788a3802e37c" category="admonition">Se você adicionar um filtro de namespace a um gancho de execução que é executado após uma operação de restauração ou clone e a origem e destino de restauração ou clone estiverem em namespaces diferentes, o filtro de namespace será aplicado somente ao namespace de destino.</block>
  <block id="f1ec6389b6d19d3be02f29f4a7d29051" category="section-title">Exemplos de gancho de execução</block>
  <block id="0370124d48bfc5af2def19c48f433283" category="inline-link">Projeto NetApp Verda GitHub</block>
  <block id="a59e4fa5cc01a3a4bdebbff4cec60b47" category="paragraph">Visite o<block ref="84d9961ef5a89731849bc2055780d0b6" category="inline-link-rx"></block> para baixar ganchos de execução reais para aplicativos populares, como Apache Cassandra e Elasticsearch. Você também pode ver exemplos e obter ideias para estruturar seus próprios ganchos de execução personalizados.</block>
  <block id="b103709bb8bab06f6db02c661d88466a" category="section-title">Crie um gancho de execução</block>
  <block id="e39c63d5ded2742e4215d5e339fa729e" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o<block ref="ce6abb389eaae6953714e27f1dfde579" prefix=" " category="inline-code"></block>.</block>
  <block id="a1b64283bac1ca460b6b777a46121e7f" category="list-text">Configure os seguintes atributos para corresponder ao ambiente do Trident Protect e à configuração do cluster:</block>
  <block id="500ef917ae8cc36e9c85a2c0bc7d9337" category="list-text">*Spec.applicationRef*: (_required_) o nome do Kubernetes do aplicativo para o qual executar o gancho de execução.</block>
  <block id="5422fe7ebd8e2354557341f5b0c60905" category="list-text">*Spec.stage*: (_required_) Uma cadeia de carateres indicando qual estágio durante a ação o gancho de execução deve ser executado. Valores possíveis:</block>
  <block id="fb55a965b77791b31ffd2bb548f71080" category="list-text">Pre</block>
  <block id="03d947a2158373c3b9d74325850cb8b9" category="list-text">Post</block>
  <block id="e60e3d87a1e5f522bbc8419b61b46a94" category="list-text">*Spec.action*: (_required_) Uma cadeia de carateres indicando qual ação o gancho de execução tomará, supondo que quaisquer filtros de gancho de execução especificados sejam correspondentes. Valores possíveis:</block>
  <block id="3500ba09d0538297440ca620c9dd46bf" category="list-text">Backup</block>
  <block id="2bd339d85ee3b33e513359ce781b60cc" category="list-text">Restaurar</block>
  <block id="7388404ef116c3ff812bfd290b094d9e" category="list-text">Failover</block>
  <block id="216715348d2815376ef6d68d1ae8d3a1" category="list-text">*Spec.enabled*: (_Optional_) indica se esse gancho de execução está ativado ou desativado. Se não for especificado, o valor padrão é verdadeiro.</block>
  <block id="aa6776e9151e1848128d771057fdb5d1" category="list-text">*Spec.hookSource*: (_required_) Uma string contendo o script de gancho codificado em base64.</block>
  <block id="c2f4f9c36d367244147c02191649b33e" category="list-text">*Spec.timeout*: (_Optional_) Um número que define quanto tempo em minutos o gancho de execução pode ser executado. O valor mínimo é de 1 minuto e o valor padrão é de 25 minutos, se não for especificado.</block>
  <block id="327ca4bc755c7de7ac0d335364730679" category="list-text">*Spec.arguments*: (_Optional_) Uma lista YAML de argumentos que você pode especificar para o gancho de execução.</block>
  <block id="bf30a4b48b4b2636f15eacfc7159af33" category="list-text">*Spec.matchingCriteria*: (_Optional_) uma lista opcional de pares de valores de chave de critérios, cada par compondo um filtro de gancho de execução. Você pode adicionar até 10 filtros por gancho de execução.</block>
  <block id="9092d99fcac84905883e4e76cd55bfab" category="list-text">*Spec.matchingCriteria.type*: (_Optional_) Uma string que identifica o tipo de filtro do gancho de execução. Valores possíveis:</block>
  <block id="820b7ec56ed75f6138f5ddc10aec4747" category="list-text">ContainerImage</block>
  <block id="3d52068b047d2a094a1af32cb2e338d6" category="list-text">Nome do ConteinerName</block>
  <block id="8fd1f588fe68392265ea3a8149ce05a3" category="list-text">PodName</block>
  <block id="d76694b319ab8227266d15f77f5f7aec" category="list-text">PodLabel</block>
  <block id="d84562295e02e89c17de04ba750d4c35" category="list-text">NamespaceName</block>
  <block id="011b50d44a6bb217bbe310071e727641" category="list-text">*Spec.matchingCriteria.value*: (_Optional_) Uma string ou expressão regular identificando o valor do filtro do gancho de execução.</block>
  <block id="5b34802949c91e91f2c85f8ee1c129bd" category="list-text">Depois de preencher o ficheiro CR com os valores corretos, aplique o CR:</block>
  <block id="de72143da28c8cafc0b906859f6e6d05" category="list-text">Crie o gancho de execução, substituindo valores entre parênteses por informações do seu ambiente. Por exemplo:</block>
  <block id="d37692493f4055c8b34b9de2897bb1a6" category="summary">Com o Trident Protect, você pode usar os recursos de replicação assíncrona da tecnologia NetApp SnapMirror para replicar alterações de dados e aplicações de um back-end de storage para outro, no mesmo cluster ou entre clusters diferentes.</block>
  <block id="73ff2f0e4c750901167edccad459407d" category="doc">Replique aplicações com o NetApp SnapMirror</block>
  <block id="40322a2a338856f04751d8d3bdb62496" category="section-title">Configure uma relação de replicação</block>
  <block id="f7c69ddccabddb0b74276d3c2a3086e0" category="paragraph">A configuração de uma relação de replicação envolve o seguinte:</block>
  <block id="a7b38e98cd0b780e4d7f39ca030851fe" category="list-text">Escolhendo com que frequência você deseja que o Trident Protect tire um snapshot do aplicativo (que inclui os recursos do Kubernetes do aplicativo, bem como os snapshots de volume de cada um dos volumes do aplicativo)</block>
  <block id="cc37bc9830a1edb8e50e296af8ade03b" category="list-text">Escolha do cronograma de replicação (inclui recursos do Kubernetes e dados de volume persistente)</block>
  <block id="55960a396448d8f19fb182dfd2b04d90" category="list-text">Definir o tempo para a captura instantânea</block>
  <block id="7fe804bb721f10861ae38239b332f774" category="inline-link-macro">Recursos personalizados do AppVault</block>
  <block id="bb557baccf285d1ab6b4cdc32daf5848" category="open-title">Crie um AppVault usando um CR</block>
  <block id="32429298e62d70d6afc71defdbdd3c42" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o (por exemplo,<block ref="0992b18d0f3771479838d4ddbaa2b097" prefix=" " category="inline-code"></block> ).</block>
  <block id="4b60a832776a25dfdf74d5dac3d3111f" category="list-text">*metadata.name*: (_required_) o nome do recurso personalizado do AppVault. Anote o nome que você escolher, porque outros arquivos CR necessários para uma relação de replicação referem-se a esse valor.</block>
  <block id="2e65eb784535a1ecc4b75ea18e2863a6" category="list-text">*spec.providerConfig*: (_required_) armazena a configuração necessária para acessar o AppVault usando o provedor especificado. Escolha um bucketName e quaisquer outros detalhes necessários para o seu provedor. Anote os valores que você escolher, porque outros arquivos CR necessários para uma relação de replicação se referem a esses valores. <block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>Consulte para obter exemplos de AppVault CRS com outros provedores.</block>
  <block id="655a22501c6f6d02821989a81036e65e" category="list-text">*spec.providerCredentials*: (_required_) armazena referências a qualquer credencial necessária para acessar o AppVault usando o provedor especificado.</block>
  <block id="cb95e87ea13fe367aee43a64591dc23f" category="list-text">*spec.providerCredentials.valueFromSecret*: (_required_) indica que o valor da credencial deve vir de um segredo.</block>
  <block id="553f77a87c1f7385701bd0df77669571" category="list-text">*Key*: (_required_) a chave válida do segredo para selecionar.</block>
  <block id="cf3ae025f91646ac07aa5641d4e510cb" category="list-text">*Name*: (_required_) Nome do segredo que contém o valor deste campo. Deve estar no mesmo namespace.</block>
  <block id="0e022225fc6e6c1b2028f3a32bcc9dbc" category="list-text">*spec.providerCredentials.secretAccessKey*: (_required_) a chave de acesso usada para acessar o provedor. O *nome* deve corresponder a *spec.providerCredentials.valueFromSecret.name*.</block>
  <block id="3830f9aa0973251f5c2658ea2e742ee5" category="list-text">*spec.providerType*: (_required_) determina o que fornece o backup; por exemplo, NetApp ONTAP S3, S3 genérico, Google Cloud ou Microsoft Azure. Valores possíveis:</block>
  <block id="ac68bbf921d953d1cfab916cb6120864" category="list-text">aws</block>
  <block id="03034eb1f294ef4f7a106ae02a31ae45" category="list-text">generic-s3</block>
  <block id="a4d3001255c12ffd187d9548a2c800aa" category="list-text">ONTAP-s3</block>
  <block id="da8c660bc44b572ae5fc3157a93282cb" category="list-text">StorageGRID-s3</block>
  <block id="8af3a24bfad8f2e7a06abec1e5bc710e" category="list-text">Depois de preencher o<block ref="0992b18d0f3771479838d4ddbaa2b097" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="65b1402ebaf9b35766ab033225a55f41" category="open-title">Crie um AppVault usando a CLI</block>
  <block id="d686d91628b89b1ba45ca8bf5274eece" category="list-text">Crie o AppVault, substituindo valores entre parênteses por informações do seu ambiente:</block>
  <block id="93b7f025ad50fefb3f6b0c5ee86d6162" category="open-title">Crie o aplicativo de origem usando um CR</block>
  <block id="793bc477cba966a8d3771d018030c3c4" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o (por exemplo,<block ref="3e2c6ff026eba99761434b4f79aaa782" prefix=" " category="inline-code"></block> ).</block>
  <block id="3bf6684ac69fda7ed549f87ecb72678d" category="list-text">*metadata.name*: (_required_) o nome do recurso personalizado do aplicativo. Anote o nome que você escolher, porque outros arquivos CR necessários para uma relação de replicação referem-se a esse valor.</block>
  <block id="969353c1601d960362b65e2372b29251" category="list-text">*spec.includedNamespaces*: (_required_) um array de namespaces e rótulos associados. Use nomes de namespace e, opcionalmente, restrinja o escopo dos namespaces com rótulos para especificar recursos que existem nos namespaces listados aqui. O namespace da aplicação deve fazer parte desse array.</block>
  <block id="7a4e65ca72b4d8d16a9df08725a64df9" category="paragraph">*Exemplo YAML*:</block>
  <block id="948be8a05d305f0b3dece0e8dcaf4546" category="list-text">Depois de preencher o<block ref="3e2c6ff026eba99761434b4f79aaa782" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="677aa747b5e08444532c7cc040384124" category="open-title">Crie o aplicativo de origem usando a CLI</block>
  <block id="feaddb5b204f8f8f1226cc6f02275f5c" category="list-text">Crie o aplicativo de origem. Por exemplo:</block>
  <block id="929d5ad53cad5d51ead7578004e2d5e5" category="list-text">Crie um agendamento de replicação para o aplicativo de origem:</block>
  <block id="57cc31c4785dfe52bb22cc8d375a3b67" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o (por exemplo,<block ref="8898becea7c9a79dd32acb9c34818b46" prefix=" " category="inline-code"></block> ).</block>
  <block id="87918fdbe5607aeceec3ec53bc40a2f8" category="list-text">*metadata.name*: (_required_) o nome do recurso personalizado de agendamento.</block>
  <block id="3e23380d121194d4ed43d5587e33eeba" category="list-text">*Spec.AppVaultRef*: (_required_) este valor deve corresponder ao campo metadata.name do AppVault para o aplicativo de origem.</block>
  <block id="a7ac547d97c63ad78926b420081cf36d" category="list-text">*Spec.ApplicationRef*: (_required_) este valor deve corresponder ao campo metadata.name da aplicação de origem CR.</block>
  <block id="565c53b27f6972afc514c3431a7fb733" category="list-text">*Spec.backupRetention*: (_required_) este campo é obrigatório e o valor deve ser definido como 0.</block>
  <block id="e00228f2eaa851d908b74fd6e1cbb1ab" category="list-text">*Spec.enabled*: Deve ser definido como true.</block>
  <block id="b8e08f9f53492c0cf7c4c918c8c27185" category="list-text">*spec.granularity*: tem de estar definido para<block ref="90589c47f06eb971d548591f23c285af" prefix=" " category="inline-code"></block>.</block>
  <block id="8c33ed4b89c2cd001ffad0203fe3c3b6" category="list-text">*Spec.recurrenceRule*: Defina uma data de início no horário UTC e um intervalo de recorrência.</block>
  <block id="35ef995e5b9fe2ba99491ff849d63302" category="list-text">*Spec.snapshotRetention*: Deve ser definido como 2.</block>
  <block id="7c6d1c687b69c90909ec8375ac84883e" category="list-text">Depois de preencher o<block ref="8898becea7c9a79dd32acb9c34818b46" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="04a53b4d2f7e20d9df207bfb6beb6ee7" category="list-text">Aplicar o CR:</block>
  <block id="d5ab09bc69c7800783bce2e14f2e456f" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o (por exemplo,<block ref="b851e4210e3875aa9242df636b0b3068" prefix=" " category="inline-code"></block> ).</block>
  <block id="7fab67e3c762a0a044dd84f11a740dd7" category="list-text">*spec.providerConfig*: (_required_) armazena a configuração necessária para acessar o AppVault usando o provedor especificado. Escolha um<block ref="070a97dcde31faecac1fc843e205039c" prefix=" " category="inline-code"></block> e quaisquer outros detalhes necessários para o seu provedor. Anote os valores que você escolher, porque outros arquivos CR necessários para uma relação de replicação se referem a esses valores. <block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>Consulte para obter exemplos de AppVault CRS com outros provedores.</block>
  <block id="4758f7c104e1f75364dadc9f8310e51d" category="list-text">Depois de preencher o<block ref="b851e4210e3875aa9242df636b0b3068" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="15e5c4ea8565e669f02393ab1d7b1021" category="open-title">Crie um AppMirrorRelationship usando um CR</block>
  <block id="3ca407ea70946200511f8d2e1008f20f" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o (por exemplo,<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block> ).</block>
  <block id="52e868ab750f66344086c9bc5d6dadeb" category="list-text">*metadata.name:* (obrigatório) o nome do recurso personalizado AppMirrorRelationship.</block>
  <block id="d9ee8f59f7e4a770213d4728b012fa38" category="list-text">*spec.destinationAppVaultRef*: (_required_) esse valor deve corresponder ao nome do AppVault para o aplicativo de destino no cluster de destino.</block>
  <block id="ad47c31cec730ddef75893f6207a8350" category="list-text">*spec.namespaceMapping*: (_required_) os namespaces de destino e origem devem corresponder ao namespace de aplicativo definido no respetivo CR de aplicação.</block>
  <block id="0d2f17f43053f85c97752c575bb2af3e" category="list-text">*Spec.sourceAppVaultRef*: (_required_) este valor deve corresponder ao nome do AppVault para o aplicativo de origem.</block>
  <block id="5c0044cad9c27e4f4742c4a031edd6eb" category="list-text">*Spec.sourceApplicationName*: (_required_) esse valor deve corresponder ao nome do aplicativo de origem definido no CR do aplicativo de origem.</block>
  <block id="e1e70c108ffb369c9c05ac65820562c3" category="list-text">Depois de preencher o<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="d4c94febe4f13411fa761de57ad6cce6" category="open-title">Crie um AppMirrorRelationship usando a CLI</block>
  <block id="1d29e9d9da5d097b90cc18a976fa591c" category="list-text">Crie e aplique o objeto AppMirrorRelationship, substituindo valores entre parênteses por informações do seu ambiente. Por exemplo:</block>
  <block id="86d47ead9019d8e9c93c863f7ab4e41b" category="list-text">(_Optional_) Verifique o estado e o estado da relação de replicação:</block>
  <block id="70cc2bec279e168711b67e789468c45c" category="section-title">Failover para o cluster de destino</block>
  <block id="196c4df78e5add7c9590d6a1c18367ec" category="paragraph">Com o Trident Protect, você pode fazer failover de aplicações replicadas para um cluster de destino. Este procedimento interrompe a relação de replicação e coloca a aplicação online no cluster de destino. O Trident Protect não interrompe o aplicativo no cluster de origem se ele estiver operacional.</block>
  <block id="2d258c624d61d2388efacfc246d2439e" category="list-text">Salve o arquivo CR.</block>
  <block id="66ccf267a388b1a30a7530a93ea5ce18" category="list-text">(_Optional_) Crie todos os programas de proteção que você precisa no aplicativo com falha.</block>
  <block id="ea7117a895b98283737d3855ef6a2adc" category="section-title">Ressincronizar uma relação de replicação com falha</block>
  <block id="c91dda18aff454993264381ffa25993f" category="paragraph">A operação ressincronizada restabelece a relação de replicação. Depois de executar uma operação ressincronizada, o aplicativo de origem original se torna o aplicativo em execução e quaisquer alterações feitas no aplicativo em execução no cluster de destino serão descartadas.</block>
  <block id="86e073f24d64b270ed8fd6bac00280eb" category="paragraph">O processo pára o aplicativo no cluster de destino antes de restabelecer a replicação.</block>
  <block id="63a5fb6889ac843fec3c274399995a88" category="admonition">Todos os dados gravados na aplicação de destino durante o failover serão perdidos.</block>
  <block id="c7e41946fafafcb541aaa5a67635b607" category="list-text">Se você criou quaisquer programações de proteção no cluster de destino para proteger o aplicativo com falha, remova-os. Quaisquer programações restantes causam falhas de snapshot de volume.</block>
  <block id="6e81bcb9e218ada350c173457300a0ed" category="section-title">Ressincronização reversa de uma relação de replicação com falha</block>
  <block id="b29e882c5e41f060c9261101cb1cab06" category="paragraph">Quando você faz a ressincronização reversa de uma relação de replicação com falha, o aplicativo de destino se torna o aplicativo de origem e a origem se torna o destino. As alterações feitas na aplicação de destino durante o failover são mantidas.</block>
  <block id="3c890586eb43d0d71cdcb47011358420" category="list-text">Configure uma relação de replicação aplicando os arquivos CR usados originalmente para configurar a relação com os clusters opostos.</block>
  <block id="8a427fa57d96e74516c008754320b521" category="list-text">Configure uma relação de replicação no cluster oposto, configurando valores para a direção inversa.</block>
  <block id="792322eb4a0bf1a122100fc009041d9b" category="section-title">Sentido de replicação da aplicação inversa</block>
  <block id="eb89cf8a1850f41e41a65f7b65ec9c87" category="paragraph">Quando você inverte a direção da replicação, o Trident Protect move o aplicativo para o back-end de storage de destino e continua replicando de volta para o back-end de storage de origem original. O Trident Protect interrompe a aplicação de origem e replica os dados para o destino antes de fazer o failover para a aplicação de destino.</block>
  <block id="4625c1e6ccf2351ad9a08dcee33270c8" category="paragraph">Nesta situação, você está trocando a origem e o destino.</block>
  <block id="4f902591d45de06985f0af6d869c8a04" category="open-title">Crie um instantâneo de encerramento utilizando um CR</block>
  <block id="1f6c30c2bcecec90eda54cd7038f326b" category="list-text">Desative as programações de políticas de proteção para o aplicativo de origem.</block>
  <block id="4a4cfa535eb9cd705b5999ffaa6a738b" category="list-text">Criar um ficheiro ShutdownSnapshot CR:</block>
  <block id="92391ecdad41a6b33b04771b3e5e20bf" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o (por exemplo,<block ref="9bab8384d1fd26e8737f71771039462f" prefix=" " category="inline-code"></block> ).</block>
  <block id="1b38935a45d4eaf71098501cbdc191df" category="list-text">*metadata.name*: (_required_) o nome do recurso personalizado.</block>
  <block id="54c1687e91064a6e4cdc35b9a2d411a8" category="list-text">*Spec.ApplicationRef*: (_required_) este valor deve corresponder ao campo metadata.name do arquivo CR da aplicação de origem.</block>
  <block id="4390dd9bb73a0c56ac3c54b54b1fe51a" category="list-text">Depois de preencher o<block ref="9bab8384d1fd26e8737f71771039462f" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="f450395b52edc310f6e53fe1a9e24477" category="open-title">Crie um instantâneo de encerramento usando a CLI</block>
  <block id="01eb7f0adf446989c265a6179909de7b" category="list-text">Crie o instantâneo de encerramento, substituindo valores entre parênteses por informações do seu ambiente. Por exemplo:</block>
  <block id="bdd0666b03fe73dd725c0376fdb435e0" category="admonition">Na etapa 2 do procedimento de failover, inclua o<block ref="60464bee8fcac84cb209df68a2b05fba" prefix=" " category="inline-code"></block> campo no arquivo AppMirrorRelationship CR e defina seu valor para o nome de base registrado na etapa 3 acima.</block>
  <block id="ab486212bb19e45c8e71532739574a22" category="list-text">Ative programações de proteção no novo cluster de origem.</block>
  <block id="aea4fd534bd3152673956c6bbd7c115c" category="paragraph">As seguintes ações ocorrem devido à replicação reversa:</block>
  <block id="a23cf6af7e31f808d57bb74c992226c6" category="list-text">Um snapshot é obtido dos recursos do Kubernetes do aplicativo de origem original.</block>
  <block id="08c383efd49395a644fa60036a0853a2" category="list-text">Os pods do aplicativo de origem original são interrompidos graciosamente ao excluir os recursos do Kubernetes do aplicativo (deixando PVCs e PVS no lugar).</block>
  <block id="0053c8b169583fc7b29e0dfbe82d59fd" category="list-text">Depois que os pods são desativados, snapshots dos volumes do aplicativo são feitos e replicados.</block>
  <block id="b1907879d61e1f061c433469dfb8ddcf" category="list-text">As relações do SnapMirror são quebradas, tornando os volumes de destino prontos para leitura/gravação.</block>
  <block id="b6c3873d17157e3e4a0b1ef02b3cef69" category="list-text">Os recursos do Kubernetes do aplicativo são restaurados a partir do snapshot de pré-encerramento, usando os dados de volume replicados após o desligamento do aplicativo de origem original.</block>
  <block id="3cecdf93ba8c40eb3b09b7a7f9985e1d" category="list-text">A replicação é restabelecida na direção inversa.</block>
  <block id="827d6f4840be3ba668aa3eaee7c11d8d" category="section-title">Falha de aplicativos para o cluster de origem original</block>
  <block id="fbe6471033a142db5e3165e4034c1157" category="paragraph">Usando o Trident Protect, você pode obter "failback" após uma operação de failover usando a seguinte sequência de operações. Nesse fluxo de trabalho para restaurar a direção de replicação original, o Trident Protect replica (ressincrones) qualquer aplicativo é alterado de volta para o aplicativo de origem original antes de reverter a direção de replicação.</block>
  <block id="3a045f0ae84563b460627f43bb272936" category="paragraph">Esse processo começa a partir de um relacionamento que concluiu um failover para um destino e envolve as seguintes etapas:</block>
  <block id="9cbd7771b861e31b5edb23d83de4758c" category="list-text">Comece com um estado com falha em excesso.</block>
  <block id="39d2beed854377dcad2ea22fe9e58477" category="section-title">Excluir uma relação de replicação</block>
  <block id="a6c87e2b66308cd117a39af0fdac9885" category="paragraph">Você pode excluir um relacionamento de replicação a qualquer momento. Quando você exclui a relação de replicação do aplicativo, isso resulta em dois aplicativos separados sem relação entre eles.</block>
  <block id="c4407b1cc5192fe600872654a5ffe223" category="list-text">Adição de novos recursos do Trident para workflows nativos do Kubernetes:</block>
  <block id="7e7397a7b79323762c61941fc0e6b5f9" category="list-text">Proteção de dados</block>
  <block id="5866b98c049a53ea6dc7f50f9349f434" category="list-text">Migração de dados</block>
  <block id="645a84975202e30700b572b49a5ee29d" category="list-text">Recuperação de desastres</block>
  <block id="11d5920d0c0b3a97e764f84dc92ef110" category="list-text">Mobilidade de aplicativos</block>
  <block id="f593e32b2a3ead4ac029c13126d3531d" category="inline-link-macro">Saiba mais sobre o Trident Protect</block>
  <block id="487dc96e91d89134e7a216bab529a019" category="paragraph">A partir do lançamento de 24,10, o Astra Trident é renomeado para Trident (NetApp Trident). Esse rebranding não afeta recursos, plataformas suportadas ou interoperabilidade para o Trident.</block>
  <block id="a2d3ef10e2d8aae09270e11f8faea2d2" category="sidebar">Proteção e gerenciamento avançados de dados</block>
  <block id="6274fe9ce01bdde4e27e80b7958fb714" category="sidebar">Proteção de dados avançada com o Trident Protect</block>
  <block id="1251ea693b8f0b6da19ce6991115faa0" category="sidebar">Implante o Trident Protect</block>
  <block id="6c3cb2816fa53d1d99c44a111d9f7206" category="sidebar">Proteja aplicações com o Trident Protect</block>
  <block id="884400bd4c8f5f2b0070bef92b055594" category="sidebar">Instale o Trident Protect</block>
  <block id="f284d92e4bd22a3c7a76bfe530ddd899" category="sidebar">Gerenciar o Trident Protect</block>
  <block id="b9ef0ee6944eb101de3de64b82db00dd" category="sidebar">Gerar um pacote de suporte Trident Protect</block>
  <block id="1ae067a03c56065918252f36c73024d1" category="sidebar">Gerenciar e proteger aplicativos</block>
  <block id="793ba052e921b84a44dd053d68f45012" category="sidebar">Gerencie ganchos de execução com o Trident Protect</block>
  <block id="a4ac350fb585f51020f747525f3175d8" category="paragraph"><block ref="2c7a14b5507108d57a83e6eb9858f03a" category="inline-link-macro-rx"></block>.</block>
  <block id="c5bc7ac802b8e0a400d724239314a7bf" category="image-alt">aws eks 06</block>
  <block id="c198f49680a4c22b6d731cdd7d7b513a" category="paragraph">Você pode usar o<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> comando para revisar detalhes de instalação, como nome, namespace, gráfico, status, versão do aplicativo e número de revisão.</block>
  <block id="d43d72969793ea80734b71e9c2406b2a" category="list-text">*Preserve o software complementar no cluster* – essa opção remove o gerenciamento do Amazon EKS de qualquer configuração. Ele também remove a capacidade do Amazon EKS de notificá-lo de atualizações e atualizar automaticamente o complemento do Amazon EKS depois de iniciar uma atualização. No entanto, ele preserva o software complementar no cluster. Essa opção torna o complemento uma instalação autogerenciada, em vez de um complemento do Amazon EKS. Com essa opção, não há tempo de inatividade para o complemento. Guarde a<block ref="4b4ac0f998920a46fd2015e11d01d3e7" prefix=" " category="inline-code"></block> opção no comando para preservar o complemento.</block>
  <block id="03f2a9d8b5b9f1a03bc58b91a939d84f" category="paragraph"><block ref="ad43edaec055586043c762c9475bde5c" category="inline-link-macro-rx"></block> O Google Cloud é um serviço de storage de arquivos totalmente gerenciado que oferece storage de arquivos de nível empresarial e de alta performance.</block>
  <block id="0ce84605b24873b2ee81987302d60089" category="paragraph"><block ref="bc468e9b0072cb6f1552f9bc0a3b6063" category="inline-link-rx"></block> É um serviço de arquivos nativo da nuvem que fornece volumes nas em NFS com performance all-flash. Esse serviço permite que qualquer workload, incluindo aplicações legadas, seja executado na nuvem do GCP. Ele fornece um serviço totalmente gerenciado que oferece alta performance consistente, clonagem instantânea, proteção de dados e acesso seguro às instâncias do Google Compute Engine (GCE).</block>
  <block id="afb432a9cb893dca3218bf5ed8f124b6" category="section-title">Etapa 6: Conceder acesso a objetos AppVault</block>
  <block id="518792e00e0ca0d711657c9051ae8b45" category="paragraph">Para executar tarefas de gerenciamento de dados, como backups e snapshots, o administrador do cluster precisa conceder acesso a objetos AppVault a usuários individuais.</block>
  <block id="3ce2b0dd65dc314e4d0ccf4ed02db5a7" category="list-text">Crie e aplique um arquivo YAML de combinação secreta e AppVault que concede a um usuário acesso a um AppVault. Por exemplo, o CR a seguir concede acesso a um AppVault ao usuário<block ref="6ca05da537cc3daa1ec22134c0b69946" prefix=" " category="inline-code"></block>:</block>
  <block id="f1c648202447b3667edef5439e1a8c5e" category="list-text">Crie e aplique um CR de função para permitir que os administradores de cluster concedam acesso a recursos específicos em um namespace. Por exemplo:</block>
  <block id="2ebacf7e8f38b367350c5c91618a6e79" category="list-text">Criar e aplicar um RoleBinding CR para vincular as permissões ao usuário eng-user. Por exemplo:</block>
  <block id="dc3d0a515ce0266cb00eb5cc06c4fe94" category="list-text">Verifique se as permissões estão corretas.</block>
  <block id="b5c9b7c142e23b0f885d64628ec267ff" category="list-text">Tente recuperar informações de objeto AppVault para todos os namespaces:</block>
  <block id="d0848afd8553c34945705222a97a4553" category="paragraph">Você deve ver saída semelhante ao seguinte:</block>
  <block id="07337191562a62a775a853d9901903a6" category="list-text">Teste para ver se o usuário pode obter as informações do AppVault que ele agora tem permissão para acessar:</block>
  <block id="e7165fc51f62031fcae1d793899febaa" category="paragraph">Os usuários aos quais você concedeu permissões AppVault devem poder usar objetos AppVault autorizados para operações de gerenciamento de dados de aplicativos e não devem poder acessar recursos fora dos namespaces atribuídos ou criar novos recursos aos quais eles não têm acesso.</block>
  <block id="a268a576db3133de464aad1cd81ab3e1" category="inline-link-macro">gerar um pacote de suporte</block>
  <block id="753f99fdafabdea1282917a0d7df52d4" category="list-text">Execute as etapas de ressincronização reversa no <block ref="07428cadd63a52910df8ba314efe2f56" category="inline-xref-macro-rx"></block>.</block>
  <block id="fe411ea35c29677771dcaad52985fc08" category="list-text">Reverta a ressincronização da relação de replicação.</block>
  <block id="eb10e971ec83f13f35beb8166ae8958b" category="admonition">Não execute uma operação de ressincronização normal, pois isso descartará os dados gravados no cluster de destino durante o procedimento de failover.</block>
  <block id="de5da2c7cfd6c7eda31703be01d3513e" category="list-text">Inverta a direção da replicação.</block>
  <block id="be41e0ea028981dcba35343dcbd34991" category="list-text">Execute os <block ref="07428cadd63a52910df8ba314efe2f56" category="inline-xref-macro-rx"></block> passos.</block>
  <block id="e3f67484570d0b1b5736841718c5ab22" category="list-text">Execute os <block ref="80fca82e419d46692dbbc4fbbcd0c990" category="inline-xref-macro-rx"></block> passos.</block>
  <block id="51d8fa0a5eb3f269bad2a2a47a660a2d" category="paragraph">Agora você pode usar o protocolo Fibre Channel (FC) com o Trident para provisionar e gerenciar recursos de storage no sistema ONTAP.</block>
  <block id="822b1839c387749c78601eebc94c8d7d" category="paragraph">Configure as configurações de rede e nó necessárias para FC.</block>
  <block id="f508b22c8fc4486b19fee39d5ded3841" category="section-title">Definições de rede</block>
  <block id="16fdd92def5a71313d6535c74ef67b81" category="inline-link-macro">mostra da interface de rede</block>
  <block id="cc7e69899d736126df9787634ad41870" category="list-text">Obtenha o WWPN para as interfaces no iniciador (Host).</block>
  <block id="1089b965cabd19cfee7f3ef855fbd63d" category="paragraph">Consulte os utilitários do sistema operacional host correspondentes.</block>
  <block id="6f58745fc3a341adae0772d30d9e508c" category="list-text">Configure o zoneamento no switch FC usando WWPNs do host e do destino.</block>
  <block id="54336aa51b161faac4d0ebb1b76b1536" category="paragraph">Consulte a documentação do fornecedor do switch responsável para obter informações.</block>
  <block id="299f2e1a529559eb06c9dfbe12ccdea9" category="paragraph">Consulte a seguinte documentação do ONTAP para obter detalhes:</block>
  <block id="d7281ba358054b30594dcd34819057a1" category="inline-link">Visão geral do zoneamento Fibre Channel e FCoE</block>
  <block id="bce9f24194c15bbf6b5ad6cd1d8d1899" category="list-text"><block ref="bce9f24194c15bbf6b5ad6cd1d8d1899" category="inline-link-rx"></block></block>
  <block id="9b9db0b6f6df6361aa97412feea7ae07" category="list-text"><block ref="1a83c479258a4b0e250085c944bae4de" category="inline-link-rx"></block></block>
  <block id="36b37761159ed00a729b4f6fab9a0f02" category="paragraph-title">Instalar as ferramentas FC</block>
  <block id="f0ad3dc6a6ba17b1e77a2a4af657f22a" category="paragraph">Instale as ferramentas FC usando os comandos do seu sistema operacional.</block>
  <block id="553ac32ac6bcab84d5384eda7468d415" category="paragraph">Todos os nós de trabalho no cluster do Kubernetes precisam ser capazes de montar os volumes provisionados para os pods. Para preparar os nós de trabalho, é necessário instalar ferramentas NFS, iSCSI, NVMe/TCP ou FC com base na seleção de driver.</block>
  <block id="64467ac9530ff26c4e6495117175346d" category="admonition">Ao usar o ONTAP-nas-economy e um storagePreFIX que tenha 24 ou mais carateres, o qtrees não terá o prefixo de armazenamento incorporado, embora esteja no nome do volume.</block>
  <block id="0d28255dc96cb23d422741096c09ce8e" category="paragraph"><block ref="256d12880dee7515c7ed6253fd0a228a" prefix="" category="inline-code"></block><block ref="bd5ed83ae12ddcfe924a6af54a0be554" prefix=" " category="inline-code"></block></block>
  <block id="15286900a0d0667ffc4d515aeec6a1d2" category="list-text">Copie o binário do plugin para um local definido na variável PATH. Por exemplo,<block ref="7512824c50c61ea8d89d0f193a4f72d1" prefix=" " category="inline-code"></block> ou<block ref="ad2e864ce1a99daa836c3449f3ba705d" prefix=" " category="inline-code"></block> (você pode precisar de Privileges elevado):</block>
  <block id="cff063350a0daf1b0ee4c6c97eb2e2de" category="admonition">Restaurar um backup para um namespace diferente com recursos existentes não alterará nenhum recurso que compartilhe nomes com aqueles no backup. Para restaurar todos os recursos no backup, exclua e recrie o namespace de destino ou restaure o backup para um novo namespace.</block>
  <block id="0ac202e458490a734271522fcedf4876" category="list-text">Certifique-se de que<block ref="8732863da72605a20ed96b4eee87a5fb" prefix=" " category="inline-code"></block> está em execução:</block>
  <block id="69eeaf73fccab6d6abcba46bd6a3a3bf" category="list-text">Certifique-se de que<block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block> está ativado e em execução:</block>
  <block id="00ea3f7016d7b9a4ad023b106cc1e6d3" category="paragraph"><block ref="7e7b7908484dc2cebc13ec93d8042bd0" category="inline-link-macro-rx"></block> Se você estiver usando<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> com sanType (<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block>SCSI sobre FC).</block>
  <block id="0cc310db20eaee9161e8ef937010b536" category="doc">Gerenciar a autorização e o controle de acesso do Trident Protect</block>
  <block id="97f3fa7a4bb86197f0db69aa160c73e9" category="doc">Use objetos do Trident Protect AppVault para gerenciar buckets</block>
  <block id="bf4313699bccd15d73aa8653cfdfd754" category="doc">Defina um aplicativo para gerenciamento com o Trident Protect</block>
  <block id="b6a8ee5a5280d899b4ea1be0f8697335" category="doc">Migrar aplicativos usando o Trident Protect</block>
  <block id="8686ed080978191a10848ee52cd0c87a" category="doc">Proteja aplicativos usando o Trident Protect</block>
  <block id="0539043b2ec0bd1bfae64dc58173dec7" category="doc">Restaure aplicativos usando o Trident Protect</block>
  <block id="873e2eae9a82cbe9c291ade077f017d2" category="doc">Gerenciar ganchos de execução do Trident Protect</block>
  <block id="6f8f09e1a22390ac35a40283a4dc713f" category="doc">Replique aplicações usando o NetApp SnapMirror e o Trident Protect</block>
  <block id="2fc23e09b483dc4495beb473646c0273" category="list-text"><block ref="2fc23e09b483dc4495beb473646c0273" category="inline-link-macro-rx"></block></block>
  <block id="e132245ad28668c6b32dee21fb8a3820" category="list-text">Obtenha o WWPN das interfaces de destino. <block ref="92fd8fd0370792cd397ea6fdc3c8edb0" category="inline-link-rx"></block>Consulte para obter mais informações.</block>
  <block id="ab17e5f89eede1d0e6d8d31cc646b837" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block> Prepare o nó de trabalho</block>
  <block id="8f571d58ed95211be01ea993de3fee3e" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block> Instale o Trident</block>
  <block id="2fd92693952062fc00d949899370185d" category="section-title">Definir uma aplicação</block>
  <block id="da305154e58c2f6709cee1cca6b2d8c8" category="paragraph">Você precisa definir cada aplicativo que deseja gerenciar com o Trident Protect. Você pode definir um aplicativo para gerenciamento criando manualmente um CR de aplicativo ou usando a CLI Trident Protect.</block>
  <block id="964ba319e15e38c5b0f3ee2a3dd4a8f8" category="list-text">Depois de criar a aplicação CR para corresponder ao seu ambiente, aplique o CR. Por exemplo:</block>
  <block id="26ff92fc2410a19d125f3783f36a21f5" category="paragraph">O Trident Protect 24,10 e 24.10.1 e versões mais recentes têm comportamento diferente quando você protege aplicativos em execução em VMs KubeVirt. Para ambas as versões, você pode ativar ou desativar o congelamento e o descongelamento do sistema de arquivos durante operações de proteção de dados.</block>
  <block id="4d2e55f1e0d6587dd3b63700ee1065af" category="paragraph-title">Trident Protect 24,10</block>
  <block id="2d261bce9a1e151a31ff22788033f212" category="paragraph">O Trident Protect 24,10 não garante automaticamente um estado consistente para os sistemas de arquivos da VM do KubeVirt durante operações de proteção de dados. Se você quiser proteger seus dados da VM KubeVirt usando o Trident Protect 24,10, você precisa ativar manualmente a funcionalidade congelar/descongelar para os sistemas de arquivos antes da operação de proteção de dados. Isso garante que os sistemas de arquivos estejam em um estado consistente.</block>
  <block id="acb14ba5b70eb330a1d4de9c6b7a325d" category="inline-link-macro">configuração da virtualização</block>
  <block id="74c1cc067621b7ea2ccf9f91b4595bd8" category="paragraph">Você pode configurar o Trident Protect 24,10 para gerenciar o congelamento e o descongelamento do sistema de arquivos da VM durante operações de proteção de dados <block ref="e0dd4c4b8aa16596df6c3f5cb36d3cdc" category="inline-link-macro-rx"></block>usando o seguinte comando:</block>
  <block id="72768e0f0d0f990d0abd53363fda4696" category="paragraph-title">Trident Protect 24.10.1 e mais recente</block>
  <block id="42a2550b14037192e0c3252e7666ec4d" category="paragraph">A partir do Trident Protect 24.10.1, o Trident Protect congela e descongela automaticamente os sistemas de arquivos KubeVirt durante operações de proteção de dados. Opcionalmente, você pode desativar esse comportamento automático usando o seguinte comando:</block>
  <block id="cedf2576eebff15fc6b30d5a7109eb6b" category="doc">Anotações e rótulos de namespace durante operações de restauração e failover</block>
  <block id="131ff34387be167411ffda7d60b577e7" category="paragraph">Durante as operações de restauração e failover, rótulos e anotações no namespace de destino são feitos para corresponder aos rótulos e anotações no namespace de origem. Rótulos ou anotações do namespace de origem que não existem no namespace de destino são adicionados, e quaisquer rótulos ou anotações que já existem são sobrescritos para corresponder ao valor do namespace de origem. Rótulos ou anotações que existem apenas no namespace de destino permanecem inalterados.</block>
  <block id="20f40e0b9308901dac07ce8a8efb3350" category="inline-link">Documentação de restrições de contexto de segurança OpenShift</block>
  <block id="6c83555d4261acb08ebbc5f24823dc7b" category="paragraph">Você pode impedir que anotações específicas no namespace de destino sejam sobrescritas definindo a variável de ambiente do Kubernetes<block ref="1580ff61f204e9d56cd5324c7e9221ba" prefix=" " category="inline-code"></block> antes de executar a operação de restauração ou failover. Por exemplo:</block>
  <block id="11a75e55f9a91a12e7d31886a76ff312" category="paragraph">Se instalou a aplicação de origem utilizando Helm com o<block ref="cc1f5c1d16e33b8463c9ee27295cd5df" prefix=" " category="inline-code"></block> sinalizador, é dado um tratamento especial à<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block> tecla de identificação. Durante o processo de restauração ou failover, o Trident Protect copia esse rótulo para o namespace de destino, mas atualiza o valor para o valor do namespace de destino se o valor da origem corresponder ao namespace de origem. Se esse valor não corresponder ao namespace de origem, ele será copiado para o namespace de destino sem alterações.</block>
  <block id="1280c48f074ec68fd2281266662c9a3f" category="paragraph">O exemplo a seguir apresenta um namespace de origem e destino, cada um com anotações e rótulos diferentes. Você pode ver o estado do namespace de destino antes e depois da operação e como as anotações e rótulos são combinados ou substituídos no namespace de destino.</block>
  <block id="2cfe257f724ed59a07ab01918c828fb5" category="section-title">Antes da operação de restauração ou failover</block>
  <block id="c972cd959174c84d137520d91c011446" category="paragraph">A tabela a seguir ilustra o estado dos namespaces de origem e destino de exemplo antes da operação de restauração ou failover:</block>
  <block id="b3ba0fe968ce39dcfc6fe8cc0f1b02da" category="cell">Namespace</block>
  <block id="933e469cb306a0ea9faabd3e4235d3be" category="cell">Anotações</block>
  <block id="86a2c974d76e381c7efd2206939722b7" category="cell">Namespace ns-1 (fonte)</block>
  <block id="278dbe8403d8ebf0d4ec8f723ca24aa6" category="list-text">annotation.one/key: "updatedvalue"</block>
  <block id="7217e7166d38adddcd72b9b1c9359148" category="list-text">annotation.two/key: "true"</block>
  <block id="a03c56a353af6ece3297a5fcad5250f2" category="list-text">ambiente de produção</block>
  <block id="d1642f369aa9d43205cf91975f1359d4" category="list-text">conformidade hipaa</block>
  <block id="fc10b995e3d1c13cbae652922eba0bb6" category="list-text">nome: ns-1</block>
  <block id="58e6b4eeb688a71c985d2593769d2fda" category="cell">Namespace ns-2 (destino)</block>
  <block id="f0e6f2ec2d0d1aa7012e3b32889c034c" category="list-text">annotation.one/key: "true" (verdadeiro)</block>
  <block id="1e678090acf06eb2bf74c38dee9d3317" category="list-text">annotation.three/key: "false"</block>
  <block id="ebbaf450aa5330e33917a8de9157e099" category="list-text">banco de dados</block>
  <block id="46c40b68ab6fcc817f5134602b1985e3" category="section-title">Após a operação de restauração</block>
  <block id="15d6567aa33ad00e352de9164a741b8b" category="paragraph">A tabela a seguir ilustra o estado do namespace de destino de exemplo após a operação de restauração ou failover. Algumas chaves foram adicionadas, algumas foram sobrescritas e o<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block> rótulo foi atualizado para corresponder ao namespace de destino:</block>
  <block id="a8306d4d1af4239dba9a6bcfd799eba7" category="list-text">nome: ns-2</block>
  <block id="da1046077b664fa54e4894632960137d" category="paragraph">Você pode proteger todos os aplicativos gerenciados pelo Trident Protect tirando snapshots e backups usando uma política de proteção automatizada ou ad hoc.</block>
  <block id="e27f117e119beccd01579e6a8d0151fb" category="inline-link-macro">Saiba mais sobre como configurar o congelamento do sistema de arquivos com o Trident Protect</block>
  <block id="9efebf2c277b6c382e759b6b916fd0dd" category="admonition">Você pode configurar o Trident Protect para congelar e descongelar sistemas de arquivos durante operações de proteção de dados. <block ref="d0a15703ee89b8fa8b780fb2dbace2bd" category="inline-link-macro-rx"></block>.</block>
  <block id="ac84b7596169ab3fb6c24e8a5c85c234" category="section-title">Proteção de dados com máquinas virtuais do KubeVirt</block>
  <block id="c14dcfe7b0231c7a77642ffab50a55eb" category="summary">Você pode atualizar o Trident Protect para a versão mais recente para aproveitar os novos recursos ou correções de bugs.</block>
  <block id="91d6fa36b819133d3be4dc9c8bf2cf22" category="doc">Atualizar o Trident Protect</block>
  <block id="9a4ef497aa1e88e71b08a41b069a9cf4" category="paragraph">Para atualizar o Trident Protect, execute as etapas a seguir.</block>
  <block id="08583ac87350c1205f57ca5d8c629482" category="list-text">Atualize o repositório Helm do Trident:</block>
  <block id="0f5b1b3a9bfb872579b78d2db623d3d8" category="list-text">Atualize os CRDs do Trident Protect:</block>
  <block id="a16ec228f0e3336de76f224b11d860d9" category="list-text">Atualize o Trident Protect:</block>
  <block id="08810911e9a818361e28207072354bd4" category="list-text">Ocorrem travamentos do sistema de arquivos, se aplicável. <block ref="d0a15703ee89b8fa8b780fb2dbace2bd" category="inline-link-macro-rx"></block>.</block>
  <block id="caf47630bbafdc416f6b6ecdb585e83e" category="list-text">Os sistemas de arquivos congelados não estão congelados, se aplicável.</block>
  <block id="1eb6c79d30a4cb086ad406cb25fec350" category="list-text">*ResourceFilter.resourceMatchers*: Uma matriz de resourceMatcher objetos. Se você definir vários elementos nesse array, eles corresponderão como uma OPERAÇÃO OU, e os campos dentro de cada elemento (grupo, tipo, versão) corresponderão como uma OPERAÇÃO E.</block>
  <block id="effa92215c770083617150adc291c130" category="list-text">Expanda *Configurações opcionais de configuração* e modifique conforme necessário.</block>
  <block id="fd8585ec0c8ba7001713251f9ab9c69e" category="paragraph">Para clonar uma aplicação para um cluster diferente (executar um clone entre clusters), crie um backup no cluster de origem e restaure o backup para um cluster diferente. Certifique-se de que o Trident Protect está instalado no cluster de destino.</block>
  <block id="a1f41e52e9ddbd9f87ecd032c237b1c0" category="inline-link-macro">Replicação SnapMirror</block>
  <block id="f6acb98f21e25882aaaa267339abcc92" category="admonition">É possível replicar um aplicativo entre clusters diferentes usando <block ref="69314cba6d14bf88b8e850c978056766" category="inline-link-macro-rx"></block>o .</block>
  <block id="fe961357dbe4b6bf8b5503f4919ea35c" category="list-text">Verifique se o AppVault CR para o bucket de armazenamento de objetos que contém o backup foi configurado no cluster de destino.</block>
  <block id="baafbccab17d07f9ba18e7becb7c76d2" category="inline-link-macro">restaure seus dados a partir do backup</block>
  <block id="878bbf0662ed19ef900e4e06bfad92d2" category="list-text">No cluster de destino, <block ref="11860f9f3ec51316f8ebc9805806b6cd" category="inline-link-macro-rx"></block>.</block>
  <block id="4a0207b6a74b63dcaaa4d58fe75ec431" category="list-text">*ResourceFilter.resourceSelectionCriteria*: (Necessário para filtragem) Use<block ref="f4d72a64acd8929c0cc9ed96a7a336cc" prefix=" " category="inline-code"></block> ou<block ref="843f2812f595e7ec7c5036e89fde02d6" prefix=" " category="inline-code"></block> inclua ou exclua um recurso definido em resourceMatchers. Adicione os seguintes parâmetros resourceMatchers para definir os recursos a serem incluídos ou excluídos:</block>
  <block id="5e77ee724e7a9c6f34c1fd6a65b3f3b5" category="list-text">*Spec.storageClassName*: (_required_) escolha o nome de uma classe de armazenamento válida no cluster. A classe de storage deve ser vinculada a uma VM de storage do ONTAP que esteja vinculada ao ambiente de origem.</block>
  <block id="b22804421b3e5bca94f2a9979721eb60" category="cell">Chave de API para a conta de serviço do Google Cloud com a<block ref="e50dbf86780cfad5e007e4a95a6aa71e" prefix=" " category="inline-code"></block> função. Ele inclui o conteúdo formatado em JSON do arquivo de chave privada de uma conta de serviço do Google Cloud (copiado literalmente no arquivo de configuração de back-end). O<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block> deve incluir pares de chave-valor para as seguintes chaves:<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block><block ref="b098ad43c65e68f3d8ce27a3c7e6f6e2" prefix=" " category="inline-code"></block> , ,<block ref="a4a9fd77bfb3720e66b510bef7ffe71a" prefix=" " category="inline-code"></block><block ref="2bfe9d72a4aae8f06a31025b7536be80" prefix=" " category="inline-code"></block> , , , ,<block ref="478cc0e49bfbb9ded4ffc7ea662d3968" prefix=" " category="inline-code"></block><block ref="98b215082431c21156af94f3aa69f838" prefix=" " category="inline-code"></block>,<block ref="8201fe8e688f4f948a62370fd1b411d4" prefix=" " category="inline-code"></block>, e<block ref="61426bc7fdd11e59a5c98e7ee37e3dbb" prefix=" " category="inline-code"></block>.</block>
  <block id="d0e48e9528072c6ff90b82adeab94dea" category="list-text">Uma conta de serviço do Google Cloud com a <block ref="04bf1a6a0250bc9d4cba09ee34106dfc" prefix="(" category="inline-code"></block>função de administrador do NetApp volumes ). <block ref="4f506c30a158c85db714d53536a12770" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="a13eeeef5ff2b7fe85692890fb5d28b3" category="open-title">Amazon S3 (AWS)</block>
  <block id="b2aa71ee04e531f0b6d1f084ba45f52f" category="open-title">Genérico S3</block>
  <block id="1716834171e243de0f898a67621b6624" category="open-title">ONTAP S3</block>
  <block id="79832d443dadeb6d3b0637941d6ac067" category="open-title">StorageGRID S3</block>
  <block id="6b4d16571162a69eb03c99cb132a69ec" category="section-title">Exemplos do AppVault CR</block>
  <block id="d05c8b60cfd355fccac41017c33ca892" category="paragraph">Você pode usar os exemplos CR a seguir para criar objetos AppVault para cada provedor de nuvem.</block>
  <block id="59264d37bdf7f6cbf4f94ad00dacdce1" category="section-title">Exemplos de criação do AppVault usando a CLI do Trident Protect</block>
  <block id="4db09810b323e73b4041a65c99bb14f8" category="paragraph">Você pode usar os seguintes exemplos de comandos CLI para criar o AppVault CRS para cada provedor.</block>
  <block id="c8dac6733f0c00d0b3b8b239841a0255" category="list-text">Crie um arquivo chamado<block ref="5744e710490761bdd5b4603b9b0487a7" prefix=" " category="inline-code"></block>. Verifique se ele contém as seguintes configurações de proteção Trident:</block>
  <block id="d9802724acbde7ce7749f0884262496a" category="section-title">Especifique os limites de recursos do contêiner do Trident Protect</block>
  <block id="723ff7c28b60307db94ddb35dd6cc517" category="paragraph">Você pode usar um arquivo de configuração para especificar limites de recursos para contentores do Trident Protect depois de instalar o Trident Protect. A definição de limites de recursos permite controlar quanto dos recursos do cluster são consumidos pelas operações do Trident Protect.</block>
  <block id="45d7099b61647936da59ccfbaa49ca5c" category="list-text">Crie um arquivo chamado<block ref="e66ad8c89b28dc43a24e6e1689a79cdc" prefix=" " category="inline-code"></block>.</block>
  <block id="9f83417f7d6c999c56b0dcc3b274be23" category="list-text">Preencha o arquivo com opções de limite de recursos para contentores do Trident Protect de acordo com as necessidades do seu ambiente.</block>
  <block id="956fe3fe2ad4f9cb1b569d66b4ff1db5" category="list-text">Aplique os valores do<block ref="e66ad8c89b28dc43a24e6e1689a79cdc" prefix=" " category="inline-code"></block> arquivo:</block>
  <block id="a4af4e386bb379977acdb5a465780149" category="open-title">Remova um AppVault usando a CLI do Trident Protect</block>
  <block id="7bbf9a1a0bbcbeb6a4fef133c3975079" category="paragraph">Após o seu próximo login shell, você pode usar o comando auto-completação com o plugin tridentctl-protect.</block>
  <block id="0708d6413707329d6051a0456f0810ac" category="admonition">Você pode usar<block ref="deb04333ae980bc0147681e476e1941c" prefix=" " category="inline-code"></block> para exibir informações detalhadas de ajuda para este comando.</block>
  <block id="b0e7049d5aeb967991b6b3a21db08de3" category="paragraph">Quando você restaura um backup para um namespace diferente usando um BackupRestore CR, o Trident Protect restaura o aplicativo em um novo namespace e cria um CR de aplicativo para o aplicativo restaurado. Para proteger o aplicativo restaurado, crie backups ou snapshots sob demanda ou estabeleça um cronograma de proteção.</block>
  <block id="4b405223d9feceac91c5ef8df77b1961" category="paragraph">É possível restaurar dados de um snapshot usando um arquivo de recurso personalizado (CR) para um namespace diferente ou namespace de origem original. Quando você restaura um snapshot para um namespace diferente usando um SnapshotRestore CR, o Trident Protect restaura o aplicativo em um novo namespace e cria um CR de aplicativo para o aplicativo restaurado. Para proteger o aplicativo restaurado, crie backups ou snapshots sob demanda ou estabeleça um cronograma de proteção.</block>
  <block id="375efef64643c8aa6bb8e0ba2159a82a" category="list-text">Ativar permissões de execução para o binário do plugin:</block>
  <block id="eefd51253afc93c1ad54658882a65dec" category="list-text">Opcionalmente, você pode copiar o binário do plugin para um local em seu diretório home. Neste caso, é recomendável garantir que a localização faça parte da variável PATH:</block>
  <block id="75b0e724fe59ed9d6eda0fcd4679bfee" category="admonition">Copiar o plugin para um local em sua variável PATH permite que você use o plugin digitando<block ref="d4845d5856667a10aee97f3404a35627" prefix=" " category="inline-code"></block> ou<block ref="e89ec374c6edc886ea12d28524834e68" prefix=" " category="inline-code"></block> de qualquer local.</block>
  <block id="dc5b2d9ecd49d3e5ee37059e2d80512f" category="section-title">O Trident protege a compatibilidade de clusters do Kubernetes</block>
  <block id="9ac0dd27d420b7b48ca72e463ae95e18" category="inline-link">estas instruções</block>
  <block id="664d28801abc192d5c7dfd7bfa758e98" category="admonition">Verifique se o cluster no qual você instala o Trident Protect está configurado com um controlador de snapshot em execução e as CRDs relacionadas. Para instalar um controlador instantâneo,<block ref="5d66944a2971d1b9b5f332812a6e737b" category="inline-link-rx"></block> consulte a .</block>
  <block id="9560d298aea880d389acf56a45410c4b" category="summary">Você pode configurar a criptografia para proteger o tráfego entre o Trident e o back-end de storage.</block>
  <block id="c994f1e00d22f7d8d4e7b3e7f50f8002" category="doc">Criptografia em trânsito Kerberos</block>
  <block id="c8ea4672c0efc6fee26c8648f609a829" category="paragraph">Usando a criptografia em trânsito Kerberos, você pode melhorar a segurança de acesso aos dados habilitando a criptografia para o tráfego entre o cluster gerenciado e o back-end de armazenamento.</block>
  <block id="420bac2406e93da0c7c791aca209017d" category="paragraph">O Trident oferece suporte à criptografia Kerberos para ONTAP como um back-end de armazenamento:</block>
  <block id="796f801ad41f96aeb2e1a1950ed629e4" category="list-text">*On-Premise ONTAP* - o Trident oferece suporte à criptografia Kerberos em conexões NFSv3 e NFSv4 do Red Hat OpenShift e clusters do Kubernetes upstream para volumes ONTAP on-premise.</block>
  <block id="0a710c309a5f6dc65b056833a5208521" category="paragraph">Você pode criar, excluir, redimensionar, snapshot, clone, clone somente leitura e importar volumes que usam criptografia NFS.</block>
  <block id="2aff02c8ceb99a9445937af9d4d8f286" category="section-title">Configurar a criptografia Kerberos em trânsito com volumes ONTAP no local</block>
  <block id="330282591e8caa9814eb88ec524b89cf" category="paragraph">Você pode ativar a criptografia Kerberos no tráfego de armazenamento entre o cluster gerenciado e um back-end de armazenamento ONTAP no local.</block>
  <block id="daf34fb0fcb74d9bcf85abcebcc8e1f2" category="admonition">A criptografia Kerberos para tráfego NFS com backends de armazenamento ONTAP on-premise só é suportada usando o<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> driver de armazenamento.</block>
  <block id="0ff02d27ae5cac1a12c6c403fd55443c" category="list-text">Certifique-se de que tem acesso ao<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> utilitário.</block>
  <block id="bef890ed7cc869346d4b483cd3e3ab00" category="list-text">Verifique se você tem acesso de administrador ao back-end de storage do ONTAP.</block>
  <block id="160b05c1b85ce34d702a3568614baec1" category="list-text">Certifique-se de saber o nome do volume ou volumes que você compartilhará no back-end de storage do ONTAP.</block>
  <block id="9fe985de654739fa6f48edb0d49059b4" category="inline-link">Guia de práticas recomendadas e aprimoramentos do NetApp NFSv4</block>
  <block id="9c6a0d551d50340cca48e6cfa4355566" category="list-text">Certifique-se de que todos os volumes NFSv4 usados com criptografia Kerberos estejam configurados corretamente. Consulte a seção Configuração de domínio do NetApp NFSv4 (página 13) do<block ref="fcbfe3012009d21ef9ba8407142f85b6" category="inline-link-rx"></block>.</block>
  <block id="7c67bfc9153da2055f6d09209f9853c7" category="section-title">Adicionar ou modificar políticas de exportação do ONTAP</block>
  <block id="3afa4a2a4546fcf1b9a361d1bff9763b" category="paragraph">Você precisa adicionar regras às políticas de exportação existentes do ONTAP ou criar novas políticas de exportação que suportem a criptografia Kerberos para o volume raiz da VM de armazenamento do ONTAP, bem como quaisquer volumes do ONTAP compartilhados com o cluster do Kubernetes upstream. As regras de política de exportação que você adicionar ou as novas políticas de exportação que você criar precisam oferecer suporte aos seguintes protocolos de acesso e permissões de acesso:</block>
  <block id="e21233a7f0d7fedb5883aea1dfed27cf" category="paragraph-title">Protocolos de acesso</block>
  <block id="e10f51f4d0eb1b58929237c03db4b832" category="paragraph">Configurar a política de exportação com protocolos de acesso NFS, NFSv3 e NFSv4.</block>
  <block id="baedff73fdfff23f65e8b80727cd3088" category="paragraph-title">Aceder aos detalhes</block>
  <block id="892969be437eb53b05f372cc0ae74d6c" category="paragraph">Você pode configurar uma das três versões diferentes da criptografia Kerberos, dependendo de suas necessidades para o volume:</block>
  <block id="fda32d078836aa6e69a3497be5f9cdca" category="list-text">*Kerberos 5* - (autenticação e criptografia)</block>
  <block id="7d55fc39e32469f330297f866ec40e41" category="list-text">*Kerberos 5i* - (autenticação e criptografia com proteção de identidade)</block>
  <block id="ec7a355c2dad88f01ddce6c662ff507f" category="list-text">*Kerberos 5P* - (autenticação e criptografia com proteção de identidade e privacidade)</block>
  <block id="43c969c43b32e3dd3bcf607fcbe4eb43" category="paragraph">Configure a regra de política de exportação do ONTAP com as permissões de acesso apropriadas. Por exemplo, se os clusters estiverem montando os volumes NFS com uma mistura de criptografia Kerberos 5i e kerberos 5P, use as seguintes configurações de acesso:</block>
  <block id="0370275db54735bcb50d5bfce36de4e6" category="cell">Acesso somente leitura</block>
  <block id="dbdb2754b99a3cb725e62ef04c72ee06" category="cell">Acesso de leitura/escrita</block>
  <block id="a3a9521b6675631e988004e7b8ffe7b4" category="cell">Acesso ao superusuário</block>
  <block id="15395d0642f86c5992abbca5e56e2b29" category="cell">UNIX</block>
  <block id="00d23a76e43b46dae9ec7aa9dcbebb32" category="cell">Ativado</block>
  <block id="f22873ba6efee4accc10bd5a3d3ca9eb" category="cell">Kerberos 5i</block>
  <block id="a98fd9001be872cb9763c171625ee881" category="cell">Kerberos 5P</block>
  <block id="9a83b6e7170a551799b737b273fde5e1" category="paragraph">Consulte a documentação a seguir para saber como criar políticas de exportação e regras de política de exportação do ONTAP:</block>
  <block id="bb53c6c29f127a298da7dd86bf00bb89" category="inline-link">Crie uma política de exportação</block>
  <block id="2065c7b470f4d228b592158785fc8c0b" category="list-text"><block ref="2065c7b470f4d228b592158785fc8c0b" category="inline-link-rx"></block></block>
  <block id="8c47b652d31bca921bb367b0e3c5ec6d" category="inline-link">Adicione uma regra a uma política de exportação</block>
  <block id="249db3ace916cc1363d388978a8b6c5e" category="list-text"><block ref="249db3ace916cc1363d388978a8b6c5e" category="inline-link-rx"></block></block>
  <block id="c21c2b66c343dfe9db6298e59c2cc767" category="section-title">Crie um back-end de storage</block>
  <block id="449396632614b1e0731c51704890f8bd" category="paragraph">Você pode criar uma configuração de back-end de armazenamento Trident que inclua o recurso de criptografia Kerberos.</block>
  <block id="0848c0a5d21711a3f8967a344553c492" category="paragraph">Quando você cria um arquivo de configuração de back-end de armazenamento que configura a criptografia Kerberos, você pode especificar uma das três versões diferentes da criptografia Kerberos usando o<block ref="21f59c061af833af5de20556ce76052d" prefix=" " category="inline-code"></block> parâmetro:</block>
  <block id="619885da64e4ba4b0df04a00d78079b7" category="list-text"><block ref="47587c842cb0a2574a5a4c7c644b006d" prefix="" category="inline-code"></block> (autenticação e criptografia)</block>
  <block id="aa734ef649b1255faccfc198980bf49a" category="list-text"><block ref="600550ee922e257041b75142ddab2319" prefix="" category="inline-code"></block> (autenticação e criptografia com proteção de identidade)</block>
  <block id="4197df0e0ac8f9480069ee1e0dc22543" category="list-text"><block ref="b148e7f5a01830ae530070588af5e9e6" prefix="" category="inline-code"></block> (autenticação e criptografia com proteção de identidade e privacidade)</block>
  <block id="c99e9f5ade1b20705438ad6882d112c2" category="paragraph">Especifique apenas um nível Kerberos. Se você especificar mais de um nível de criptografia Kerberos na lista de parâmetros, somente a primeira opção será usada.</block>
  <block id="926a7d5402fb3ed0da8fcd630e3a8f8c" category="list-text">No cluster gerenciado, crie um arquivo de configuração de back-end de storage usando o exemplo a seguir. Substitua os valores entre parêntesis&gt; por informações do seu ambiente:</block>
  <block id="2cd636101227e18554e5c5351bf5bbe3" category="list-text">Use o arquivo de configuração que você criou na etapa anterior para criar o backend:</block>
  <block id="3204b0a88f0c8e6cb89ef2653173ddf1" category="paragraph">Você pode criar uma classe de armazenamento para provisionar volumes com criptografia Kerberos.</block>
  <block id="03111bbdda72125f143e084557265c1c" category="paragraph">Ao criar um objeto de classe de armazenamento, você pode especificar uma das três versões diferentes da criptografia Kerberos usando o<block ref="e1d3d66c5926aa7fbc3186da8f9b476b" prefix=" " category="inline-code"></block> parâmetro:</block>
  <block id="85eee746a5d30d5149d419a3dfd2fe4e" category="list-text"><block ref="ebd2fabd7ee9d78e670334fba38c5a6b" prefix="" category="inline-code"></block> (autenticação e criptografia)</block>
  <block id="24dac19871e9929a42267b538a60ebe5" category="list-text"><block ref="82f5845550ca9ab77ce797c16bd7bca1" prefix="" category="inline-code"></block> (autenticação e criptografia com proteção de identidade)</block>
  <block id="c36d9d41da2e174bfa8b3338450fb45c" category="list-text"><block ref="7a1dedb8f6c22fd4833b45267ad3b01a" prefix="" category="inline-code"></block> (autenticação e criptografia com proteção de identidade e privacidade)</block>
  <block id="4a2e7c9ecf75ac18d4daec2783256280" category="paragraph">Especifique apenas um nível Kerberos. Se você especificar mais de um nível de criptografia Kerberos na lista de parâmetros, somente a primeira opção será usada. Se o nível de criptografia especificado na configuração de back-end de armazenamento for diferente do nível especificado no objeto de classe de armazenamento, o objeto de classe de armazenamento terá precedência.</block>
  <block id="0bae6577bb0c45b6f2d82896713df9f9" category="list-text">Crie um objeto Kubernetes StorageClass, usando o exemplo a seguir:</block>
  <block id="bd9c5e9bd5f130a6fbdbcaeb04656652" category="list-text">Crie a classe de armazenamento:</block>
  <block id="2472867b1c2b8a486fe64cfc08afeba5" category="list-text">Certifique-se de que a classe de armazenamento foi criada:</block>
  <block id="0a44f30bac4e15e0464a80627bef5882" category="section-title">Volumes de provisionamento</block>
  <block id="37bd6ab74d66efd877ea77c0e69e593c" category="paragraph">Depois de criar um back-end de storage e uma classe de storage, agora é possível provisionar um volume. Para obter instruções,<block ref="70405bfb2744633a336a6c9abdd1df6e" category="inline-link-rx"></block> consulte .</block>
  <block id="fe10ad21eb1ce607c403a8d609d5ab3e" category="section-title">Configurar a criptografia Kerberos em trânsito com volumes Azure NetApp Files</block>
  <block id="cd21e25bc313d3805456542eac624499" category="paragraph">Você pode ativar a criptografia Kerberos no tráfego de armazenamento entre o cluster gerenciado e um único back-end de armazenamento Azure NetApp Files ou um pool virtual de backends de armazenamento Azure NetApp Files.</block>
  <block id="04379b5e9a5ec6b970752d2b8d0341c8" category="list-text">Certifique-se de que você ativou o Trident no cluster gerenciado do Red Hat OpenShift.</block>
  <block id="6c32a3d0f1a665987b98dde5a0f96d7d" category="inline-link">Documentação do Azure NetApp Files</block>
  <block id="aa63a31f222305a4ce10d8c1020ab1fd" category="list-text">Certifique-se de que preparou o back-end de armazenamento Azure NetApp Files para criptografia Kerberos, observando os requisitos e seguindo as instruções em<block ref="54b351b1767d2d50eb8c87e19c20164c" category="inline-link-rx"></block>.</block>
  <block id="4f07c8d51fef64025d4b746305177733" category="paragraph">Você pode criar uma configuração de back-end de armazenamento Azure NetApp Files que inclua o recurso de criptografia Kerberos.</block>
  <block id="5c6eaa8dd4c4134f6ad836e97ffdee13" category="paragraph">Quando você cria um arquivo de configuração de back-end de armazenamento que configura a criptografia Kerberos, você pode defini-lo para que ele seja aplicado em um dos dois níveis possíveis:</block>
  <block id="bc0557be41ea94e344d7ece1f311b7d4" category="list-text">O *nível de back-end de armazenamento* usando o<block ref="6a60a6d9955ef9fce24cf4e86efed7af" prefix=" " category="inline-code"></block> campo</block>
  <block id="e30ee9a2b9976217a5fe28b412fe04d6" category="list-text">O *nível de pool virtual* usando o<block ref="533988f6253fcffab6270c1aafb50970" prefix=" " category="inline-code"></block> campo</block>
  <block id="64864cec765a0e5c421369098904873c" category="paragraph">Quando você define a configuração no nível do pool virtual, o pool é selecionado usando o rótulo na classe de armazenamento.</block>
  <block id="082ccae8192fda90d271d92200b3a7dd" category="paragraph">Em ambos os níveis, você pode especificar uma das três versões diferentes da criptografia Kerberos:</block>
  <block id="853434fc4aabccb1e3341f56ef2a9424" category="list-text"><block ref="9ce0da43b8420d1a89f0d00da04312a2" prefix="" category="inline-code"></block> (autenticação e criptografia)</block>
  <block id="44ea74e03aa9994870273996b8770ef6" category="list-text"><block ref="6bbaa5deea5e26abf8837d31bd265b6f" prefix="" category="inline-code"></block> (autenticação e criptografia com proteção de identidade)</block>
  <block id="e22427c81cd5155061fad66ed3f13f52" category="list-text"><block ref="42b55bed7d0514cd2e2189a3edc9d87b" prefix="" category="inline-code"></block> (autenticação e criptografia com proteção de identidade e privacidade)</block>
  <block id="c51fc706f0eb21d747d3ff2e2bb6c38b" category="list-text">No cluster gerenciado, crie um arquivo de configuração de back-end de storage usando um dos exemplos a seguir, dependendo de onde você precisa definir o back-end de storage (nível de back-end de armazenamento ou nível de pool virtual). Substitua os valores entre parêntesis&gt; por informações do seu ambiente:</block>
  <block id="d51a5db438981d465f8fecc7ecbeb054" category="open-title">Exemplo de nível de back-end de storage</block>
  <block id="83aab9b6ffc8c65b79350e009c49e5f4" category="open-title">Exemplo de nível de pool virtual</block>
  <block id="1738a6ff1f0b418ce16cf74aabdceff1" category="section-title">Restauração de volume no local a partir de um instantâneo</block>
  <block id="f29961e077241efec95d259658aa48f1" category="paragraph">O Trident fornece restauração rápida de volume no local a partir de um instantâneo usando o<block ref="2aabb3b01d0d54317a9eeef910e001f6" prefix=" " category="inline-code"></block> CR (TASR). Esse CR funciona como uma ação imperativa do Kubernetes e não persiste após a conclusão da operação.</block>
  <block id="0219777660eb822cd45c74808c60e5e6" category="paragraph">O Trident oferece suporte à restauração de snapshot no<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>,<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>, ,<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block><block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ,<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>, ,<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block><block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>, , e<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> drivers.</block>
  <block id="e0bc0596a7d966cd8dab3ee0e924c9b5" category="paragraph">Você deve ter um PVC vinculado e instantâneo de volume disponível.</block>
  <block id="d785d18f53979794a4ef9e08d186e3c4" category="list-text">Verifique se o status do PVC está vinculado.</block>
  <block id="d0f2b7254060d8a37c98c1eb4289586d" category="list-text">Verifique se o instantâneo do volume está pronto para ser usado.</block>
  <block id="da6aadede1bc870c9042c660fdf93f25" category="list-text">Crie o TASR CR. Este exemplo cria um CR para instantâneo de PVC<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block> e volume<block ref="06f2874897d3ec8426ec85e0ffda5544" prefix=" " category="inline-code"></block> .</block>
  <block id="68fb76b60d3c1f9302a04ef3eb761c08" category="admonition">O TAR CR deve estar num espaço de nomes onde o PVC e VS existam.</block>
  <block id="0c9991859e53bf37c58a2fd1233eb478" category="list-text">Aplique o CR para restaurar a partir do instantâneo. Este exemplo restaura do instantâneo<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>.</block>
  <block id="91f853f4fc1dc83a1a2f28c65af59d28" category="list-text">Na maioria dos casos, o Trident não tentará automaticamente a operação em caso de falha. Terá de efetuar novamente a operação.</block>
  <block id="c83b74c2020dd836f5b401ecda0da78c" category="list-text">Os usuários do Kubernetes sem acesso de administrador podem ter permissão para que o administrador crie um TASR CR em seu namespace de aplicativo.</block>
  <block id="cff310c77e35cf2f693ebbb39c78e89f" category="summary">O Trident é compatível com a criação de relacionamentos espelhados entre volumes de origem e destino para replicar volumes para recuperação de desastres.</block>
  <block id="50e2eea9ba53d70147772db1c5d25f79" category="doc">Replique volumes usando o SnapMirror</block>
  <block id="a682d8ef86abcae6c5a1db6186c5f02b" category="list-text">Criar relações de espelhamento entre volumes (PVCs)</block>
  <block id="31a8f98d3378661a5b8abf15438f0bca" category="list-text">Remova as relações de espelho entre volumes</block>
  <block id="a6349012892be516e5729d501a9649a7" category="list-text">Quebre as relações do espelho</block>
  <block id="2597cb6d27f572bb6d7d2fd15f414795" category="list-text">Promover o volume secundário durante as condições de desastre (failovers)</block>
  <block id="40f7c55be912a395aed2502927d3fcfa" category="list-text">Realizar a transição sem perda de aplicativos do cluster para o cluster (durante failovers planejados ou migrações)</block>
  <block id="d193cd9a2432eca22e5cf0d06dcee1e6" category="section-title">Pré-requisitos de replicação</block>
  <block id="55be807bf2be012ff44a04449cc5e8a8" category="paragraph">Certifique-se de que os seguintes pré-requisitos sejam atendidos antes de começar:</block>
  <block id="3404cce75db90acf6a9d52860721a139" category="list-title">Clusters de ONTAP</block>
  <block id="fbcc2a3b7506e5e36eb6f61b69bb75da" category="list-text">*Trident*: O Trident versão 22,10 ou posterior deve existir nos clusters do Kubernetes de origem e destino que utilizam o ONTAP como um back-end.</block>
  <block id="5cc8ada79224d850ecd22fd22e550c47" category="list-title">Peering</block>
  <block id="02b05cdd8f0a8c426f307085cc1004f7" category="list-text">*Cluster e SVM*: Os backends de storage do ONTAP devem ser colocados em Contato. <block ref="60333a598df416e49fbceb5a88dce370" category="inline-link-rx"></block>Consulte para obter mais informações.</block>
  <block id="792f00dfd96560df18fe1c6b56861893" category="list-text">*Trident e SVM*: Os SVMs remotas com peering devem estar disponíveis para o Trident no cluster de destino.</block>
  <block id="0c5e1b5bc54261ccadd2a72af1047ded" category="list-title">Drivers suportados</block>
  <block id="3ce5b83f8896ef0d2e356d3972ec8898" category="section-title">Crie um PVC espelhado</block>
  <block id="427a1ab7f39ee4f2dd7a0b7e35f572da" category="paragraph">Siga estas etapas e use os exemplos CRD para criar relação de espelhamento entre volumes primário e secundário.</block>
  <block id="4dc69f665f0d76c17a577a352dd15b25" category="list-text">Execute as etapas a seguir no cluster primário do Kubernetes:</block>
  <block id="cffc5263be00a76539edeeff72190d54" category="list-text">Crie um objeto StorageClass com o<block ref="23041ca302bab724a5a0a4ee923c745d" prefix=" " category="inline-code"></block> parâmetro.</block>
  <block id="f1fe26832c26eb686c85bd72da8a62f1" category="list-text">Crie um PVC com StorageClass criado anteriormente.</block>
  <block id="a306778c7affcc4dd2329c7f1e9a6389" category="list-text">Crie um MirrorRelationship CR com informações locais.</block>
  <block id="12551ccb4392cf7715384812c34ff7dc" category="paragraph">O Trident obtém as informações internas para o volume e o estado atual de proteção de dados (DP) do volume e, em seguida, preenche o campo de status do espelhamento.</block>
  <block id="7e36329a511f28054ceb0cb2aba7de3a" category="list-text">Obtenha o tridentMirrorRelacionship CR para obter o nome interno e SVM do PVC.</block>
  <block id="ce01c03f932076e82348fc5aaefacc7d" category="list-text">Execute as etapas a seguir no cluster secundário do Kubernetes:</block>
  <block id="dbe7fac150e57be9bc0d8e046792f4c3" category="list-text">Crie um StorageClass com o parâmetro Trident.NetApp.io/replicação: True.</block>
  <block id="01d68e0f9630c032dc8a33358e46e65b" category="list-text">Crie um MirrorRelationship CR com informações de destino e origem.</block>
  <block id="b4dcd7f617380594be36d544e6823841" category="paragraph">O Trident criará um relacionamento SnapMirror com o nome da política de relacionamento configurado (ou padrão para o ONTAP) e inicializá-lo.</block>
  <block id="4ba5d2a91c95149a7ad924ebd0d9503d" category="list-text">Crie um PVC com StorageClass criado anteriormente para atuar como secundário (destino SnapMirror).</block>
  <block id="14c271d9e62dcf6baaab0fde456f080f" category="paragraph">O Trident verificará se há CRD de relacionamento de espelhamento e não criará o volume se a relação não existir. Se o relacionamento existir, o Trident garantirá que o novo FlexVol volume seja colocado em um SVM que seja emparelhado com o SVM remoto definido no espelhamento.</block>
  <block id="e71d1a5cbaac30e63ed507e4b62c705f" category="section-title">Estados de replicação de volume</block>
  <block id="d802b3b47bb3c6b52714c9817598fcb8" category="paragraph">Um relacionamento de espelhamento do Trident (TMR) é um CRD que representa um fim de uma relação de replicação entre PVCs. O TMR de destino tem um estado, que informa ao Trident qual é o estado desejado. O TMR de destino tem os seguintes estados:</block>
  <block id="546afd3b22376f948ae8d790e441d7da" category="list-text">* Estabelecido*: O PVC local é o volume de destino de uma relação de espelho, e esta é uma nova relação.</block>
  <block id="724cfb5ec8bac42a80699bb79c4eccb9" category="list-text">*Promovido*: O PVC local é ReadWrite e montável, sem relação de espelho atualmente em vigor.</block>
  <block id="d323366aa32e60d08a0f93bda543af47" category="list-text">* Restabelecido*: O PVC local é o volume de destino de uma relação de espelho e também estava anteriormente nessa relação de espelho.</block>
  <block id="4c3cd5b62a43e82e03fffa6b238ed918" category="list-text">O estado restabelecido deve ser usado se o volume de destino estiver em uma relação com o volume de origem, porque ele sobrescreve o conteúdo do volume de destino.</block>
  <block id="b2e7dc07859cd924ca5706b299986e57" category="list-text">O estado restabelecido falhará se o volume não estiver previamente em uma relação com a fonte.</block>
  <block id="93f9c6ccc7d85e709509db31891ae5eb" category="section-title">Promover PVC secundário durante um failover não planejado</block>
  <block id="4a76c8d930ec18b5aedc26b5d8e5246f" category="paragraph">Execute a seguinte etapa no cluster secundário do Kubernetes:</block>
  <block id="78ac02218b5a9367bdcb4881538477cc" category="list-text">Atualize o campo _spec.State_ do TrigentMirrorRelationship para<block ref="1fe57d6202c7cfbb0ee344b1e0a6fb37" prefix=" " category="inline-code"></block>.</block>
  <block id="ffe4cfc202d643b50342b93a4a11a82f" category="section-title">Promover PVC secundário durante um failover planejado</block>
  <block id="1d60b89a076d7f30b8efdef50e842f68" category="paragraph">Durante um failover planejado (migração), execute as seguintes etapas para promover o PVC secundário:</block>
  <block id="3310d9a60c164accb7c262ab6e9fbc65" category="list-text">No cluster primário do Kubernetes, crie um snapshot do PVC e aguarde até que o snapshot seja criado.</block>
  <block id="8b17b79902950942165541a8ab704363" category="list-text">No cluster principal do Kubernetes, crie o SnapshotInfo CR para obter detalhes internos.</block>
  <block id="678346d79faaa65b2da52e6d7ddce845" category="list-text">No cluster secundário do Kubernetes, atualize o campo _spec.State_ do _tridentMirrorRelationship_ CR para _promoted_ e _spec.promotedSnapshotHandle_ para ser o internalName do snapshot.</block>
  <block id="7b007b14980acd66e9301e02a5670f47" category="list-text">No cluster secundário do Kubernetes, confirme o status (campo status.State) do TrigentMirrorRelationship para promovido.</block>
  <block id="f69101c0107c4bbf8f0ccc9141beb68b" category="section-title">Restaurar uma relação de espelhamento após um failover</block>
  <block id="9a023cbe1d3be933d8edb6228f9901ce" category="paragraph">Antes de restaurar uma relação de espelho, escolha o lado que você deseja fazer como o novo primário.</block>
  <block id="1c7011adbcc0afa258396aff4f10266b" category="list-text">No cluster secundário do Kubernetes, certifique-se de que os valores do campo _spec.remoteVolumeHandle_ no TrigentMirrorRelationship sejam atualizados.</block>
  <block id="ffb25f01fda2538ae98bc0c4b4d465a6" category="list-text">No cluster secundário do Kubernetes, atualize o campo _spec.mirror_ do TrigentMirrorRelationship para<block ref="036bbe13de7250844b100bc381b59214" prefix=" " category="inline-code"></block>.</block>
  <block id="41a593c0bede63aac2726a18e4599087" category="section-title">Operações adicionais</block>
  <block id="567147b40ff26562a6dfcddbde29e62e" category="paragraph">O Trident dá suporte às seguintes operações nos volumes primário e secundário:</block>
  <block id="253093d00b66ff2357df5085c04b2758" category="section-title">Replique PVC primário para um novo PVC secundário</block>
  <block id="301dcece9e67241c29ebbbac8a94274e" category="paragraph">Certifique-se de que você já tem um PVC primário e um PVC secundário.</block>
  <block id="7f1c32cba6b98d1db7f3dfda1df76189" category="list-text">Exclua as CRDs PersistentVolumeClaim e TridentMirrorRelacionship do cluster secundário (destino) estabelecido.</block>
  <block id="e655fd5342cff178f54ae5f5b2a3b7b6" category="list-text">Exclua o CRD do tridentMirrorRelationship do cluster primário (de origem).</block>
  <block id="3eb69a135044d3f308d140dccb1dbe5e" category="list-text">Crie um novo CRD de TridentMirrorRelacionship no cluster primário (de origem) para o novo PVC secundário (de destino) que você deseja estabelecer.</block>
  <block id="92c650dfb6284b5d24ed0e83a2338fa0" category="section-title">Redimensione um PVC espelhado, primário ou secundário</block>
  <block id="66990a43216d28b5b6818b021d397574" category="paragraph">O PVC pode ser redimensionado como normal, o ONTAP irá expandir automaticamente qualquer destino flevxols se a quantidade de dados exceder o tamanho atual.</block>
  <block id="4e2626fed5da19a4be8255f16a331609" category="section-title">Remova a replicação de um PVC</block>
  <block id="e1abf7fa65d845d34c33d593ed070453" category="paragraph">Para remover a replicação, execute uma das seguintes operações no volume secundário atual:</block>
  <block id="b3dd2c563dffb09f03c72bc16a72be62" category="list-text">Exclua o MirrorRelationship no PVC secundário. Isso quebra a relação de replicação.</block>
  <block id="413ab8e64d0d4ccb3f08ef2a8653a525" category="list-text">Ou atualize o campo spec.State para _promovido_.</block>
  <block id="c00cff9971607d7a0409066a0ecc3bcd" category="section-title">Excluir um PVC (que foi anteriormente espelhado)</block>
  <block id="e52ffc7f9894586bbf7c4260d92073c4" category="paragraph">O Trident verifica se há PVCs replicados e libera a relação de replicação antes de tentar excluir o volume.</block>
  <block id="8ec9c60105332c1be8facc42b496e14b" category="section-title">Eliminar um TMR</block>
  <block id="a956a14d229badbbde1032651b3586fd" category="paragraph">A exclusão de um TMR em um lado de um relacionamento espelhado faz com que o TMR restante passe para o estado _promovido_ antes que o Trident conclua a exclusão. Se o TMR selecionado para exclusão já estiver no estado _promovido_, não há relacionamento de espelhamento existente e o TMR será removido e o Trident promoverá o PVC local para _ReadWrite_. Essa exclusão libera os metadados do SnapMirror para o volume local no ONTAP. Se este volume for usado em uma relação de espelho no futuro, ele deve usar um novo TMR com um estado de replicação de volume _established_ ao criar a nova relação de espelho.</block>
  <block id="d41660149eb8930ad76a1dfe3dc5f2e3" category="section-title">Atualizar relações de espelho quando o ONTAP estiver online</block>
  <block id="7079164c5ba86439b0719782591106dd" category="paragraph">As relações de espelho podem ser atualizadas a qualquer momento depois que são estabelecidas. Pode utilizar os<block ref="abb3a949c6d70e3e5d92f4ad2bf143a3" prefix=" " category="inline-code"></block> campos ou<block ref="ff0b4e3d4dfe8f6074b6943947345d4d" prefix=" " category="inline-code"></block> para atualizar as relações. Ao promover um volume de destino para um volume ReadWrite regular, você pode usar _promotedSnapshotHandle_ para especificar um snapshot específico para restaurar o volume atual.</block>
  <block id="4eecab048a7c90cfb92e0f04884686e8" category="section-title">Atualizar relações de espelho quando o ONTAP estiver offline</block>
  <block id="e782fcb9f3e7e8fa8b5ccdb3169c0e42" category="paragraph">Você pode usar um CRD para executar uma atualização do SnapMirror sem que o Trident tenha conetividade direta com o cluster do ONTAP. Consulte o seguinte formato de exemplo do TrigentActionMirrorUpdate:</block>
  <block id="bc08468157c4a9e3a30eed7ba64cc309" category="paragraph"><block ref="1f9dfae8a369525bce4996df40963532" prefix="" category="inline-code"></block> Reflete o estado do CRD do TrigentActionMirrorUpdate. Ele pode tomar um valor de _successful_, _in progress_ ou _Failed_.</block>
  <block id="239be7c008105ac7fd4ca34940e848dd" category="list-text">Identidade da carga de trabalho configurada no cluster GKE e no servidor de metadados GKE configurados nos pools de nós.</block>
  <block id="cf1b0c32b7f8d889140a0a7a048bc29b" category="list-text">Uma conta de serviço do GCP com a função Google Cloud NetApp volumes Admin (Roles/NetApp.admin) ou uma função personalizada.</block>
  <block id="b70329a4cd0d7e433e8af087eebce89a" category="list-text">Trident instalado que inclui o cloudProvider para especificar "GCP" e cloudIdentity especificando a nova conta de serviço do GCP. Um exemplo é dado abaixo.</block>
  <block id="73a8d79444c307e1446b60eb6a9ba8f1" category="paragraph">Verifique se você tem o seguinte antes de configurar o complemento do Trident para o AWS EKS:</block>
  <block id="5c48b2cb013af0c5d292d6bc5659074c" category="section-title">Instale/desinstale o complemento Trident EKS usando a CLI</block>
  <block id="1095f7331744c1accf45762c2da50a60" category="paragraph">O Trident simplifica o gerenciamento de armazenamento do Amazon FSX for NetApp ONTAP no Kubernetes para permitir que seus desenvolvedores e administradores se concentrem na implantação de aplicativos.</block>
  <block id="aa9c9ff1836c624104eb3a256a7b8b69" category="section-title">Instale o Trident através do leme</block>
  <block id="b0e9da2f71a439472cddf0553ae43edc" category="section-title">Instale o Trident através do suplemento EKS</block>
  <block id="03023c37f6d85929cf0151fe858d3183" category="paragraph">O complemento do Trident EKS inclui os patches de segurança mais recentes, correções de bugs e é validado pela AWS para funcionar com o Amazon EKS. O complemento EKS permite que você garanta consistentemente que seus clusters do Amazon EKS estejam seguros e estáveis e reduza a quantidade de trabalho que você precisa fazer para instalar, configurar e atualizar complementos.</block>
  <block id="16a9eb0d1ef7d37ab7459bc9a67a8102" category="section-title">Ative o complemento Trident para AWS</block>
  <block id="1d5144e260d8c4ece3c5d47a77d84c11" category="section-title">Atualize o complemento Trident EKS</block>
  <block id="ccab466451ff5a867710cce1b28c33a0" category="section-title">Desinstale/remova o complemento Trident EKS</block>
  <block id="d1548585dadda37a28905a23e22cf65d" category="section-title">Restaure de um backup para um cluster diferente</block>
  <block id="7fa8874b1f645ca2af9d81b51985b8fb" category="paragraph">Você pode restaurar um backup para um cluster diferente se houver um problema com o cluster original.</block>
  <block id="dd4ee610bd1d035c73bc0cbcd80e46da" category="paragraph">Certifique-se de que os seguintes pré-requisitos são cumpridos:</block>
  <block id="1d6028c560c8f6dbee841737e60a3d9d" category="list-text">O cluster de destino tem o Trident Protect instalado.</block>
  <block id="b20f8883edb9068c67a2faeb3c083d38" category="list-text">O cluster de destino tem acesso ao caminho do bucket do mesmo AppVault que o cluster de origem, onde o backup é armazenado.</block>
  <block id="0425d0358a4cba7a7cce5ddd727ab6a2" category="list-text">Verifique a disponibilidade do AppVault CR no cluster de destino usando o plugin Trident Protect CLI:</block>
  <block id="1ff83a5266e9e025c2984e0c10dea90e" category="admonition">Verifique se o namespace destinado à restauração do aplicativo existe no cluster de destino.</block>
  <block id="8d433ae9a21c49e9e5433ebd408605c0" category="list-text">Veja o conteúdo de backup do AppVault disponível no cluster de destino:</block>
  <block id="378e6f0ba7080535a4462b5311befb40" category="paragraph">Executar esse comando exibe os backups disponíveis no AppVault, incluindo os clusters de origem, nomes de aplicativos correspondentes, carimbos de data/hora e caminhos de arquivamento.</block>
  <block id="053aba80de03f3fdf626d1c858342330" category="list-text">Restaure o aplicativo para o cluster de destino usando o nome do AppVault e o caminho do arquivo:</block>
  <block id="fceebbe32c1f7b24c54d6a4e8a0fa776" category="admonition">Se o BackupRestore CR não estiver disponível, você poderá usar o comando mencionado na etapa 2 para visualizar o conteúdo do backup.</block>
  <block id="4ef55c1fec2de9218af40d16cbc021a4" category="list-text">Use o comando a seguir para restaurar o aplicativo, substituindo valores entre parênteses por informações do ambiente. O argumento namespace-mapping usa namespaces separados por dois pontos para mapear namespaces de origem para os namespaces de destino corretos no formato source1:dest1,source2:dest2. Por exemplo:</block>
  <block id="41ee1e1e674f49a8e3c78fc5517b1b83" category="inline-link">Trident 24,10</block>
  <block id="330905133ec61fb32dbdb0593cf466a2" category="list-text"><block ref="330905133ec61fb32dbdb0593cf466a2" category="inline-link-rx"></block></block>
  <block id="14151311f8b442ecc7db1533868dccd9" category="paragraph">Embora não seja aconselhado, você pode usar o mesmo SVM de back-end para duas instâncias do Trident. Especifique um nome de volume exclusivo para cada instância durante a instalação e/ou especifique um parâmetro exclusivo<block ref="641b2675465e765661450709e2351a8e" prefix=" " category="inline-code"></block> no<block ref="57a3822fdb39e72cdc47d89fd04ce467" prefix=" " category="inline-code"></block> arquivo. Isso serve para garantir que o mesmo FlexVol volume não seja usado para ambas as instâncias.</block>
  <block id="c45e7f5f358ba554413458272da37266" category="paragraph"><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>O driver cria até 200 Qtrees no mesmo FlexVol volume (configurável entre 50 e 300), 100.000 Qtrees por nó de cluster e 2,4M por cluster. Quando você insere um novo<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> que é atendido pelo driver de economia, o driver procura ver se já existe um FlexVol volume que pode atender o novo Qtree. Se o FlexVol volume não existir que possa servir o Qtree, um novo FlexVol volume será criado.</block>
  <block id="53f6fbaa0c2bc4ebb4fc98f8a0337c54" category="paragraph">Isso também está disponível<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> nos drivers, mas na granularidade de nível FlexVol volume e não na granularidade de nível de qtree. Para habilitar a capacidade de snapshot volumes provisionados pelo Trident, defina a opção de parâmetro de back-end<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> para a política de snapshot desejada, conforme definido no back-end do ONTAP. Todos os instantâneos obtidos pelo controlador de armazenamento não são conhecidos pelo Trident.</block>
  <block id="68d4b8621bcc2d9eae1a68dc27dfa485" category="inline-link-macro">25,02</block>
  <block id="eaaf7bd308bf6f27888c8d18ba11417d" category="cell">Fevereiro de 2028</block>
  <block id="5956c33dbd8c8ed6e363f54092a9d544" category="paragraph"><block ref="5956c33dbd8c8ed6e363f54092a9d544" category="inline-link-macro-rx"></block></block>
  <block id="29a2e5ba987103c3a239ad6ec13b96a2" category="list-text">Para os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers ,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, ,<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> e<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> , cada volume persistente (PV) mapeia para um FlexVol volume como resultado, os snapshots de volume são criados como snapshots do NetApp. A tecnologia Snapshot da NetApp oferece mais estabilidade, escalabilidade, capacidade de recuperação e desempenho do que as tecnologias de snapshot da concorrência. Essas cópias snapshot são extremamente eficientes no tempo necessário para criá-las e no espaço de storage.</block>
  <block id="9574cb59de58a7e6882179620abd42fd" category="list-text">Para<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> o driver, PVS mapeiam para LUNs criados em volumes FlexVol compartilhados VolumeOs snapshots de PVS são obtidos executando FlexClones do LUN associado. Com a tecnologia ONTAP FlexClone, é possível criar cópias dos maiores conjuntos de dados quase instantaneamente. As cópias compartilham blocos de dados com os pais, não consumindo storage, exceto o necessário para os metadados.</block>
  <block id="20215ca4c00abcf8fb731d0f856d0e91" category="section-title">Ferramentas FC</block>
  <block id="fb2a1518f6d194cef3caaff16d0f8ee4" category="admonition">Não use<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> (incluindo o padrão) para backends de elemento. Por padrão, o<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver ignorará essa configuração e não usará um prefixo. O NetApp recomenda usar um tenantID específico para mapeamento de volume do Docker ou usar os dados de atributo que são preenchidos com a versão do Docker, informações de driver e nome bruto do Docker nos casos em que qualquer nome munging pode ter sido usado.</block>
  <block id="ede78805a80cf9b2284aa458924e07b2" category="paragraph">*Drivers SAN ONTAP*: Não especifique para iSCSI ou FC. O Trident usa <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> para descobrir as LIFs iSCSI ou FC necessárias para estabelecer uma sessão de vários caminhos. Um aviso é gerado se<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> for definido explicitamente.</block>
  <block id="c024b0a80a0f117a251e956f7b09ac4e" category="cell">*Suportado apenas para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver.* Use para selecionar<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block> iSCSI,<block ref="eac89e2640666fd1076a776e4b748fae" prefix=" " category="inline-code"></block> NVMe/TCP ou<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block> SCSI por Fibre Channel (FC).</block>
  <block id="36212bd37512e583deabaefb464f77f9" category="paragraph">A política de disposição em categorias a ser usada, o padrão é<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>.</block>
  <block id="b52d90bca507da030b84d478b8b8f150" category="paragraph">Os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> criam um ONTAP FlexVol para cada volume do Docker. O ONTAP dá suporte a até 1000 FlexVols por nó de cluster com um cluster máximo de 12.000 volumes FlexVol se os requisitos de volume do Docker se ajustarem a essa limitação,<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> o driver é a solução nas preferida devido aos recursos adicionais oferecidos pelo FlexVols, como snapshots Docker granular e clonagem.</block>
  <block id="35bf5cbb6338abecc1fe5e2fddecc6fa" category="example-title">Exemplo de SCSI sobre FC para o driver &lt;code&gt; ONTAP-san&lt;/code&gt;</block>
  <block id="58c4d5bb52050e96221a67cebc52a666" category="paragraph">As opções de criação de volume para NFS, iSCSI e FC incluem o seguinte:</block>
  <block id="72291962244c35e29a2e95cd6bd139bf" category="list-text">Crie um volume com uma política de snapshot e aceite a reserva de snapshot padrão do ONTAP (geralmente 5%):</block>
  <block id="5e62a96ba0adfc3472a925ff92c33174" category="paragraph">O NetApp Trident possibilita o consumo e o gerenciamento de recursos de storage em todas as plataformas de storage populares da NetApp, na nuvem pública ou no local, incluindo clusters ONTAP on-premises (AFF, FAS e ASA), ONTAP Select, Cloud Volumes ONTAP, software Element (NetApp HCI, SolidFire), Azure NetApp Files, Amazon FSX for NetApp ONTAP e Cloud Volumes Service no Google Cloud.</block>
  <block id="90de0fd1d09f4fc27d99667555a8a12f" category="paragraph">Os sistemas ONTAP têm configurações all-flash, híbridas ou totalmente HDD e oferecem muitos modelos de implantação diferentes: Clusters FAS, AFA e ASA no local, ONTAP Select e Cloud Volumes ONTAP. O Trident oferece suporte a esses modelos de implantação do ONTAP.</block>
  <block id="bde4e01f8df98626e0dc1c36a8e06a5a" category="admonition">Antes de atualizar um cluster do Kubernetes do 1,25 para o 1,26 ou posterior que tenha o Trident instalado, <block ref="1b428bb9b9fe27db6cd8932526864634" category="inline-link-macro-rx"></block>consulte a .</block>
  <block id="8f323a9e5c0c5162cc6e0d48e0cb1850" category="paragraph-title">Drivers de armazenamento suportados:</block>
  <block id="8321592ce24c8a122ecf26a63cfca407" category="list-text">ONTAP-nas</block>
  <block id="caafdf62a2c609bfa5316118231a1007" category="list-text">ONTAP-nas-economia</block>
  <block id="188c0d870c5f930d042bdaa1f1fc3573" category="list-text">ONTAP-san (iSCSI, FCP, NVMe em TCP)</block>
  <block id="1bbe28a8ef9b1c85d07b013af0628d36" category="list-text">ONTAP-San-Economy (apenas iSCSI)</block>
  <block id="db526afc657fdfec1ca176eb9d281f89" category="list-title">Pontos a considerar:</block>
  <block id="f97169869bcbff98d85a1b7ec1d7b5f8" category="list-text">Para fluxos de trabalho de migração em tempo real em que o modo de acesso RWX é necessário, essas combinações são suportadas:</block>
  <block id="d3701dd5a7c831a74d496a90c3a65f13" category="list-text">DE NFS<block ref="7f5db5e0500761cacd6f89838e2ebdc5" prefix=" " category="inline-code"></block></block>
  <block id="42c7d371004c0674ae717618c4a08508" category="list-text">ISCSI<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block> (dispositivo bruto)</block>
  <block id="e031968b595722f16da97146c3a92c69" category="list-text">NVMe/TCP<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block> (dispositivo bruto)</block>
  <block id="381edc20137f75d1e418981c1361fd2c" category="list-text">FC<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block> (dispositivo bruto)</block>
  <block id="b55333d21cb50b1d1d34c529c999482f" category="list-text">provisionador do registry.k8s.io/sig-storage/csi:v5,2.0</block>
  <block id="7e8b00e8f801232796015a8859867e55" category="list-text">registry.k8s.io/sig-storage/csi-node-driver-registrador:v2.13.0</block>
  <block id="0915385df687d0c4a0afb57a61f02af3" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>, ,<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>, , e<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> apenas. Funciona com o Kubernetes Non-Graceful Node Shutdown (NGNS) para conceder aos administradores de cluster a capacidade de migrar com segurança cargas de trabalho com volumes montados para novos nós caso um nó não seja saudável.</block>
  <block id="abef2fa5ff95ef0fcfa0688ea6bcb3a9" category="cell"><block ref="c257f92937b246af1d65825bab674c3b" prefix="" category="inline-code"></block></block>
  <block id="abd94f25c6f83f31232f41e2c03a17c1" category="cell">Permite a configuração automática de back-end, que cria facilmente classes de back-end e armazenamento com base em parâmetros de entrada.</block>
  <block id="584255a02e82c085a6eee64514bf791a" category="paragraph">O Force Detach está disponível apenas para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>,<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>, ,<block ref="c9cdb62835ea4d8965a6e946dc9826f0" prefix=" " category="inline-code"></block> e<block ref="bc63092df841150cda2e4fd2992a38d1" prefix=" " category="inline-code"></block> . Antes de ativar a desconexão forçada, o desligamento do nó (NGNS) não gracioso deve ser ativado no cluster do Kubernetes. O NGNS é habilitado por padrão para o Kubernetes 1,28 e posterior. Para obter mais informações, <block ref="a0c86c823d7e699cfc277c93de351a2d" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="97949d2167cfb02925ebeb5fbc18e41c" category="admonition">Ao usar o<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> driver ou<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>, você precisa definir o<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> parâmetro na configuração de back-end<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> para que o Trident possa restringir o acesso do nó Kubernetes com a alteração aplicada usando políticas de exportação gerenciadas.</block>
  <block id="f27e6cf95381139bd9916c64f178d212" category="list-text">Para clusters que executam o Kubernetes 1,24, <block ref="ccef28639b5a7d8b851d32c1ca719ce3" category="inline-link-macro-rx"></block>use o .</block>
  <block id="b9f6abf28d1518cdaae0ed7e29a5727e" category="list-text">Para clusters que executam o Kubernetes 1,25 ou posterior, <block ref="d1039b29d019902f70f499d65ede99cb" category="inline-link-macro-rx"></block>use o .</block>
  <block id="572a8b759ae44dd81571fb9d11e9932b" category="paragraph">A replicação do NetApp SnapMirror está disponível para uso com o Trident Protect para as seguintes soluções da ONTAP:</block>
  <block id="701fc71f0daf0d596d98b3af41d195dd" category="list-text">Clusters NetApp FAS, AFF e ASA no local</block>
  <block id="405c5315f2ee81c7d907857a97bc9ccc" category="list-text">Coloque os artefatos de backup em um FlexVol volume</block>
  <block id="f4d58905240b9c44d84e6ee73c8499ac" category="admonition">A NetApp recomenda a proteção do SVM em que o FlexVol reside, em uma relação da SnapMirror com outro SVM.</block>
  <block id="2e465fe2a334bfbbd0254091d76e5cf5" category="cell">Nota de rodapé:3[]</block>
  <block id="c2f3f489a00553e7a01d369c103c7251" category="cell">NÃO</block>
  <block id="60fa17e80af13d37b16c3991f5b175a6" category="verse-content-simple">Nota de rodapé para as tabelas acima: Yesfootnote:1[]: Não gerenciado por Trident Yesfootnote:2[]: Gerenciado por Trident, mas não PV granular NOfootnote:3[]: Não gerenciado por Trident e não PV granular Yesfootnote:4[]: Suportado para volumes de bloco bruto Yesfootnote:5[]: Suportado por Trident</block>
  <block id="ce8f76b595bb8163817ad21f0d964fe2" category="admonition">No momento, os provisionadores in-tree do Kubernetes não são compatíveis com operações de redimensionamento de volume para PVS NFS, iSCSI ou FC. O Trident é compatível com a expansão de volumes NFS, iSCSI e FC.</block>
  <block id="e168cabed41efc63d96f214d5cbe189a" category="paragraph">O Trident é compatível com o redimensionamento de PVS NFS, iSCSI e FC. Isso permite que os usuários redimensionem seus volumes diretamente pela camada Kubernetes. A expansão de volume é possível para todas as principais plataformas de storage da NetApp, incluindo backends ONTAP, SolidFire/NetApp HCI e Cloud Volumes Service. Para permitir uma possível expansão posterior, defina<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block> como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> no StorageClass associado ao volume. Sempre que for necessário redimensionar o volume persistente, edite a<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> anotação na reclamação volume persistente para o tamanho de volume pretendido. O Trident cuidará automaticamente do redimensionamento do volume no cluster de armazenamento.</block>
  <block id="1b5e17f09c6b94c6a943765fe4bf9d6c" category="list-text">Por motivos de desempenho, a NetApp recomenda que os nós de trabalho suportem as novas instruções padrão de criptografia avançada (AES-NI). Para verificar o suporte ao AES-NI, execute o seguinte comando:</block>
  <block id="8d102642e270f6e890338a2cfc4a188d" category="paragraph">Por exemplo, um cluster de ONTAP de dois nós pode hospedar um máximo de 2000 volumes FlexVol. Ter a contagem de volume máxima definida para 1250 parece muito razoável. No entanto, se apenas<block ref="acf6cbef6ee0ef07ee3fe13269233be8" category="inline-link-rx"></block> de um nó forem atribuídos à SVM, ou se os agregados atribuídos de um nó não puderem ser provisionados (por exemplo, devido à capacidade), o outro nó se tornará o destino de todos os volumes provisionados pelo Trident. Isso significa que o limite de volume pode ser alcançado para esse nó antes que o<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block> valor seja atingido, resultando em impacto no Trident e em outras operações de volume que usam esse nó. *Você pode evitar essa situação garantindo que os agregados de cada nó no cluster sejam atribuídos ao SVM usado pelo Trident em números iguais.*</block>
  <block id="f3497351aae46692e603fedb2f2cd146" category="inline-link">Referência do comando ONTAP</block>
  <block id="94ac1e66ef8b79949d7fe240ca1fc49e" category="paragraph">Para obter mais informações sobre grupos de políticas de QoS,<block ref="c7075dcfeceb3e1e55c7a25ddec6d166" category="inline-link-rx"></block> consulte .</block>
  <block id="6146d9e1c8e067801be76f7b7027b42f" category="paragraph">Limitar o acesso a volumes NFS, iSCSI LUNs e FC LUNs criados pelo Trident é um componente essencial da postura de segurança para a implantação do Kubernetes. Isso impede que os hosts que não fazem parte do cluster do Kubernetes acessem os volumes e potencialmente modifiquem os dados inesperadamente.</block>
  <block id="fe7898282075be6913421f0b11f5c0e1" category="inline-link">Administração de SAN</block>
  <block id="cd2793aaeed5e7f0429f516ecf5eb130" category="list-text"><block ref="8a4b824281db82475bec9857f32bde41" category="inline-link-rx"></block> (Para iSCSI)</block>
  <block id="23db1fababbb1ae99bf5bf19e6f6f47b" category="list-text">A NetApp recomenda clonar um volume ocioso.</block>
  <block id="3ca0a694ceba360e6f67566a611b37fb" category="paragraph">Os volumes são a unidade básica de provisionamento, incluindo pontos de extremidade de back-end, como compartilhamentos NFS e iSCSI e FC LUNs. No Kubernetes, eles correspondem diretamente<block ref="3f91308865b7567ae097573f6d0519e9" prefix=" " category="inline-code"></block> ao . Ao criar um volume, certifique-se de que ele tenha uma classe de armazenamento, que determina onde esse volume pode ser provisionado, juntamente com um tamanho.</block>
  <block id="f732fd09d1f97b63aaad6d5a80382f0c" category="list-text">Adicionado suporte para ONTAP ASA R2 para iSCSI.</block>
  <block id="87959ecf0c52ae4baca9f7e962286ec1" category="list-text">Adicionado suporte para Force Detach para volumes ONTAP-nas durante cenários de encerramento de nó não gracioso. Os novos volumes ONTAP-nas agora utilizarão políticas de exportação por volume gerenciadas pelo Trident. Forneceu um caminho de atualização para que os volumes existentes façam a transição para o novo modelo de política de exportação na não publicação, sem afetar os workloads ativos.</block>
  <block id="09abe7a508b1461d2b42cd082e9680aa" category="list-text">Adicionada anotação cloneFromSnapshot.</block>
  <block id="9746cecbe2eafd28277700bbaea79ccf" category="list-text">Adicionado suporte para clonagem de volume entre namespace.</block>
  <block id="1cd9d07d7ac9faf3b1d1e464094fed79" category="list-text">Correcções de verificação melhoradas de recuperação automática iSCSI para iniciar redigitalizações por ID de host, canal, destino e LUN exato.</block>
  <block id="c2653fd16e9e4da4d4d738616dcb956a" category="list-text">Adicionado suporte para Kubernetes 1,32.</block>
  <block id="2e110255627afe2fff57458d9bb2205b" category="list-text">*OpenShift*:</block>
  <block id="ddbeca6e89eb34fdc94eeec79b9f6a43" category="list-text">Adicionado suporte para preparação automática de nó iSCSI para RHCOS em clusters ROSA.</block>
  <block id="e5f47a8bc4c6e320936843808b4b8392" category="list-text">Adicionado suporte Fibre Channel no driver ONTAP-SAN.</block>
  <block id="00a0b47f2d2eb76897798a0b983daf88" category="list-text">Adicionado suporte a NVMe LUKS.</block>
  <block id="890fc08a388302375744ade0476c1409" category="list-text">Mudou para imagem de raspadinha para todas as imagens base.</block>
  <block id="d6dc63ac67744b1aac236b69c66dfde2" category="inline-link-macro">Problema nº 961</block>
  <block id="35805c702a0d37de58fd020d28318c88" category="list-text">Foi adicionada a deteção e o registo do estado da ligação iSCSI quando as sessões iSCSI devem ser efetuadas, mas não são (<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block>).</block>
  <block id="121a804f61cdaf83f9c80e5b2ecf5658" category="list-text">Adicionado suporte a volumes SMB com o driver google-Cloud-NetApp-volumes.</block>
  <block id="92ce3c86905470d0feaa428d8438bf74" category="list-text">Adicionado suporte para permitir que os volumes ONTAP saltem a fila de recuperação na eliminação.</block>
  <block id="7b97d5f955a87ceaab8fdc5ee542dd5d" category="list-text">Adicionado suporte para substituir imagens padrão usando Shas em vez de tags.</block>
  <block id="8064b658df7d1098fbc06c88a182a398" category="list-text">Adicionado sinalizador image-pull-segies para o instalador tridentctl.</block>
  <block id="a6b7ff9774a7997f58d8eeff9907ae1f" category="inline-link-macro">Problema nº 965</block>
  <block id="6cb0e6987f921e8d1b11fc9850d89d90" category="list-text">Corrigido endereços IP de nó ausentes das políticas de exportação automática (<block ref="54a0e12625c53fbb79b83159edf0dab4" category="inline-link-macro-rx"></block>).</block>
  <block id="2ad835ef65ba9fef1c3b178d86eb59b1" category="list-text">Políticas de exportação automáticas fixas alternando prematuramente para política de volume por ONTAP-nas-Economy.</block>
  <block id="a794d83b092a8031769c2bcf2a88ceb5" category="inline-link-macro">Problema nº 913</block>
  <block id="cfc9cd0ab1d20f67db270bed8d63126c" category="list-text">Credenciais de configuração de back-end fixas para oferecer suporte a todas as partições ARN () da AWS disponíveis<block ref="00fe04b68c89d56b5fe9076943919a54" category="inline-link-macro-rx"></block>.</block>
  <block id="375e43b9a6d4ec413731b638ec0945b5" category="inline-link-macro">Problema nº 924</block>
  <block id="50da178eec9235ba0a85999374d51cba" category="list-text">Opção adicionada para desativar a reconciliação do configurador automático no operador Trident (<block ref="95579fcabb606a95f307c6ba89588c08" category="inline-link-macro-rx"></block>).</block>
  <block id="16aa6756a13a48723b3d2bc4bf50c104" category="inline-link-macro">Problema nº 976</block>
  <block id="60b04b91abae29736bd23b21579be5cb" category="list-text">Adicionado securityContext para o contentor csi-Resizer (<block ref="a97be45bfcdf3eeaee81dc9917811f8f" category="inline-link-macro-rx"></block>).</block>
  <block id="cb1f1e88b6db83dc715d1cb1d8733445" category="section-title">Trident Protect</block>
  <block id="b094c3f306a844e9e49992f69a84cfa4" category="paragraph">O NetApp Trident Protect oferece recursos avançados de gerenciamento de dados de aplicações que aprimoram o recurso e a disponibilidade de aplicações Kubernetes com monitoramento de estado e respaldo dos sistemas de storage da NetApp ONTAP e do provisionador de storage NetApp Trident CSI.</block>
  <block id="7df125a00671c08a40e0225c8e7bfe51" category="list-text">Adicionada a capacidade de controlar o comportamento de congelamento no nível da aplicação para ambientes Kubevirt.</block>
  <block id="bde8e1e3de96ead9884d920004bad3bf" category="list-text">Adicionado suporte para configurar conexões proxy AutoSupport.</block>
  <block id="3a3a7f688efad3284b8088de98d9c990" category="list-text">Adicionada a capacidade de definir um segredo para a criptografia do controlador de dados (Kopia / Restic).</block>
  <block id="7bd24598cff0819911511e7a4114afc9" category="list-text">Adicionado a capacidade de executar manualmente um gancho de execução.</block>
  <block id="d8420a2285ade91fbb556a8705392d4e" category="list-text">Adicionada a capacidade de configurar restrições de contexto de segurança (SCCs) durante a instalação do Trident Protect.</block>
  <block id="397cc2a4d426cf97968c783f15ec2de3" category="list-text">Adicionado suporte para configurar o nodeSeletor durante a instalação do Trident Protect.</block>
  <block id="b5b9bc3aab84e4b648c1432f95ac9294" category="list-text">Adicionado suporte para proxy de saída HTTP / HTTPS para objetos AppVault.</block>
  <block id="e7ce2b289382a615113880a71867a2fb" category="list-text">Extended ResourceFilter para habilitar a exclusão de recursos com escopo de cluster.</block>
  <block id="230ae1ea7310e8fa80a6cd9e6208085e" category="list-text">Adicionado suporte para o token de sessão da AWS nas credenciais do S3 AppVault.</block>
  <block id="639c61df343e77e3de0b8188942cb635" category="list-text">Adicionado suporte para coleta de recursos após ganchos de execução pré-snapshot.</block>
  <block id="31ddfac7cfd4824f2708b4b925145a29" category="list-text">Melhorou o gerenciamento de volumes temporários para ignorar a fila de recuperação de volume do ONTAP.</block>
  <block id="b9b8b880b51afd88c2f4e04a85fe762e" category="list-text">As anotações SCC são agora restauradas para os valores originais.</block>
  <block id="b045f8636f0c21a7fefb437149e20dc9" category="list-text">Eficiência de restauração aprimorada com suporte para operações paralelas.</block>
  <block id="8f35f1b8a50531165f36731d30906b11" category="list-text">Suporte aprimorado para hook timeouts de execução para aplicativos maiores.</block>
  <block id="c7e79f1db15a592daab7f7427aef79d5" category="section-title">Mudanças em 24,10</block>
  <block id="b4da90c52a04dd004929d86ec62cc931" category="list-text">Adicionado pré-visualização técnica para suporte de Fibre Channel no driver ONTAP-SAN.</block>
  <block id="bf8ced7df51ab8a52eb2f62a26930270" category="list-text">Adicionado suporte no Trident para usar REST por padrão em vez de ONTAPI (ZAPI) para ONTAP versões 9.15.1 e posteriores.</block>
  <block id="629823c949babd4c929b5092cd5e2745" category="list-text">Corrigido Trident para evitar a redução de volumes FlexVol durante a operação de redimensionamento para o driver ONTAP-SAN.</block>
  <block id="f327f341da3048e9e44264cc06a32d7e" category="list-text">A personalidade do Amazon FSX foi adicionada aos drivers do ONTAP para permitir a integração com o AWS IAM e o SecretsManager e permitir que o Trident exclua volumes do FSX com backups (<block ref="7c3258c670b686f5f475bd6b06dfec79" category="inline-link-macro-rx"></block>).</block>
  <block id="0f6d5d982c20f6f746c8e4019cc039f8" category="list-text">Solicitações ONTAPI (ZAPI) fixas para garantir que os números de série LUN sejam consultados ao obter atributos LUN para identificar e corrigir dispositivos iSCSI fantasma durante as operações de estadiamento do nó.</block>
  <block id="1ae87fd6923d3446058e089c56a6c49d" category="list-text">Adicionado suporte para volumes SMB com o Amazon FSX for NetApp ONTAP para o driver de armazenamento ONTAP-nas.</block>
  <block id="4e48fbbb41f5d5816d9638612c6e4171" category="list-text">Desempenho aprimorado para o driver de storage econômico ONTAP nas ao gerenciar vários volumes FlexVol</block>
  <block id="bf5d13740edaf72b96d340da8b520aa2" category="paragraph">Saiba mais sobre as opções de configuração de back-end para o Google Cloud NetApp volumes e revise exemplos de configuração.</block>
  <block id="a61f1a0c3100fa19040c465723b8d138" category="example-title">Configuração para volumes SMB</block>
  <block id="d7532ab2cf050869a37a3b301475208c" category="paragraph">Agora você pode configurar o Google Cloud NetApp volumes como back-end para o Trident. É possível anexar volumes NFS e SMB usando um back-end do Google Cloud NetApp volumes.</block>
  <block id="e996b7ab8a2ede8d8b06fc99b3a11062" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>,<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>, ou<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block></block>
  <block id="b9bc5d902a9cd0a94cdcf025103a3488" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor. Também restringe o tamanho máximo dos volumes que gerencia para qtrees, e a<block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix=" " category="inline-code"></block> opção permite personalizar o número máximo de qtrees por FlexVol volume</block>
  <block id="891bc9d98980555712816ab85ae4a747" category="list-text"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block> está definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>. Isso indica que o Trident cria uma política de exportação para cada volume provisionado com esse back-end para<block ref="3568c00ad84b08a31b2dfadbfd8ee221" prefix=" " category="inline-code"></block> o SVM e lida com a adição e exclusão de regras usando<block ref="c108f084ab28ac46ad3787ba09ae8304" prefix=" " category="inline-code"></block> blocos de endereço. Até que um volume seja anexado a um nó, o volume usa uma política de exportação vazia sem regras para impedir o acesso indesejado a esse volume. Quando um volume é publicado em um nó, o Trident cria uma política de exportação com o mesmo nome que a qtree subjacente que contém o IP do nó dentro do bloco CIDR especificado. Esses IPs também serão adicionados à política de exportação usada pelo FlexVol volume pai</block>
  <block id="ce3bd20884ed2b4f4a604d922dbb0dd9" category="admonition">É necessário configurar os protocolos NFS e SMB/CIFS na SVM para criar um<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> volume SMB para clusters no local do ONTAP. A falha na configuração desses protocolos fará com que a criação de volume SMB falhe.</block>
  <block id="b6de3e094a7f00742b82e2ac02d7d167" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> ou<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="b42a873c5558eb05b643cf896aa6e1a4" category="paragraph">Endereço IP de um cluster ou LIF de gerenciamento de SVM.</block>
  <block id="3dba01512ea96ad84a108f0fc949477a" category="paragraph">Um nome de domínio totalmente qualificado (FQDN) pode ser especificado.</block>
  <block id="fcc539559cb740199f02074f11b246c3" category="paragraph">Pode ser definido para usar endereços IPv6 se o Trident tiver sido instalado usando o sinalizador IPv6. Os endereços IPv6 devem ser definidos entre colchetes, como<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block> .</block>
  <block id="3b4dab2ec7635dde859482b32c23ab9f" category="paragraph">Para o switchover MetroCluster otimizado, consulte o <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>.</block>
  <block id="2c8c9fb51502e9a1b2d2539b4d21a27b" category="cell">Endereço IP do protocolo LIF. Pode ser definido para usar endereços IPv6 se o Trident tiver sido instalado usando o sinalizador IPv6. Os endereços IPv6 devem ser definidos entre colchetes, como<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block> . *Não especifique para iSCSI.* O Trident usa <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> para descobrir as LIFs iSCSI necessárias para estabelecer uma sessão de vários caminhos. Um aviso é gerado se<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> for definido explicitamente. *Omita para MetroCluster.* Consulte <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>.</block>
  <block id="1f5f7f2866fe3a2c557b2ea38e4c2137" category="cell">Use para selecionar<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block> iSCSI,<block ref="eac89e2640666fd1076a776e4b748fae" prefix=" " category="inline-code"></block> NVMe/TCP ou<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block> SCSI por Fibre Channel (FC).</block>
  <block id="b1b6ee25d859768bce6271cfb4265c37" category="admonition">Se você estiver usando o Amazon FSX no NetApp ONTAP com Trident, o NetApp recomenda que você especifique nomes DNS para LIFs em vez de endereços IP.</block>
  <block id="d5be4c1bab384a780d2912d10b295308" category="paragraph">Para comutação e switchback contínuos, especifique o SVM usando<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> e omite os<block ref="924ff83ff1e671bacfb07ff12b845703" prefix=" " category="inline-code"></block> parâmetros. Por exemplo:</block>
  <block id="c905ec8a79a58aa12ad3c7ae35e3127d" category="example-title">Exemplo de SCSI em FC (FCP)</block>
  <block id="aecb281656d93e34b85fc03341498ff2" category="paragraph">Você precisa ter um SVM configurado com FC no back-end do ONTAP. Essa é uma configuração básica de back-end para FC.</block>
  <block id="d502f4db20ef2dbccab335781e870976" category="example-title">Exemplo de formatOptions para o driver ONTAP-san-Economy</block>
  <block id="54ed52257df13a4cb85caecc569dfeff" category="paragraph">O Trident define rótulos de provisionamento no campo "Comentários". Os comentários são definidos nas cópias do FlexVol volume Trident todas as etiquetas presentes em um pool virtual para o volume de storage no provisionamento. Por conveniência, os administradores de storage podem definir rótulos por pool virtual e volumes de grupo por rótulo.</block>
  <block id="684e3a49585228dba75783996b7b6fe7" category="admonition">Ao atualizar os segredos CHAP para um backend, você deve usar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para atualizar o backend. Não atualize as credenciais no cluster de storage usando a CLI da ONTAP ou o Gerenciador de sistemas da ONTAP, pois o Trident não poderá pegar essas alterações.</block>
  <block id="1f04e6944e16311a300b742aa0cfb55c" category="paragraph">SCSI iSCSI em FC</block>
  <block id="acb2e9160652c3e412ead9e870d11c9b" category="summary">Adicione o complemento do Trident EKS ao cluster do Kubernetes.</block>
  <block id="a2aa5421f278a17c32520d5a0b59edb2" category="doc">Configure o complemento do Trident EKS em um cluster EKS</block>
  <block id="c4a27aca3b599e184c25bae01c45a9ec" category="paragraph">O NetApp Trident simplifica o gerenciamento de armazenamento do Amazon FSX for NetApp ONTAP no Kubernetes para permitir que seus desenvolvedores e administradores se concentrem na implantação de aplicativos. O complemento do NetApp Trident EKS inclui os patches de segurança mais recentes, correções de bugs e é validado pela AWS para funcionar com o Amazon EKS. O complemento EKS permite que você garanta consistentemente que seus clusters do Amazon EKS estejam seguros e estáveis e reduza a quantidade de trabalho que você precisa fazer para instalar, configurar e atualizar complementos.</block>
  <block id="1ed7790b15234cd5e801f2adf2a3dcd8" category="inline-link-macro">Complementos do Amazon EKS</block>
  <block id="cf83ec5a1f7760b5f6841c88c08cd788" category="list-text">Uma conta de cluster do Amazon EKS com permissões para trabalhar com complementos. <block ref="40db0d27bd24093e06ae540834459d19" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="1264c0dc5af1ae65d165b02064fb48da" category="list-text">Certifique-se de criar a função do IAM e o segredo da AWS para permitir que os pods do EKS acessem recursos da AWS. Para obter instruções, <block ref="0243716974e666f2f8c61577b454990b" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="5125c17a3f7aca891b87dc6ad4b9aa93" category="list-text">No cluster do EKS Kubernetes, navegue até a guia *Complementos*.</block>
  <block id="07a5364a7a995818398d39d8d5f84d64" category="list-text">Localize *NetApp Trident* e marque a caixa de seleção do complemento Trident e clique em *Avançar*.</block>
  <block id="7f3424d52d579a5a23fa5102f22de8bd" category="list-text">Execute o seguinte comando para verificar se o Trident está instalado corretamente no cluster:</block>
  <block id="5b06ec175e810e88c7f4e485931d2ce9" category="list-text">Continue a configuração e configure o back-end de armazenamento. Para obter informações, <block ref="a2c0b79bf795dfa2b95204a4216320db" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="2f3961a883aa613983c8f34a8add7695" category="paragraph-title">Instale o complemento NetApp Trident EKS usando CLI:</block>
  <block id="fa1234b3e3fcccb885405485ab5cbefb" category="paragraph-title">Desinstale o complemento NetApp Trident EKS usando a CLI:</block>
  <block id="aa8e98bf63904518342c90bd49a9ea9c" category="paragraph">O seguinte comando desinstala o complemento do Trident EKS:</block>
  <block id="e462cafda39f4eb6d1800486fc401348" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor. Também restringe o tamanho máximo dos volumes que gerencia para qtrees e LUNs, e a<block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix=" " category="inline-code"></block> opção permite personalizar o número máximo de qtrees por FlexVol volume</block>
  <block id="e992eb9afeef39efec8f68b68ffade1d" category="paragraph">* Exemplo JSON de política*:</block>
  <block id="54fe765490f6a1e88df34666a34bd7de" category="paragraph">* arquivo trust-relation.json:*</block>
  <block id="383e53c41c71ed73661ac56b250f6ba3" category="paragraph">Atualize os seguintes valores no<block ref="d19984a25b3e536a13a6bc3036325ffd" prefix=" " category="inline-code"></block> arquivo:</block>
  <block id="e6fd9d7b1a119dcc259f2b06b2a2168c" category="list-text">*&lt;account_id&gt;* - seu ID de conta da AWS</block>
  <block id="799fd029d6ab8a846f662458a1f8df55" category="list-text">*&lt;oidc_provider&gt;* - o OIDC do seu cluster EKS. Você pode obter o oidc_provider executando:</block>
  <block id="053db598e2fbb7aa26ff7edbf6139941" category="paragraph">*Anexar a função do IAM com a política do IAM*:</block>
  <block id="069097b4881e6034a743e694f616726d" category="paragraph">Depois que a função tiver sido criada, anexe a política (que foi criada na etapa acima) à função usando este comando:</block>
  <block id="02b550dde0cf971ab3461242774691c7" category="paragraph">*Verifique se o provedor OICD está associado*:</block>
  <block id="25c5ea267b4be122e562399076209238" category="paragraph">Verifique se seu provedor de OIDC está associado ao cluster. Você pode verificá-lo usando este comando:</block>
  <block id="7c3f89bd6bb66984ef17d4765bf1f65a" category="open-title">eksctl</block>
  <block id="bc04665b1c712547a7dcc87033ae7152" category="paragraph">Você pode instalar o Trident usando um dos seguintes métodos:</block>
  <block id="a01b2c45a64c7d0c2a2aa3ce418eaa04" category="inline-link-macro">Ativar a funcionalidade de instantâneos para volumes CSI</block>
  <block id="9adc02aa546c3838bddb73a67ebaa4e2" category="paragraph">Se quiser utilizar a funcionalidade de instantâneos, instale o suplemento do controlador de instantâneos CSI. <block ref="d2fce68a585fb4c517040885fb7393e9" category="inline-link-macro-rx"></block>Consulte para obter mais informações.</block>
  <block id="df5baf46554bffd06bf1e8e9ae5e6b52" category="paragraph">O seguinte comando de exemplo instala o complemento do Trident EKS:</block>
  <block id="87d54c3153674640af4f36dd72f8953a" category="list-text">Na página *Configurar Trident by NetApp*, faça o seguinte:</block>
  <block id="7d91a8c58620fc2b878600d5ab834bda" category="list-text">*Remover software complementar inteiramente do cluster* – a NetApp recomenda que você remova o complemento do Amazon EKS do cluster somente se não houver recursos no cluster que dependam dele. Remova<block ref="4b4ac0f998920a46fd2015e11d01d3e7" prefix=" " category="inline-code"></block> a opção do<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block> comando para remover o complemento.</block>
  <block id="996d0bc5ff30cfbcef97caeaf2c6b353" category="paragraph">Para criar um back-end de armazenamento, você precisa criar um arquivo de configuração no formato JSON ou YAML. O arquivo precisa especificar o tipo de storage desejado (nas ou SAN), o sistema de arquivos e SVM para obtê-lo e como se autenticar com ele. O exemplo a seguir mostra como definir o storage baseado em nas e usar um segredo da AWS para armazenar as credenciais no SVM que você deseja usar:</block>
  <block id="301909df91f724e7a48b15a1b5d05fa2" category="paragraph">Execute os seguintes comandos para criar e validar a configuração de backend do Trident (TBC):</block>
  <block id="d072ff8aa34f8a629a86f50ed8e738e5" category="list-text">Crie a configuração de back-end do Trident (TBC) a partir do arquivo yaml e execute o seguinte comando:</block>
  <block id="f695eae3342584490d4ff28ac968bd5b" category="list-text">Validar a configuração de back-end do Trident (TBC) foi criada com sucesso:</block>
  <block id="1189a90ab4944cc8e995186943355be8" category="paragraph">Uma vez que o arquivo de configuração tenha sido criado, execute este comando para criá-lo no EKS:</block>
  <block id="91997590df030f7b1753ee07ed8a9857" category="paragraph">Para verificar o status, execute este comando:</block>
  <block id="2001e2e03a90bd5c85ca8982c01a0500" category="cell">O máximo de LUNs por FlexVol volume tem de estar no intervalo [50, 200]. Apenas SAN.</block>
  <block id="14ed525d625786e77d722ce4d08ee599" category="cell">Qtrees máximos por FlexVol volume, têm de estar no intervalo [50, 300]</block>
  <block id="9a30deaecbfde403e36a8a700d09e3e1" category="cell">Parâmetro booleano para usar APIs REST do ONTAP. Quando definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o Trident usará APIs REST do ONTAP para se comunicar com o back-end. Esse recurso requer o ONTAP 9.11,1 e posterior. Além disso, a função de login do ONTAP usada deve ter acesso ao<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> aplicativo. Isso é satisfeito com as funções e<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> predefinidas<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>.</block>
  <block id="43d8d272a15eda3f1fbfcedc2408b697" category="paragraph">Para provisionar volumes NFSv3 no AWS Bottlerocket, adicione o necessário<block ref="e1d3d66c5926aa7fbc3186da8f9b476b" prefix=" " category="inline-code"></block> à classe de armazenamento:</block>
  <block id="2b00559f1e8a052e6ec27fd2da2fc0ef" category="paragraph-title">PVC com acesso RWX</block>
  <block id="808a149c66a46569dfd8eda4200e5b28" category="paragraph">Este exemplo mostra um PVC básico para NVMe/TCP com acesso RWX associado a um StorageClass<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> chamado .</block>
  <block id="627d563f4445675e960fd39150a292ba" category="paragraph">Um sistema de arquivos é o principal recurso do Amazon FSX, análogo a um cluster do ONTAP no local. Em cada SVM, você pode criar um ou vários volumes, que são contentores de dados que armazenam os arquivos e pastas em seu sistema de arquivos. Com o Amazon FSX for NetApp ONTAP será fornecido como um sistema de arquivos gerenciado na nuvem. O novo tipo de sistema de arquivos é chamado de *NetApp ONTAP*.</block>
  <block id="e5fd3b07dfde2732fc5e3a9d4e7c5370" category="section-title">Imagens de máquinas da Amazon testadas (AMIS)</block>
  <block id="af2fcef81914e3ce8b2cbe1ab832c879" category="cell">AMI</block>
  <block id="c07ee5debf5f3a3fef16c1ee5e8e4942" category="cell">NAS</block>
  <block id="12b1f0215cde9ea0ca4aac0c3ade3a96" category="cell">Economia nas</block>
  <block id="b2f628a87c3b04816210b608f76d5fa0" category="cell">AL2023_x86_64_STANDARD</block>
  <block id="c1dfeb2129506a6914b9c6c3c0cdb647" category="cell">AL2_x86_64</block>
  <block id="9cfc5bb3d7caf552b74c3e5295bb5f11" category="cell">Sim**</block>
  <block id="e732f4cda23726735e2b2cf9bc3ba76f" category="cell">BOTTLEROCKET_x86_64</block>
  <block id="01a9a3b8d0fcae3055dc91935e8ec6c6" category="cell">Sim*</block>
  <block id="382b0f5185773fa0f67a8ed8056c7759" category="cell">N/A.</block>
  <block id="1566bc91a0bfa1dbeba46107fc54f756" category="cell">AL2023_ARM_64_STANDARD</block>
  <block id="e3b9c2e4d8176e1074a9511b580d6396" category="cell">AL2_ARM_64</block>
  <block id="a28322bc0e8a38770a1af7cc1d4a9ad9" category="cell">BOTTLEROCKET_ARM_64</block>
  <block id="07e5351dce8b6c8e3f72745762bac773" category="paragraph">*Testes realizados com*:</block>
  <block id="583a5d19bce672251a82cb390b576d1a" category="list-text">Para nas, tanto o NFSv3 quanto o NFSv4,1 foram testados.</block>
  <block id="8dba245dcac3bf8acf6067e0d62d01cb" category="list-text">Para SAN, apenas o iSCSI foi testado, não o NVMe-of.</block>
  <block id="6eee4bc92cc38369e7271225ec488e82" category="paragraph">*Testes realizados*:</block>
  <block id="0524d900ed906479235e99cfc10e1cb6" category="list-text">Criar: Classe de armazenamento, pvc, pod</block>
  <block id="12dbb8a3d281738c9cc213bc80fa2343" category="list-text">Excluir: Pod, PVC (regular, qtree/lun – economia, nas com backup da AWS)</block>
  <block id="c50cb71bc70d27f0ecf850ff18d11479" category="summary">Usando o Trident, você pode criar novos volumes usando volumes existentes ou volumes de volumesnapshots de um namespace diferente dentro do mesmo cluster K8s.</block>
  <block id="fc61af20b92225aae2a169587940eb14" category="doc">Clonar volumes entre namespaces</block>
  <block id="7d3b4ba16dd9908f0a9572976f62cb92" category="paragraph">Com o Trident, você pode criar novos volumes usando volumes existentes ou volumes de volume a partir de um namespace diferente dentro do mesmo cluster do Kubernetes.</block>
  <block id="12bf911acc3865647e24aa6cc61fad9d" category="paragraph">Antes de clonar volumes, certifique-se de que os backends de origem e destino são do mesmo tipo e têm a mesma classe de armazenamento.</block>
  <block id="9e556d1188a1d7d3f911546d9c8f70f1" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block> Configure o PVC de origem para clonar o volume</block>
  <block id="4f371bbe8ba542b2ca00eb9f3a3a2716" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block> Crie o clone PVC no namespace de destino</block>
  <block id="a77fe76c8980416f14767484ab56a324" category="paragraph">O proprietário do namespace de destino cria PVC para clonar o PVC a partir do namespace de origem.</block>
  <block id="b739008e44cdaf094f62931a68086bb5" category="paragraph">Para garantir a segurança, a clonagem de volumes entre namespaces requer colaboração e ação do proprietário do namespace de origem, do administrador do cluster e do proprietário do namespace de destino. A função de usuário é designada em cada etapa.</block>
  <block id="6558f904ce916da3190d62209965d0ee" category="list-text">*Proprietário do namespace de origem:* Crie o PVC <block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block>) no namespace de origem <block ref="612897f0683dd83be850731b14801182" prefix="(" category="inline-code"></block>) que concede permissão para compartilhar com o namespace de destino <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>) usando a<block ref="176dbae9b2594398063073fa2462e819" prefix=" " category="inline-code"></block> anotação.</block>
  <block id="848c08c0dad8da2f2f28ca678bbfbf1f" category="list-text">Você pode compartilhar o PVC para vários namespaces usando uma lista delimitada por vírgulas. Por exemplo,<block ref="01066aa74fe32f5dae708937da0fdc6f" prefix=" " category="inline-code"></block>.</block>
  <block id="e49c2aab2a070ab6ebb8b78acc7d3685" category="list-text">Você pode compartilhar com todos os namespaces usando<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>. Por exemplo,<block ref="b50a7cdb2a6c7bc49cf0ac66428e8a33" prefix=" " category="inline-code"></block></block>
  <block id="6844c666d46d26f14f45880c3b8cd2ec" category="list-text">Você pode atualizar o PVC para incluir a<block ref="176dbae9b2594398063073fa2462e819" prefix=" " category="inline-code"></block> anotação a qualquer momento.</block>
  <block id="8e7677f5fca35d9d3480fac62441fe33" category="list-text">*Cluster admin:* Crie a função personalizada e kubeconfig para conceder permissão ao proprietário do namespace de destino para criar o TridentVolumeReference CR no namespace de destino<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block> ).</block>
  <block id="b49d0358b75283a3c4f7a2e7229fc097" category="list-text">*Proprietário do namespace de destino:* Crie um PVC <block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block>) no namespace de destino <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>) usando<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block> ou<block ref="bfd2f3d7d043509924eaac702957a99d" prefix=" " category="inline-code"></block> e<block ref="2413b30c8869ee9ac5b416f44004a212" prefix=" " category="inline-code"></block> anotações para designar o PVC de origem.</block>
  <block id="188811e4b8b33253d84403cd9a1fcfa9" category="list-text">Para PVCs provisionados com drivers de economia ONTAP-nas, os clones somente leitura não são compatíveis.</block>
  <block id="18554a6310d1d501f5fdbbbc7a0cd7c6" category="summary">O Trident oferece aos usuários do Kubernetes a capacidade de expandir seus volumes depois que eles são criados. Encontre informações sobre as configurações necessárias para expandir volumes iSCSI, FC e NFS.</block>
  <block id="bda53ac9cab805b0770875d4365918b2" category="paragraph">O Trident oferece aos usuários do Kubernetes a capacidade de expandir seus volumes depois que eles são criados. Encontre informações sobre as configurações necessárias para expandir volumes iSCSI, NFS e FC.</block>
  <block id="1dea918d41199b513b961287c6579f4f" category="section-title">Expandir um volume FC</block>
  <block id="213524ddd0b0daf2a171ee47c3596e00" category="paragraph">É possível expandir um volume persistente (PV) FC com o provisionador de CSI.</block>
  <block id="7ff05a6f045c4cd794027d9a80f2ee93" category="admonition">A expansão de volume de FC é compatível com<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o driver e requer o Kubernetes 1,16 e posterior.</block>
  <block id="7e60a488a5dff73b203319b9ad63006e" category="paragraph">Fixe o PV a um pod para que ele seja redimensionado. Há dois cenários ao redimensionar um FC PV:</block>
  <block id="3edd5ccaa0382772ccb1cc5a409488a8" category="list-text">Por padrão, o Trident gerencia o PVC e renomeia o FlexVol volume e o LUN no back-end. Você pode passar o<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block> sinalizador para importar um volume não gerenciado. Se você usar<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>o , o Trident não realiza nenhuma operação adicional no PVC ou no PV para o ciclo de vida dos objetos. O volume de armazenamento não é excluído quando o PV é excluído e outras operações, como clone de volume e redimensionamento de volume também são ignoradas.</block>
  <block id="82ffd98bd5aacd62bc72d8aca0f53528" category="paragraph">Cada volume criado com o<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> driver é um FlexVol volume no cluster do ONTAP. Importar volumes FlexVol com o<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> driver funciona da mesma forma. Um volume FlexVol que já existe em um cluster ONTAP pode ser importado como<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> PVC. Da mesma forma, os vols FlexGroup podem ser importados como<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> PVCs.</block>
  <block id="b5556653d8db6b84df68b320ccd5d1a8" category="paragraph">O Trident pode importar volumes ONTAP SAN FlexVol que contenham um único LUN. Isso é consistente com o<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver, que cria um FlexVol volume para cada PVC e um LUN dentro do FlexVol volume. A Trident importa o FlexVol volume e associa-o à definição de PVC.</block>
  <block id="76f6a2d1bd679fa4c1b485fed91cd412" category="paragraph">Para volumes gerenciados, o Trident renomeia o FlexVol volume para<block ref="b1a57c8f543d163276a264ab84f98485" prefix=" " category="inline-code"></block> o formato e o LUN no FlexVol volume para<block ref="1793051c27c3288cfb3a1c86e4e41b41" prefix=" " category="inline-code"></block>.</block>
  <block id="4e0dca66d693b4377c93d787e9d5176a" category="paragraph">O exemplo a seguir importa<block ref="9c263b72b293041bdc16e8711bb55a99" prefix=" " category="inline-code"></block> o FlexVol volume que está presente no<block ref="5461c7e570fd7b4318a37f0dceb291c1" prefix=" " category="inline-code"></block> back-end:</block>
  <block id="aa39e6a781613c350b8408df39aa0171" category="paragraph">O Trident suporta a importação de volume usando<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block> o driver.</block>
  <block id="89df083c083e8cfa84ef1517f2b9e609" category="paragraph-title">Exemplo do Google Cloud NetApp volumes</block>
  <block id="3312627a317726be3901705d655e8582" category="paragraph">O exemplo a seguir importa um<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block> volume no back-end<block ref="c082d32d434314708cccf35dd974ac32" prefix=" " category="inline-code"></block> com o<block ref="acdf8df0c694db089171ecaf51f80166" prefix=" " category="inline-code"></block> volume .</block>
  <block id="94154cfb6a6056267c34a431cd1a4224" category="paragraph">O exemplo a seguir importa um<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block> volume quando dois volumes estão presentes na mesma região:</block>
  <block id="93c5b0ed9261693ca8644540ac8a1cd9" category="admonition">A NetApp recomenda o ONTAP 9,12 ou posterior para NVMe/TCP.</block>
  <block id="d019fe86b16ae6b783603693309fb4c6" category="section-title">SCSI em volumes FC</block>
  <block id="09b3e69fece0c8fed98cbfa4f60560d0" category="paragraph">Certifique-se de que a expiração do token de sessão da AWS seja suficiente para quaisquer operações de backup S3 de longa execução. Se o token expirar durante a operação de backup, a operação pode falhar.</block>
  <block id="5eb831e0d78e65bcd3dba1b12bc07037" category="inline-link">Documentação da API da AWS</block>
  <block id="acc296a904bd0d4d976a52cfe9fe9b8c" category="list-text">Consulte a<block ref="718365c4473e4015a2556ceb49bc6d0e" category="inline-link-rx"></block> para obter mais informações sobre como verificar a expiração do token de sessão atual.</block>
  <block id="47700faecc8b055ea48413402a7add11" category="inline-link">Documentação do AWS IAM</block>
  <block id="40a9530583ad3747ca30675858b0a6cd" category="list-text">Consulte o<block ref="101809cc7793764f39e2d5fc223ea04c" category="inline-link-rx"></block> para obter mais informações sobre credenciais com recursos da AWS.</block>
  <block id="00d3f03654bed141c3478449f1760762" category="paragraph">Certifique-se de que a expiração do token de sessão da AWS seja suficiente para quaisquer operações de restauração S3 de longa duração. Se o token expirar durante a operação de restauração, a operação pode falhar.</block>
  <block id="0c2517d08c2a451f035c427a4dc895e1" category="summary">Aqui estão os problemas conhecidos com esta versão.</block>
  <block id="34515f1d88b10d0db0a78eba6c533394" category="paragraph">Problemas conhecidos identificam problemas que podem impedi-lo de usar esta versão do produto com sucesso.</block>
  <block id="825cc355a6b503245e0d84d26f0e16d1" category="paragraph">Os seguintes problemas conhecidos afetam a versão atual:</block>
  <block id="dd298b4e9bfcd54db2048c92819679ad" category="section-title">Restaurar backups Restic de arquivos grandes pode falhar</block>
  <block id="beca1b1ae9141eb4cf9a371088911e0f" category="paragraph">Ao restaurar arquivos 30GB ou maiores de um backup do Amazon S3 feito usando o Restic, a operação de restauração pode falhar. Como solução alternativa, faça backup dos dados usando o Kopia como o controlador de dados (o Kopia é o controlador de dados padrão para backups). <block ref="1e108e5c10b0ba51ea4cfaf507765efb" category="inline-link-rx"></block>Consulte para obter instruções.</block>
  <block id="7fc5875d06887df5109a87a0ada90eca" category="section-title">Configurar a autenticação e as senhas do AppVault</block>
  <block id="8e2c4d33f50c044b257a84cd65ff1c79" category="section-title">Senhas do repositório do controlador de dados</block>
  <block id="e64d157c7a9e337d525d51f62d9d0809" category="section-title">Crie um segredo de senha do repositório do mover de dados</block>
  <block id="fc114cb2ee6c7bff559d58e2a7454cab" category="paragraph">Use os exemplos a seguir para criar o segredo da senha. Quando você cria objetos AppVault, você pode instruir o Trident Protect para usar esse segredo para autenticar com o repositório do controlador de dados.</block>
  <block id="571768fad7edd9c4f57173c592c1f86c" category="section-title">Exemplos de geração de chaves AppVault para provedores de nuvem</block>
  <block id="4d813fb6887e4d4533c00424efc22903" category="paragraph">Ao definir um AppVault CR, você precisa incluir credenciais para acessar os recursos hospedados pelo provedor. A forma como você gera as chaves para as credenciais será diferente dependendo do provedor. A seguir estão exemplos de geração de chaves de linha de comando para vários provedores. Você pode usar os exemplos a seguir para criar chaves para as credenciais de cada provedor de nuvem.</block>
  <block id="3e2db83ddd4087c64413cfd7c14100b6" category="section-title">Exemplos de criação do AppVault</block>
  <block id="80b938565b2e1ff14bd06e780149b085" category="paragraph">A seguir estão exemplos de definições do AppVault para cada provedor.</block>
  <block id="dd180e899bea0f9a0eb538e256c19673" category="list-text">Opcionalmente, você pode especificar um segredo do Kubernetes que contém senhas personalizadas para a criptografia do repositório Restic e Kopia. <block ref="7bf3b37360a9f432b37d8ac6c9f10cd4" category="inline-xref-macro-rx"></block>Consulte para obter mais informações.</block>
  <block id="2b7c7776f596f179d63bae82e841e9fe" category="list-text">Para objetos S3 AppVault, você pode opcionalmente especificar um URL de proxy de saída para tráfego S3 de saída usando a<block ref="ea739eb21b9424ad95fb5cd1b3ee7d1c" prefix=" " category="inline-code"></block> chave.</block>
  <block id="99313bdb05c30c161eb80ae8dc89265f" category="list-text">Para objetos S3 AppVault, você pode opcionalmente especificar um URL de proxy de saída para tráfego S3 de saída usando o<block ref="c0b36cdbc2185c1fe6ee0b0c177312da" prefix=" " category="inline-code"></block> argumento.</block>
  <block id="aafdbe511f8dcfce152fe32eec4b84a8" category="section-title">Ver informações do AppVault</block>
  <block id="fe7f61a858dc37b884e97617cd26e1da" category="paragraph">Você pode usar o plugin Trident Protect CLI para exibir informações sobre objetos AppVault que você criou no cluster.</block>
  <block id="ef3bab72151c3b40feca67b002c6d518" category="summary">Personalize as configurações padrão do Trident Protect para atender às suas necessidades específicas.</block>
  <block id="c465b5ba6226b5fce1902a4b68097d26" category="doc">Personalize a instalação do Trident Protect</block>
  <block id="f59f3d4c8cdf79dc43502eea9ff82e75" category="paragraph">Você pode personalizar a configuração padrão do Trident Protect para atender aos requisitos específicos do seu ambiente.</block>
  <block id="df0ecee897380da18617ddb170abdeb0" category="paragraph">O seguinte exemplo de arquivo de configuração mostra as configurações disponíveis e contém os valores padrão para cada limite de recursos:</block>
  <block id="73d4542a63a157d0b7e3093eabec8fc9" category="section-title">Personalizar restrições de contexto de segurança</block>
  <block id="d3b1c8ea61eed8a2b7579d4013d792b3" category="paragraph">Você pode usar um arquivo de configuração para modificar o OpenShift security Context constraint (SCCs) para Trident Protect Containers depois de instalar o Trident Protect. Essas restrições definem restrições de segurança para pods em um cluster Red Hat OpenShift.</block>
  <block id="2708058a93672fbaa8bcf3e785e87b21" category="list-text">Crie um arquivo chamado<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block>.</block>
  <block id="468f17ddccd3b34c0d539404233a5e45" category="list-text">Adicione a opção SCC ao arquivo e modifique os parâmetros de acordo com as necessidades do seu ambiente.</block>
  <block id="616d9e371ad293e03cb7d5ad25d66c80" category="paragraph">O exemplo a seguir mostra os valores padrão dos parâmetros para a opção SCC:</block>
  <block id="0c98fb0c406324f0a1aa95f76be6abee" category="paragraph">Esta tabela descreve os parâmetros para a opção SCC:</block>
  <block id="4241afd729bbb74051e3cba55f164b0d" category="cell">Determina se um recurso SCC pode ser criado. Um recurso SCC será criado somente se<block ref="aac82cc6424e9b52c84a0dbdc2518a15" prefix=" " category="inline-code"></block> estiver definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> e o processo de instalação Helm identificar um ambiente OpenShift. Se não estiver operando no OpenShift, ou se<block ref="aac82cc6424e9b52c84a0dbdc2518a15" prefix=" " category="inline-code"></block> estiver definido como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>, nenhum recurso SCC será criado.</block>
  <block id="fd9cec0b7219b39de0235d899bf5b2c0" category="cell">Especifica o nome do SCC.</block>
  <block id="141351edcf12ef25b127186a711471ce" category="cell">Trident-protect-job</block>
  <block id="b988295c268025b49dfb3df26171ddc3" category="cell">prioridade</block>
  <block id="18dbc63582d575814786eb13d8baf787" category="cell">Define a prioridade do SCC. Os SCCs com valores de prioridade mais elevados são avaliados antes daqueles com valores mais baixos.</block>
  <block id="c4ca4238a0b923820dcc509a6f75849b" category="cell">1</block>
  <block id="ee747b6b4f133aa926c072d073f4a8d5" category="list-text">Aplique os valores do<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block> arquivo:</block>
  <block id="54b43aeb73b3f5136e6febff4f374663" category="paragraph">Isso substituirá os valores padrão pelos especificados no<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block> arquivo.</block>
  <block id="f7d44f30f5245f3d8b32ca7ac3386d95" category="section-title">Configurar conexões NetApp AutoSupport para Trident Protect</block>
  <block id="f7b9fd6fa7c3a2cb8d2aa416b333de52" category="paragraph">Você pode alterar a maneira como o Trident Protect se coneta ao suporte da NetApp para fazer upload de pacotes de suporte configurando um proxy para a conexão. Você pode configurar o proxy para usar uma conexão segura ou insegura com base em suas necessidades.</block>
  <block id="d9e0a3823b1441be4f5c45d4363b5f72" category="open-title">Configure uma conexão proxy segura</block>
  <block id="1f9d5a4d36fe5f9bef4b60a24e652273" category="list-text">Configurar uma conexão proxy segura para carregamentos de pacotes de suporte do Trident Protect:</block>
  <block id="5bd30bac7c368f4bd00e4b23ea9fa84c" category="open-title">Configure uma conexão proxy insegura</block>
  <block id="67d7248c78969a2f4f4e7a7204960d0a" category="list-text">Configure uma conexão proxy insegura para carregamentos de pacotes de suporte do Trident Protect que ignoram a verificação TLS:</block>
  <block id="19ac5903f95d5ebe1db017be54990f37" category="section-title">Restringir os pods do Trident Protect a nós específicos</block>
  <block id="2c9025d65a10f87c581d792f629f0b40" category="paragraph">Você pode usar a restrição de seleção de nó do Kubernetes nodeSeletor para controlar quais dos seus nós estão qualificados para executar pods do Trident Protect, com base em rótulos de nó. Por padrão, o Trident Protect está restrito a nós que estão executando o Linux. Você pode personalizar ainda mais essas restrições dependendo de suas necessidades.</block>
  <block id="e131fc2359f1f35a2fdb476c3f19bfdd" category="list-text">Crie um arquivo chamado<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block>.</block>
  <block id="785a1066f4a7291f0bd0c65d4529e79f" category="list-text">Adicione a opção nodeSeletor ao arquivo e modifique o arquivo para adicionar ou alterar rótulos de nó para restringir de acordo com as necessidades do seu ambiente. Por exemplo, o arquivo a seguir contém a restrição padrão do sistema operacional, mas também tem como alvo uma região específica e nome do aplicativo:</block>
  <block id="0b3a205b675b10deddbe1e4c76c36e22" category="list-text">Aplique os valores do<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block> arquivo:</block>
  <block id="86ff3a8cca72a77f236198059cede1b6" category="paragraph">Isso substitui as restrições padrão com as que você especificou no<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block> arquivo.</block>
  <block id="213e43c92b705298b37a27707e3ecdea" category="section-title">Desativar carregamentos diários de pacotes Trident Protect AutoSupport</block>
  <block id="e6e2ac25d149c9ca2eda9da019c8857c" category="paragraph">Opcionalmente, você pode desativar os carregamentos diários programados do pacote de suporte do Trident Protect AutoSupport.</block>
  <block id="3701dd93d7fa9d380885a4c7fb15bebc" category="admonition">Por padrão, o Trident Protect coleta informações de suporte que ajudam em todos os casos de suporte da NetApp que você possa abrir, incluindo logs, métricas e informações de topologia sobre clusters e aplicativos gerenciados. O Trident Protect envia esses pacotes de suporte ao NetApp diariamente. Você pode manualmente <block ref="dedfc5877c343d6cbe77701c7edd9bde" category="inline-link-macro-rx"></block> a qualquer momento.</block>
  <block id="1b8215632ac6cd0bc10bb44ac5786a82" category="list-text">Crie um arquivo chamado<block ref="7cc35e350ac50663f9c914e677dc5c5a" prefix=" " category="inline-code"></block>.</block>
  <block id="92e8c3505d5d84a0a2e1eb8698158967" category="list-text">Adicione a opção AutoSupport ao arquivo e modifique os parâmetros de acordo com as necessidades do seu ambiente.</block>
  <block id="c924e3d11dc98c4bfb0bb0a7e4bba949" category="paragraph">O exemplo a seguir mostra os valores padrão dos parâmetros para a opção AutoSupport:</block>
  <block id="668d522672fb38a8d3d4961de5f59a62" category="paragraph"><block ref="4dd202185370b5db00de876ba19c1bd1" prefix=" " category="inline-code"></block>Quando está definido como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>, os carregamentos diários de pacotes de suporte do AutoSupport são desativados.</block>
  <block id="3a73620d7003f9f9087ba74069b621e9" category="list-text">Aplique os valores do<block ref="7cc35e350ac50663f9c914e677dc5c5a" prefix=" " category="inline-code"></block> arquivo:</block>
  <block id="b8c29704f9b86600d95c1c0c4d902455" category="list-text">Use o Helm para instalar o Trident Protect. Substitua<block ref="b90b2ffedb63ca3bd8795caf4397715e" prefix=" " category="inline-code"></block> por um nome de cluster, que será atribuído ao cluster e usado para identificar os backups e snapshots do cluster:</block>
  <block id="029d1c6e95e08907e4a8d285674ab46b" category="inline-link-macro">Definição Global Trident Protect Freeze (congelamento global)</block>
  <block id="f0c05ba588826dcd6ebd5a2b3796d458" category="list-text">*metadata.annotations.protect.trident.netapp.io/skip-vm-freeze*: (_Optional_) esta anotação só é aplicável a aplicações definidas a partir de máquinas virtuais, como em ambientes KubeVirt, onde os congelamentos do sistema de arquivos ocorrem antes dos instantâneos. Especifique se este aplicativo pode gravar no sistema de arquivos durante um snapshot. Se definido como verdadeiro, o aplicativo ignora a configuração global e pode gravar no sistema de arquivos durante um instantâneo. Se definido como false, o aplicativo ignora a configuração global e o sistema de arquivos é congelado durante um snapshot. Se especificado mas o aplicativo não tiver máquinas virtuais na definição do aplicativo, a anotação é ignorada. Se não for especificado, o aplicativo segue o <block ref="61895e61fe23c9afb5a69eafa8d9b7ba" category="inline-link-macro-rx"></block>.</block>
  <block id="1fdb8b98325df025bfd256fc475c0986" category="paragraph">Se você precisar aplicar essa anotação depois que um aplicativo já tiver sido criado, você pode usar o seguinte comando:</block>
  <block id="221764e612f482dbef981bc478028287" category="list-text">Crie e aplique a definição do aplicativo usando um dos exemplos a seguir, substituindo valores entre parênteses por informações do ambiente. Você pode incluir namespaces e recursos na definição do aplicativo usando listas separadas por vírgulas com os argumentos mostrados nos exemplos.</block>
  <block id="50b08150a783c8c645d4ae11790366e3" category="paragraph">Opcionalmente, você pode usar uma anotação ao criar um aplicativo para especificar se o aplicativo pode gravar no sistema de arquivos durante um snapshot. Isso só se aplica a aplicativos definidos a partir de máquinas virtuais, como em ambientes KubeVirt, onde os congelamentos do sistema de arquivos ocorrem antes dos snapshots. Se você definir a anotação como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o aplicativo ignora a configuração global e pode gravar no sistema de arquivos durante um instantâneo. Se você defini-lo como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>, o aplicativo ignora a configuração global e o sistema de arquivos é congelado durante um snapshot. Se utilizar a anotação mas a aplicação não tiver máquinas virtuais na definição da aplicação, a anotação é ignorada. Se não utilizar a anotação, a aplicação segue a <block ref="61895e61fe23c9afb5a69eafa8d9b7ba" category="inline-link-macro-rx"></block>.</block>
  <block id="26f08cf1da862c1ae831c562f3621d09" category="paragraph">Para especificar a anotação quando você usa a CLI para criar um aplicativo, você pode usar o<block ref="3164592cacced1f14eeb788e764306a8" prefix=" " category="inline-code"></block> sinalizador.</block>
  <block id="1ab026b6049460749549c7e94872c903" category="list-text">Crie o aplicativo e use a configuração global para o comportamento de congelamento do sistema de arquivos:</block>
  <block id="5c69fd9a5297da7a82e38395fe1ca096" category="list-text">Crie o aplicativo e configure a configuração do aplicativo local para o comportamento de congelamento do sistema de arquivos:</block>
  <block id="c2c21ce64dd4770c44c8642d322a5424" category="admonition">Os recursos com escopo de cluster são incluídos em um backup, snapshot ou clone se forem explicitamente referenciados na definição do aplicativo ou se tiverem referências a qualquer um dos namespaces do aplicativo.</block>
  <block id="2358fb4006fff416413cb9bfc04e4b73" category="list-text">Certifique-se de que a expiração do token de sessão da AWS seja suficiente para quaisquer operações de restauração de longa duração. Se o token expirar durante a operação de restauração, a operação pode falhar.</block>
  <block id="df710f89ebb9e663bd3d66607a0bf413" category="inline-link">Documentação do AWS</block>
  <block id="f3aa7db516c38030a276a5895520407a" category="list-text">Consulte o<block ref="968595e57d50a64e3fbe0f06bc16cb91" category="inline-link-rx"></block> para obter mais informações sobre credenciais com recursos da AWS.</block>
  <block id="3094ed24e92fa43f93a063b74aba1810" category="admonition">Se um gancho de execução pré-snapshot adicionar, alterar ou remover recursos do Kubernetes, essas alterações serão incluídas no snapshot ou backup e em qualquer operação de restauração subsequente.</block>
  <block id="d323f0b96d7cc15909a8faf8b343f7a0" category="section-title">Execute manualmente um gancho de execução</block>
  <block id="b634452964a2a438acc2e266661043f1" category="paragraph">Você pode executar manualmente um gancho de execução para fins de teste ou se precisar executar novamente o gancho manualmente após uma falha. Você precisa ter permissões de proprietário, administrador ou membro para executar manualmente os ganchos de execução.</block>
  <block id="b363e23f5ecd8c7994b0a821469e303c" category="paragraph">Executar manualmente um gancho de execução consiste em duas etapas básicas:</block>
  <block id="799527cc898bf9953cb450f2b50e3184" category="list-text">Crie um backup de recursos, que coleta recursos e cria um backup deles, determinando onde o gancho será executado</block>
  <block id="d65fd71b39d33804450847f69ddd69c0" category="list-text">Execute o gancho de execução contra o backup</block>
  <block id="d07d4b96979a15c6dea6fb4556200241" category="example-title">Passo 1: Crie um backup de recursos</block>
  <block id="32f56b6a11303c523e67b3ef5e70618e" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o<block ref="1f13ad2055ef28f62611a4ced3a8da82" prefix=" " category="inline-code"></block>.</block>
  <block id="10f8657004606b105a7612de4504c293" category="list-text">*Spec.applicationRef*: (_required_) o nome do Kubernetes do aplicativo para o qual criar o backup de recursos.</block>
  <block id="854d053ea53b0a9b6012fe3af98a11f9" category="list-text">Ver o estado da cópia de segurança. Você pode usar este comando de exemplo repetidamente até que a operação esteja concluída:</block>
  <block id="5c04e29edc18bc5ad81fc61dec5eee00" category="list-text">Verifique se o backup foi bem-sucedido:</block>
  <block id="163cbd835d00fc0fb13923332a76e532" category="example-title">Passo 2: Execute o gancho de execução</block>
  <block id="89666a2351b355f4191600de4436dfe7" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o<block ref="433572a415d5824f82d7e7c9a0829077" prefix=" " category="inline-code"></block>.</block>
  <block id="3e0977039522c796fb780d1c0155fdb7" category="list-text">*Spec.applicationRef*: (_required_) Certifique-se de que este valor corresponde ao nome da aplicação do ResourceBackup CR criado na etapa 1.</block>
  <block id="c4f09daab57e7cc61e19e7da88f84edc" category="list-text">*Spec.appVaultRef*: (_required_) Certifique-se de que este valor corresponde ao appVaultRef do ResourceBackup CR criado na etapa 1.</block>
  <block id="021c431bf5a7e31ec81f982db93aa9f3" category="list-text">*Spec.appArchivePath*: Certifique-se de que este valor corresponda ao appArchivePath do ResourceBackup CR criado na etapa 1.</block>
  <block id="e2399671182dcd28bddf5d44b11f7af2" category="list-text">*Spec.stage*: (_required_) Uma cadeia de carateres indicando qual estágio durante a ação o gancho de execução deve ser executado. Esta corrida de gancho não vai correr ganchos em qualquer outro estágio. Valores possíveis:</block>
  <block id="aa9f056f37cdee5e5bcd47f7bc3ac1ba" category="list-text">Crie a solicitação de execução manual do hook run:</block>
  <block id="42e563c466d27e9d4943ef1acd3703b7" category="list-text">Verifique o status da execução do hook run. Você pode executar este comando repetidamente até que a operação esteja concluída:</block>
  <block id="8430f2c56dfc9e79fcaf741392d54499" category="list-text">Descreva o objeto exechooksrun para ver os detalhes e status finais:</block>
  <block id="b343abb76f62f4eef4afa255e885eee4" category="paragraph">A partir do Trident 25,02, o resumo Novidades fornece detalhes sobre melhorias, correções e descontinuações para versões do Trident e do Trident Protect.</block>
  <block id="4fc9faf161c64ed80d0fb8ca9aa0882e" category="admonition">Dependendo do motor de dados que você está usando, você só precisa incluir a senha correspondente para esse controlador de dados. Por exemplo, se você estiver usando Restic e não planeja usar o Kopia no futuro, você pode incluir apenas a senha Restic quando criar o segredo.</block>
  <block id="6a346946ba0777d650b6e41a4c30c7b6" category="paragraph">Certifique-se de que você excluiu todos os CRS de snapshot e backup que estão sendo usados pelo AppVault que deseja excluir.</block>
  <block id="b00fc94596cde685c68e0bedddb72ec6" category="summary">Você pode monitorar o estado dos recursos do Trident Protect usando métricas de estado do kube e Prometheus. Isso fornece informações de integridade sobre implantações, nós e pods.</block>
  <block id="9f496d568415fb10daa1a69c18a27d52" category="doc">Monitorar os recursos do Trident Protect</block>
  <block id="c3815bcedc348a572c0e7310d70e426d" category="paragraph">Você pode usar as ferramentas de código-fonte aberto kube-State-metrics, Prometheus e Alertmanager para monitorar a integridade dos recursos protegidos pelo Trident Protect.</block>
  <block id="57d16d79ebb62eb467b490200f5f3191" category="paragraph">O serviço de métricas de estado do kube gera métricas a partir da comunicação da API do Kubernetes. O uso do Trident Protect expõe informações úteis sobre o estado dos recursos no seu ambiente.</block>
  <block id="0e68741139605975f01bc532098ea92c" category="paragraph">Prometheus é um kit de ferramentas que pode ingerir os dados gerados pelo kube-State-metrics e apresentá-los como informações facilmente legíveis sobre esses objetos. Juntos, as métricas de estado do kube e Prometheus fornecem uma maneira de monitorar a integridade e o status dos recursos que você está gerenciando com o Trident Protect.</block>
  <block id="6d0450323deb4880d88d2da4155d7c76" category="paragraph">Alertmanager é um serviço que ingere os alertas enviados por ferramentas como Prometheus e os encaminha para destinos que você configura.</block>
  <block id="45501c075fe75338b712d61db6d82f54" category="paragraph">As configurações e orientações incluídas nessas etapas são apenas exemplos; você precisa personalizá-las para corresponder ao seu ambiente. Consulte a seguinte documentação oficial para obter instruções e suporte específicos:</block>
  <block id="d9bdb1d7869cec3eaa75aaa48b414845" category="inline-link">documentação de métricas de estado do kube</block>
  <block id="28b29a811fcff582b069060bb6104048" category="list-text"><block ref="28b29a811fcff582b069060bb6104048" category="inline-link-rx"></block></block>
  <block id="695c33d174e4ad444d82403015632550" category="inline-link">Documentação do Prometheus</block>
  <block id="94fa5821707b81f95ad49b7f10d2d4d6" category="list-text"><block ref="94fa5821707b81f95ad49b7f10d2d4d6" category="inline-link-rx"></block></block>
  <block id="853d2b8407eda505e00a8014afdb0ddf" category="inline-link">Documentação do Alertmanager</block>
  <block id="e23d8cb1d9d009a1aa298e95526efcd3" category="list-text"><block ref="e23d8cb1d9d009a1aa298e95526efcd3" category="inline-link-rx"></block></block>
  <block id="b246a1443f359b6da345c33e0b25f47a" category="section-title">Passo 1: Instale as ferramentas de monitoramento</block>
  <block id="08d75478cbb19385a09620acc4f7a148" category="paragraph">Para ativar o monitoramento de recursos no Trident Protect, você precisa instalar e configurar o kube-State-metrics, o Promethus e o Alertmanager.</block>
  <block id="2a2c51a8db12ee75c90da4a3fb0e1a0b" category="section-title">Instalar métricas de estado do kube</block>
  <block id="016aa0f0550f5a0506cb61b61568e043" category="paragraph">Você pode instalar métricas de estado do kube usando o Helm.</block>
  <block id="ea6a84ebff4515f07a0f260b7cce7b83" category="list-text">Adicione o gráfico Helm de métricas de estado kube. Por exemplo:</block>
  <block id="d6cff887be77b3dc5c6f689b93bb9b32" category="list-text">Crie um arquivo de configuração para o gráfico Helm (por exemplo,<block ref="1da0bbdfeb5bb05830055a1515d9e2a9" prefix=" " category="inline-code"></block> ). Você pode personalizar o seguinte exemplo de configuração para corresponder ao seu ambiente:</block>
  <block id="cf5cf09f9422112814f7fa967e303283" category="listing-title">Metrics-config.yaml: Configuração do gráfico Helm do kube-State-metrics</block>
  <block id="eca99dda7e2a747b75c232f5c3e314a0" category="list-text">Instale as métricas de estado do kube implantando o gráfico Helm. Por exemplo:</block>
  <block id="1b61aa1e4c2991758aa9c5bea0047156" category="inline-link">documentação de recursos personalizados de métricas de estado do kube</block>
  <block id="6c21207c2c29ab5841100bb2ca67480f" category="list-text">Configure as métricas de estado do kube para gerar métricas para os recursos personalizados usados pelo Trident Protect seguindo as instruções do<block ref="0c2d96c77ebc80eb4f9df846c2904f4c" category="inline-link-rx"></block> .</block>
  <block id="88b8613d339947a37e41b1f514dcc42c" category="section-title">Instale Prometheus</block>
  <block id="6cfabcb4c640f9570382e21ec242a3c0" category="paragraph">Você pode instalar o Prometheus seguindo as instruções no<block ref="9c3dd7b31d363d10addc1dc55a338e01" category="inline-link-rx"></block>.</block>
  <block id="7d512717b3f318d83bbce6f09e891a6f" category="section-title">Instale o Alertmanager</block>
  <block id="ee3b7d497a79c10fe3b10cda25267876" category="paragraph">Você pode instalar o Alertmanager seguindo as instruções no<block ref="34c399dcb7431f049905523dd168baa8" category="inline-link-rx"></block>.</block>
  <block id="9147f13af253be263e759a06097eea20" category="section-title">Passo 2: Configure as ferramentas de monitoramento para trabalhar em conjunto</block>
  <block id="73be38664a808318efe65c02c4ce747c" category="paragraph">Depois de instalar as ferramentas de monitoramento, você precisa configurá-las para trabalhar em conjunto.</block>
  <block id="68f04b43068f22f98aaa6513240dd2b5" category="paragraph">Prometheus agora pode coletar métricas de kube-State-metrics e enviar alertas para Alertmanager. Agora você está pronto para configurar quais condições acionam um alerta e onde os alertas devem ser enviados.</block>
  <block id="a42cb9abdbaf69f90fba5592304008cd" category="section-title">Etapa 3: Configurar alertas e destinos de alerta</block>
  <block id="1138a7ff5cea0f83ce07834c8e02315c" category="paragraph">Depois de configurar as ferramentas para trabalhar em conjunto, você precisa configurar que tipo de informação aciona alertas e para onde os alertas devem ser enviados.</block>
  <block id="917045fa08d9c44ee88951e8cdb4023b" category="section-title">Exemplo de alerta: Falha de backup</block>
  <block id="e8665bc518bf7a6d63332be811e8f6cb" category="section-title">Configure o Alertmanager para enviar alertas para outros canais</block>
  <block id="c9272f0d68fac2055ba2d71be6c87b1b" category="paragraph">O exemplo a seguir configura o Alertmanager para enviar notificações para um canal do Slack. Para personalizar este exemplo para o ambiente, substitua o valor da<block ref="aa8106611bcfe43fec48e6d1d371de52" prefix=" " category="inline-code"></block> chave pelo URL do webhook do Slack usado no ambiente:</block>
  <block id="792d490e884279c961aba837ccd9b67a" category="admonition">O Trident Protect seleciona alguns recursos automaticamente por causa de seu relacionamento com os recursos selecionados. Por exemplo, se você selecionar um recurso de reivindicação de volume persistente e tiver um pod associado, o Trident Protect também restaurará o pod associado.</block>
  <block id="d110d36251c4dd04b7da5ef237ac6063" category="inline-link">Documentação da Kopia</block>
  <block id="7491b3d3a4aa89a2dd6445477c6b6e0a" category="list-text">Para objetos do Amazon S3 (AWS) AppVault, você pode especificar opcionalmente um sessionToken, o que é útil se você estiver usando SSO (logon único) para autenticação. Esse token é criado quando você gera chaves para o provedor no <block ref="cd932e77bb3df9634d58b2fd34398b6f" category="inline-xref-macro-rx"></block>.</block>
  <block id="620026f954fdad541c9d19554476345c" category="list-text">Remova o objeto AppVault, substituindo<block ref="bf09cf3bd2a9288a0bdf3d1b89b770a1" prefix=" " category="inline-code"></block> pelo nome do objeto AppVault para remover:</block>
  <block id="35d393329a969d87338f26cd6fe42238" category="list-text">Use o Helm para instalar o Trident Protect. Substitua<block ref="ecc79c99c4f86f0db5cc7f200415205f" prefix=" " category="inline-code"></block> por um nome de cluster, que será atribuído ao cluster e usado para identificar os backups e snapshots do cluster:</block>
  <block id="c14fd2bf15bccb33c362aafa6a463f49" category="section-title">Preciso definir o Gerenciamento e DataLIFs em um arquivo de definição de back-end do ONTAP?</block>
  <block id="7279808725b91afce38762e4e1a8108b" category="paragraph">O LIF de gestão é obrigatório. DataLIF varia:</block>
  <block id="adfb1f23733ff9ee458d139c1df9f86f" category="list-text">ONTAP nas: A NetApp recomenda especificar<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>. Se não for fornecido, o Trident buscará os dados LIFs do SVM. Você pode especificar um nome de domínio totalmente qualificado (FQDN) a ser usado para as operações de montagem NFS, permitindo que você crie um DNS round-robin para balanceamento de carga entre vários dataLIFs. <block ref="879dc93198c7c5e8ce7148b6d1205d73" category="inline-link-macro-rx"></block>Consulte para obter detalhes</block>
  <block id="565b6e5803bd2aeffbb1b529ae150998" category="section-title">Os endereços IPv6 podem ser usados para o gerenciamento e DataLIFs?</block>
  <block id="4464ed822c0b46fd0bb406f3addad477" category="section-title">É possível atualizar o DataLIF no backend?</block>
  <block id="6299c4ccad2894e1fc64eb6059df19b8" category="paragraph">Você pode atualizar o DataLIF em<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> e<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> somente.</block>
  <block id="50738c79b08f93cc8be7f7ee1a3ac387" category="paragraph">* ONTAP nas drivers*: A NetApp recomenda especificar<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>. Se não for fornecido, o Trident buscará os dados LIFs do SVM. Você pode especificar um nome de domínio totalmente qualificado (FQDN) a ser usado para as operações de montagem NFS, permitindo que você crie um DNS round-robin para balanceamento de carga entre vários dataLIFs.</block>
  <block id="2455735b04a718daf96631c95e2d2d2c" category="paragraph">Defina como<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block> quando utilizar identidades geridas ou uma identidade de nuvem num cluster AKS. Defina como<block ref="907695ffaef2806fea589c7d8d044679" prefix=" " category="inline-code"></block> ao usar uma identidade de nuvem em um cluster EKS. Defina como<block ref="9856712fdf7563a4074fc130ed9f0755" prefix=" " category="inline-code"></block> quando estiver usando uma identidade de nuvem em um cluster GKE.</block>
  <block id="d73f3637b8d6ba73db2eed6c626bb0f7" category="paragraph">Defina como identidade da carga de trabalho ("azure.Workload.identity/client-id: xxxxxxxx-xxxx-xxxx-xxxxxxxxx") ao usar identidade da nuvem em um cluster AKS. Definido como função do AWS IAM ("'eks.amazonaws.com/role-arn: arn:aws:iam::123456:role/Trident-role'") ao usar a identidade da nuvem em um cluster do EKS. Defina como identidade de nuvem ("'iam.gke.io/gcp-service-account: xxxx@mygcpproject.iam.gserviceaccount.com'") ao usar identidade de nuvem em um cluster GKE.</block>
  <block id="f39a4edd3567c3db7a288d4b8203dbee" category="cell">O nome do host ou endereço IP do host NFS. Isso deve ser definido como dataLIF para sua máquina virtual.</block>
  <block id="7a6f34ea0b1eec52267ce30c62d910ba" category="cell">O nome do host ou endereço IP do host NFS. Isso deve ser definido como dataLIF para o SVM.</block>
  <block id="65066f84c75170b9c4abad6591a73548" category="inline-link">Ative o Kerberos em um dataLIF</block>
  <block id="3d2c78553d28b3786f4ec9e513e0adba" category="list-text">Certifique-se de que você preparou a VM de armazenamento ONTAP para oferecer suporte à criptografia Kerberos para volumes NFS. <block ref="27faba9d44bb486b2290a75aafcee5c1" category="inline-link-rx"></block>Consulte para obter instruções.</block>
  <block id="fdbf43c52ad3e72902872b8ada5c6dde" category="paragraph">O<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block> recurso permite que um cliente NFS consulte o SVM para obter uma lista de exportações de NFS disponíveis. Um pod implantado no cluster do Kubernetes pode emitir o<block ref="55fb64f15dd3d0c53de3a4d095218569" prefix=" " category="inline-code"></block> comando no e receber uma lista de montagens disponíveis, incluindo aquelas às quais ele não tem acesso. Embora isso, por si só, não seja um compromisso de segurança, ele fornece informações desnecessárias potencialmente ajudando um usuário não autorizado a se conetar a uma exportação NFS.</block>
  <block id="fcb4221a7bd32f5d31d2e30a8443eac9" category="list-text">DataLIFs não devem mais ser especificados ao configurar<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ou<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> drivers.</block>
  <block id="3165be312bab247f04681069367db65a" category="list-text">Corrigido problema de SLM específico para backends de SAN ONTAP para garantir que apenas subconjunto de dataLIFs pertencentes a nós de relatório seja publicado.</block>
  <block id="a478d15e95ddd4ce45d4fe0b98b651a6" category="list-text">Os DataLIFs SAN IPv6 da ONTAP agora funcionam se forem especificados com colchetes.</block>
  <block id="a7080c23e8c14c73db47d3f3e492003c" category="paragraph"><block ref="9e6b25667a12ee82b7da8f90b3adfb4d" prefix="" category="inline-code"></block><block ref="e831869c37ce314b5ade82786bf3348f" prefix=" " category="inline-code"></block></block>
  <block id="762a96bc52f41b6b53a4e2d27fd14560" category="cell">Endereço IP do protocolo LIF. A NetApp recomenda<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> especificar . Se não for fornecido, o Trident buscará os dados LIFs do SVM. Você pode especificar um nome de domínio totalmente qualificado (FQDN) a ser usado para as operações de montagem NFS, permitindo que você crie um DNS round-robin para balanceamento de carga entre vários dataLIFs. Pode ser alterado após a definição inicial. <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>Consulte a . Pode ser definido para usar endereços IPv6 se o Trident tiver sido instalado usando o sinalizador IPv6. Os endereços IPv6 devem ser definidos entre colchetes, como<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block> . *Omita para MetroCluster.* Consulte <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>.</block>
  <block id="6e7bd344d0c1260e0145e18171b598bb" category="paragraph">Você pode alterar o dataLIF após a configuração inicial executando o seguinte comando para fornecer o novo arquivo JSON de back-end com dataLIF atualizado.</block>
  <block id="df9bc5d5fd5d258576244d9b760ef3d9" category="admonition">Se os PVCs estiverem anexados a um ou vários pods, você deverá reduzir todos os pods correspondentes e restaurá-los para que o novo dataLIF entre em vigor.</block>
  <block id="a2b356ce90145d5d188d7705a9797bc1" category="cell">Endereço IP do protocolo LIF. * ONTAP nas drivers*: O NetApp recomenda especificar dataLIF. Se não for fornecido, o Trident buscará os dados LIFs do SVM. Você pode especificar um nome de domínio totalmente qualificado (FQDN) a ser usado para as operações de montagem NFS, permitindo que você crie um DNS round-robin para balanceamento de carga entre vários dataLIFs. Pode ser alterado após a definição inicial. <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>Consulte a . *Drivers SAN ONTAP*: Não especifique para iSCSI. O Trident usa o mapa ONTAP LUN seletivo para descobrir as LIFs iSCI necessárias para estabelecer uma sessão de vários caminhos. Um aviso é gerado se o dataLIF for definido explicitamente. Pode ser definido para usar endereços IPv6 se o Trident tiver sido instalado usando o sinalizador IPv6. Os endereços IPv6 devem ser definidos entre colchetes, como [28e8:d9fb:a825:b7bf:69a8:d02f:9e7b:3555].</block>
  <block id="a0c3ccd8e55dd8a4f5f5ad3a5269e331" category="admonition">Se você não se familiarizou com o <block ref="13aad4b6f98e790ff55e578921fa5ede" category="inline-link-macro-rx"></block>, agora é um grande momento para fazer isso.</block>
  <block id="f54758d5b91452d3103cc1017fa70d71" category="admonition">Para obter mais informações sobre a arquitetura do Trident no cluster do Kubernetes, <block ref="2e4686c52a7aa47e7bc2aa3cfa953fbe" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="50a4fd89cedf0068776b972ce96fcceb" category="cell">Parâmetro booleano para usar APIs REST do ONTAP. <block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> Quando definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o Trident usa APIs REST do ONTAP para se comunicar com o back-end; quando definido como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>, o Trident usa chamadas ONTAPI (ZAPI) para se comunicar com o back-end. Esse recurso requer o ONTAP 9.11,1 e posterior. Além disso, a função de login do ONTAP usada deve ter acesso ao<block ref="045ed0306c61104cb0777ccd31ce648b" prefix=" " category="inline-code"></block> aplicativo. Isso é satisfeito com as funções e<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> predefinidas<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>. Começando com a versão Trident 24,06 e ONTAP 9.15.1 ou posterior,<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> é definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> por padrão; altere<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> para<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> usar chamadas ONTAPI (ZAPI).</block>
  <block id="e516fe45e3db545de8d5d292a67f4990" category="list-text">Adicionado suporte de backup e restauração para VMs de virtualização KubeVirt / OpenShift para o volume Mode: File e volumeMode: Armazenamento de bloco (dispositivo bruto). Esse suporte é compatível com todos os drivers Trident e aprimora os recursos de proteção existentes ao replicar storage usando o NetApp SnapMirror com Trident Protect.</block>
  <block id="fc1d748db1b5b488ce7af7d17ea15d55" category="inline-link-macro">Suporte à versão de software</block>
  <block id="1906137ea73af1894fec1becb00e0aee" category="summary">Você pode encontrar alguns ótimos blogs NetApp Trident e Trident Protect.</block>
  <block id="0db80d8cadbd011f12ade006191e47b0" category="doc">Trident e Trident protegem blogs</block>
  <block id="c5497cf98d8e6141ba38e1421502c2d4" category="paragraph">Você pode encontrar alguns ótimos blogs do NetApp Trident e do Trident Protect aqui:</block>
  <block id="897b6a6a21c73524107071aff80ed94e" category="inline-link-macro">Desbloquear integração contínua de armazenamento iSCSI: Um guia para FSxN em clusters ROSA para AWS</block>
  <block id="6dc79a8e11fda729083bb4e518de411f" category="inline-link-macro">Apresentação do suporte ao Fibre Channel no Trident</block>
  <block id="767cfc132547de728a22c9fa992eabfc" category="section-title">Trident Proteja blogs</block>
  <block id="a706b02fe1ef4870ecc8b588cbe37989" category="inline-link-macro">Operações de backup e restauração consistentes com falhas para VMs de virtualização OpenShift</block>
  <block id="938cab8cf5785dfe0cd9ba76b4cae8f0" category="list-text">13 de Mar de 2025: <block ref="94b3904630a42c759a6ceb844d104a7a" category="inline-link-macro-rx"></block></block>
  <block id="20e2f4e6733d3ac5dd3cfb83506a2882" category="inline-link-macro">Estendendo padrões GitOps para proteção de dados de aplicativos com o NetApp Trident</block>
  <block id="ccd722b2b8950bc9aa2b92826dcc4664" category="list-text">11 de Mar de 2025: <block ref="751073ae4d07c4adc8a15e872b137421" category="inline-link-macro-rx"></block></block>
  <block id="bc057a27d4d8047073d6f5fa802c9c2b" category="inline-link-macro">Trident 25,02: Elevando a experiência do Red Hat OpenShift com novos recursos emocionantes</block>
  <block id="fb68b473f5b70bc40e206ef882be4c63" category="list-text">03 de Mar de 2025: <block ref="ce0fc75766d0530b76aaabf87dc1b463" category="inline-link-macro-rx"></block></block>
  <block id="62ca59fefb174e2cae471bd3ff034f37" category="inline-link-macro">Apresentamos os controles de acesso baseados em função do Trident Protect</block>
  <block id="2471f7ea5ea7dad7f60b4ece1fab4a9f" category="list-text">15 de Jan de 2025: <block ref="685287f953e60833f62fba2c623c4cb9" category="inline-link-macro-rx"></block></block>
  <block id="4a685524952a84cef8685a87bb60f47a" category="inline-link">Apresentando o tridentctl Protect: A poderosa CLI para Trident Protect</block>
  <block id="281486a8e7fd8f1c6bd6cf0c6bc7eba0" category="list-text">11 de nov de 2024:<block ref="b1528afdd7be1e71d2c311686269cf66" category="inline-link-rx"></block></block>
  <block id="c0d721f6d5aa4d159e2f9890fab5bbee" category="inline-link-macro">Gerenciamento de dados voltado ao Kubernetes: A nova era com o Trident Protect</block>
  <block id="78ec91ade28d11ab9c3f53f543bba8d3" category="list-text">11 de nov de 2024: <block ref="46b2057fd4479a7d4462fb82adc6f54b" category="inline-link-macro-rx"></block></block>
  <block id="244fede3edf8f2ab57f281d777777961" category="list-text">*spec.includedNamespaces*: (_required_) Use o seletor de namespace e rótulo para especificar os namespaces e recursos que o aplicativo usa. O namespace do aplicativo deve fazer parte dessa lista. O seletor de etiquetas é opcional e pode ser usado para filtrar recursos dentro de cada namespace especificado.</block>
  <block id="cc8aa03bb88101c1901ab425b29a1901" category="list-text">*spec.includedClusterScopedResources*: (_Optional_) Use este atributo para especificar recursos com escopo de cluster a serem incluídos na definição do aplicativo. Esse atributo permite que você selecione esses recursos com base em seu grupo, versão, tipo e rótulos.</block>
  <block id="eba6898a839f426c3106a97f94614eb9" category="list-text">*GroupVersionKind*: (_required_) especifica o grupo API, a versão e o tipo do recurso com escopo de cluster.</block>
  <block id="8d8a8010684a930aa7760c829cad4141" category="list-text">*LabelSeletor*: (_Opcional_) filtra os recursos com escopo de cluster com base em seus rótulos.</block>
  <block id="47edbb9e6d6e6e874eb40c274a0e2e0f" category="sidebar">Blog posts</block>
  <block id="4a5fadb6b0890cea5e8d53c37411aaf0" category="cell"><block ref="bc35d038baf172a19349f289d31fbf9d" prefix="" category="inline-code"></block></block>
  <block id="022571ee546e1a953d857961a8cd0442" category="paragraph">Crie um PersistentVolumeClaim (PVC) que use o Kubernetes StorageClass configurado para solicitar acesso ao PV. Em seguida, pode montar o PV num pod.</block>
  <block id="f79367bddbaecd3962f7c740a1b2178f" category="paragraph">Um<block ref="b1b93f46fc69df9fe663c091f4d6c2b4" category="inline-link-rx"></block> (PVC) é um pedido de acesso ao Persistentvolume no cluster.</block>
  <block id="79a251ee7369fdcdb0847d35254afcf8" category="paragraph">Depois de criar o PVC, você pode montar o volume em um pod.</block>
  <block id="a305c8fb2137d8a4a767905590079e89" category="section-title">Crie o PVC</block>
  <block id="06034bca671a3028021f1a722aac7b41" category="paragraph">Configure um objeto Kubernetes StorageClass e crie a classe de storage para instruir o Trident a provisionar volumes. Crie um PersistentVolumeClaim (PVC) que use o Kubernetes StorageClass configurado para solicitar acesso ao PV. Em seguida, pode montar o PV num pod.</block>
  <block id="5de805965faeb85a54098223ea3a3334" category="paragraph">Depois de criar o PVC, você pode montar o volume em um pod.</block>
  <block id="89fb75fa5ae260c326092b78970469ed" category="list-text">No painel de navegação esquerdo, selecione *clusters*.</block>
  <block id="abdaa0762abc2037a71287c94bceae14" category="list-text">Selecione o nome do cluster para o qual deseja configurar o complemento NetApp Trident CSI.</block>
  <block id="691da62871e09bf9c944f36b9de07889" category="list-text">Selecione *Add-ons* e, em seguida, selecione *Get more add-ons*.</block>
  <block id="e6cd86d61f4639c8a27006c6c29b3e9f" category="list-text">Selecione *seguinte*.</block>
  <block id="ce7f62393ec7cbcc106793e2c9ab41e8" category="list-text">Selecione o nome do cluster para o qual deseja atualizar o complemento NetApp Trident CSI.</block>
  <block id="f90a2b79ab21cae46f34d96bb4501334" category="list-text">Selecione a guia *Complementos*.</block>
  <block id="38b15bc2ab2d3588a9a19b123eaec1b5" category="list-text">Selecione *Trident by NetApp* e, em seguida, selecione *Edit*.</block>
  <block id="302ef561e28f7d7cd13d1042cece78e1" category="list-text">Selecione *Salvar alterações*.</block>
  <block id="b7cd6be51eaf277b357ed1c976d66d06" category="list-text">No painel de navegação esquerdo, selecione *clusters*.</block>
  <block id="1ca28d22337393f531c7c8028230ed76" category="list-text">Selecione o nome do cluster para o qual deseja remover o complemento NetApp Trident CSI.</block>
  <block id="85f27397ddcaf9ec996f312d1d89ecf9" category="list-text">Selecione a guia *Complementos* e, em seguida, selecione *Trident by NetApp*.*</block>
  <block id="6f99fa9b2e1f4893851a8aeb82d171f9" category="list-text">Selecione *Remover*.</block>
  <block id="f8c91efdaebc08b292c83903943a18c8" category="admonition">Se você selecionar Substituir para o método de resolução de conflitos, uma ou mais configurações para o suplemento existente podem ser sobrescritas com as configurações de complemento do Amazon EKS. Se você não ativar essa opção e houver um conflito com suas configurações existentes, a operação falhará. Você pode usar a mensagem de erro resultante para solucionar o conflito. Antes de selecionar essa opção, certifique-se de que o complemento do Amazon EKS não gerencie as configurações que você precisa para gerenciar automaticamente.</block>
  <block id="3b19f031abb1ee1e70a3d19640060ff8" category="cell">Especifique as credenciais do FSX SVM para armazenar no AWS Secrets Manager. <block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>- : Nome do recurso Amazon (ARN) do segredo, que contém as credenciais do SVM. <block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block>- : Defina para<block ref="eb301fdabb7b8996ba898845d5546121" prefix=" " category="inline-code"></block>. <block ref="e10af1024bf046058eef4c68dff3462a" category="inline-link-macro-rx"></block>Consulte para obter mais informações.</block>
  <block id="f62b661d066f6d5a24622ec3438e051b" category="example-title">Configuração para o AWS FSX for ONTAP com o Gerenciador de Segredos</block>
  <block id="88f9965484e8785ad82e1b99cdae3ab3" category="section-title">Crie o segredo do AWS Secrets Manager</block>
  <block id="646ed389b399156cbfb4923c9d8fbf95" category="paragraph">Como o Trident estará emitindo APIs em um vserver do FSX para gerenciar o armazenamento para você, ele precisará de credenciais para fazer isso. A maneira segura de passar essas credenciais é através de um segredo do AWS Secrets Manager. Portanto, se você ainda não tiver um, precisará criar um segredo do AWS Secrets Manager que contenha as credenciais da conta vsadmin.</block>
  <block id="360f6e9d45a33dadfdb2b47fa3a32110" category="paragraph">Este exemplo cria um segredo do AWS Secrets Manager para armazenar credenciais do Trident CSI:</block>
  <block id="1cb68d4d58173447ddb7517b51d352a9" category="paragraph">O Trident também precisa de permissões da AWS para ser executado corretamente. Portanto, você precisa criar uma política que dê ao Trident as permissões de que ele precisa.</block>
  <block id="49512d524988e02360eaf4f4bb2ad8f3" category="paragraph">Se a saída estiver vazia, use o seguinte comando para associar o IAM OIDC ao cluster:</block>
  <block id="fa1c8065dc4d2b862bfba881472c0aac" category="admonition">Substitua<block ref="2befb7722283d545949c6220c6548fe4" prefix=" " category="inline-code"></block> pelo ARN da função criada na etapa anterior.</block>
  <block id="44308ffe82692c268b99d3caefca907e" category="list-text">Verifique a versão atual do seu complemento FSxN Trident CSI. Substitua<block ref="e2eb89f0ffaf521a0d2eeaffca04d117" prefix=" " category="inline-code"></block> pelo nome do cluster.</block>
  <block id="a1dc4a2136ed260b34021d64aaa6980a" category="list-text">Atualize o complemento para a versão retornada em ATUALIZAÇÃO DISPONÍVEL na saída da etapa anterior.</block>
  <block id="0ca34892a0e67f37b07d196ec272007d" category="list-text">O NetApp não recomenda o uso do FlexVol com crescimento automático em todos os drivers ONTAP, exceto ONTAP-san. Como solução alternativa, o Trident oferece suporte ao uso de reserva de snapshot e dimensiona os volumes FlexVol de acordo.</block>
  <block id="67ed8fb72dc668ae9c7c1114df8f02ed" category="paragraph"> a <block ref="ee9d56c9130a1d3814c95b35eb7c82a4" category="inline-link-macro-rx"></block>Consulte para obter mais informações sobre como configurar seus hosts SAN FC e FC-NVMe.</block>
  <block id="1b9fede0aad66dda6d8b01b66280fff4" category="paragraph">*Pontos a considerar*: * SCSI sobre FC é suportado em ambientes OpenShift e KubeVirt. * SCSI sobre FC não é suportado no Docker. * A autorrecuperação iSCSI não se aplica a SCSI via FC.</block>
  <block id="5e6c49c79d451ce5d17472c430c69454" category="admonition">Certifique-se de<block ref="dd5ff67ba72768d33f75e645aa2b8e56" prefix=" " category="inline-code"></block> que contém<block ref="2a81b35478c9ccb4f9392dcc40edb8e6" prefix=" " category="inline-code"></block><block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> em .</block>
  <block id="ce3d3f85c4d1d4dd7826863d9428b4e5" category="admonition">Para obter ajuda com o Trident, crie um pacote de suporte usando<block ref="1d41e2024c69110ad6054ffc785ca8e0" prefix=" " category="inline-code"></block> e envie-o para o suporte da NetApp.</block>
  <block id="8ef3114bf1395e8f04d7b3404982499e" category="list-text">Você pode definir o sinalizador de criptografia NVE como<block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block> para criar volumes habilitados para NAE.</block>
  <block id="351e2b20bd9ea864b69cd832f3a4a5df" category="list-text">Se o NAE não estiver habilitado no back-end, qualquer volume provisionado no Trident será habilitado para NVE, a menos que o sinalizador de criptografia NVE esteja definido como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> (o valor padrão) na configuração do back-end.</block>
  <block id="a346cffc17b34fc56f3020d8b33d30c3" category="paragraph">Quando a classe de armazenamento e PVC são criados, você pode montar o PV em um pod. Esta seção lista o comando de exemplo e a configuração para anexar o PV a um pod.</block>
  <block id="f253a45a33bc62e467efd426699d9025" category="paragraph">Depois que o daemon é iniciado, você pode criar e gerenciar volumes usando a interface CLI do Docker.</block>
  <block id="a0ba0b0d751124c646a352594c7e9d7b" category="paragraph">O resto dos pilotos estão sujeitos a problemas como condições de corrida que podem resultar na criação de um grande número de volumes para uma única solicitação sem um claro "vencedor"; por exemplo, o elemento tem um recurso que permite que os volumes tenham o mesmo nome, mas IDs diferentes.</block>
  <block id="8904f6454065d44212063d39eeae5f07" category="paragraph">Controle refinado das opções de montagem NFS; o padrão é "-o nfsvers 3". *Disponível apenas para os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> condutores e<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>*.<block ref="71f7a3f48cfd3876cffba401813b7db0" category="inline-link-rx"></block>.</block>
  <block id="6a3f2fe5a221ff5e914123b7d1d207ac" category="paragraph">Percentagem de reserva de instantâneo, o padrão é "" para aceitar o padrão ONTAP</block>
  <block id="5c43de330169c269435e59a6b0ec6a2e" category="paragraph"><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>O driver cria volumes do Docker como Qtrees do ONTAP em um pool de volumes do FlexVol gerenciados automaticamente. As Qtrees oferecem dimensionamento muito maior, até 100.000 PB por nó de cluster e 2.400.000 PB por cluster, à custa de alguns recursos. <block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>O driver não oferece suporte a snapshots ou clonagem granular de volume do Docker.</block>
  <block id="a21d144a1c4c6283532b218d06e428b5" category="admonition">O<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> driver atualmente não é suportado no Docker Swarm, porque o Docker Swarm não orquestra criação de volume em vários nós.</block>
  <block id="a742d54fecc7e60d5a6c56568622bf9d" category="paragraph"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>O driver cria volumes do Docker como LUNs do ONTAP em um pool compartilhado de volumes do FlexVol gerenciados automaticamente. Dessa forma, cada FlexVol não se restringe a apenas um LUN e oferece melhor escalabilidade para workloads SAN. Dependendo do storage array, o ONTAP oferece suporte para até 16384 LUNs por cluster. Como os volumes são LUNs abaixo, esse driver oferece suporte a snapshots e clonagem granular do Docker volume.</block>
  <block id="8d848c284e4e3a777487dbfd26724083" category="paragraph">Para obter informações sobre FlexGroups e cargas de trabalho apropriadas para FlexGroups, consulte o<block ref="fd26d63759e7985cecb8814cdedc189b" category="inline-link-rx"></block>.</block>
  <block id="9e2ebdd267bef148382aa48682e06bc5" category="paragraph">Para obter recursos avançados e grande escala no mesmo ambiente, é possível executar várias instâncias do Docker volume Plugin, com uma usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> e outra usando<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>o .</block>
  <block id="86c8f953c394c19d7db6f6cf9882490e" category="paragraph"><block ref="6594f00105facbc68b3a919300221cc8" prefix="" category="inline-code"></block></block>
  <block id="fc03ab18d43301d015d44d432ae97eee" category="paragraph"><block ref="576b5b6204cfa4837c36a45307295380" prefix="" category="inline-code"></block><block ref="6d1394abf99896b6835a3be55cc2adce" prefix=" " category="inline-code"></block></block>
  <block id="ff0444fca20d2b690849631c3206bc5a" category="paragraph"><block ref="9e7d4cc1e0a49fb0aadd14f9a159a7ec" prefix="" category="inline-code"></block></block>
  <block id="839d5cbe0fec88e102ab7dee46577ac7" category="paragraph">Isto irá definir a política de instantâneos para o valor pretendido. O padrão é<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>, o que significa que nenhum instantâneo será criado automaticamente para o volume. A menos que seja modificada pelo administrador de storage, existe uma política chamada "padrão" em todos os sistemas ONTAP, que cria e retém seis snapshots por hora, dois por dia e dois por semana. Os dados preservados em um snapshot podem ser recuperados navegando para<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> o diretório em qualquer diretório do volume.</block>
  <block id="c515dd3a067f21589c3e11d31e32462b" category="list-text">_RWX modo de acesso para drivers de armazenamento em bloco_: Os drivers ONTAP-San (iSCSI, NVMe/TCP, FC) e ONTAP-san-Economy (iSCSI) são suportados apenas com "VolumeMode: Block" (dispositivo bruto). Para esses drivers, o<block ref="8da9b296683a7538d85fc38fcb987292" prefix=" " category="inline-code"></block> parâmetro não pode ser usado porque os volumes são fornecidos no modo de dispositivo bruto.</block>
  <block id="8c1fabda63909c966d5b02c908178af2" category="paragraph">Este exemplo, criado após executar o<block ref="6108feb94d9d09a19e33648dcce80003" prefix=" " category="inline-code"></block> comando, representa uma instalação personalizada básica:</block>
  <block id="a687cccb5ef434dd8df6734253a09535" category="paragraph">Este exemplo, criado após executar o<block ref="2241cac556b278d16d0bb5f94117277a" prefix=" " category="inline-code"></block> comando, instala o Trident em um nó de trabalho do Windows.</block>
  <block id="de4b458ce26c7e2479c45bb915c621b5" category="paragraph">Se você receber um erro "sem pools de capacidade encontrados" ao criar um PVC, é provável que o Registro do aplicativo não tenha as permissões e recursos necessários (sub-rede, rede virtual, pool de capacidade) associados. Se a depuração estiver ativada, o Trident registrará os recursos do Azure descobertos quando o back-end for criado. Verifique se uma função apropriada está sendo usada.</block>
  <block id="1c52b877ebb92e642f84ee1628240247" category="cell">Sempre "SolidFire-san"</block>
  <block id="31079062306e509fbecf7a2bd9485187" category="cell">Endereço IP "SolidFire_" e armazenamento (iSCSI)</block>
  <block id="1ed25c6118740d8ddd80ea0ce520e808" category="cell">Encontra a ID de um grupo de acesso chamado "Trident"</block>
  <block id="c72dc6713f14ba2541824417f46e1cd6" category="cell">Debug flags para usar ao solucionar problemas. Por exemplo, "api":false, "method":true"</block>
  <block id="cc1ae9a700356c7c519b4aee7dcbf53b" category="cell">"10,0.0,1", "[2001:1234:abcd::fefe]"</block>
  <block id="1925cd490b13f25205214eccfe51fccd" category="admonition">Se você estiver usando credenciais "vsadmin",<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> deve ser a do SVM; se estiver usando credenciais "admin",<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> deve ser a do cluster.</block>
  <block id="788fe8d661645297ab41d7c9235dcbb8" category="list-text">Manter, não tente descartar blocos no tempo mkfs (descartar blocos inicialmente é útil em dispositivos de estado sólido e armazenamento esparso / thin-provisionado). Isso substitui a opção obsoleta "-K" e é aplicável a todos os sistemas de arquivos (xfs, ext3 e ext4).</block>
  <block id="470fa5f00d398bad1d1874a9b4d59d7b" category="cell">"["0,0.0,0/0", ":::/0"]"</block>
  <block id="1e8d899088cef4cd1758075ac2b63721" category="cell">Percentagem de volume reservado para instantâneos "0"</block>
  <block id="d8d01124b8b3fe614b475ad96fca4635" category="cell">Se<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> for<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>,<block ref="2954e92a9b4d0e998fe4893f8141649a" prefix=" " category="inline-code"></block> ""</block>
  <block id="5a71b77feca506fc8eba218b4e65048b" category="paragraph">O Trident restaura os dados do snapshot. Você pode verificar o status de restauração de snapshot:</block>
  <block id="9d577c00c4cbb5d99e7a8a6589113669" category="paragraph">Ao excluir um volume persistente com instantâneos associados, o volume Trident correspondente é atualizado para um "estado de exclusão". Remova os instantâneos de volume para excluir o volume Trident.</block>
  <block id="27e9bd9989c090489f69126b9910d7d8" category="list-text">Você também pode obter logs de depuração para cada back-end, incluindo<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> na sua definição de back-end. Por exemplo, inclua<block ref="825a719baa5b5b7445c98535815fac39" prefix=" " category="inline-code"></block> para obter chamadas de API e transversais de método nos logs do Trident. Os backends existentes podem ter<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> sido configurados com um<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>.</block>
  <block id="1e8493e925b9f37d24c0573c08c6643a" category="list-text">No cluster de origem, crie um AppVault para o aplicativo de origem. Dependendo do seu fornecedor de storage, modifique um exemplo no <block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block> para se adequar ao seu ambiente:</block>
  <block id="a42a308559809e0fc20b13ea51d5d3d4" category="list-text">No cluster de origem, crie a aplicação de origem CR:</block>
  <block id="85d88f09b637997959adc6d50a42d56f" category="list-text">No cluster de destino, crie um aplicativo de origem AppVault CR idêntico ao AppVault CR aplicado no cluster de origem e nomeie-o (por exemplo,<block ref="3ad9e8b652d0a9a977e2534bf143ea29" prefix=" " category="inline-code"></block> ).</block>
  <block id="8af8219e9797756f7e348dd40e365632" category="list-text">Crie um AppVault CR de destino para o aplicativo de destino no cluster de destino. Dependendo do seu fornecedor de storage, modifique um exemplo no <block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block> para se adequar ao seu ambiente:</block>
  <block id="f454fc9c64d31c07a352c043fe184940" category="list-text">No cluster de destino, crie um arquivo CR AppMirrorRelationship:</block>
  <block id="3d9dc864aeb5b914422a6a665c53ceeb" category="list-text">(_Optional_) no cluster de destino, verifique o estado e o estado da relação de replicação:</block>
  <block id="fe07abfd92e0d0809a7eb71ce3f79b4b" category="list-text">No cluster de destino, edite o arquivo CR AppMirrorRelationship (por exemplo,<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block> ) e altere o valor de *spec.desiredState* para<block ref="2c42d7d277f63fcbe64b041b997ceaed" prefix=" " category="inline-code"></block>.</block>
  <block id="2ebd442ba9080ba8f10b660fd69bb379" category="list-text">Opcional: No cluster de origem, crie um instantâneo do aplicativo de origem. Isso garante que as alterações mais recentes do cluster de origem sejam capturadas.</block>
  <block id="4d77fef9f6bd1f87593e41a1d32a7ea4" category="list-text">No cluster de destino, edite o arquivo CR AppMirrorRelationship (por exemplo,<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block> ) e altere o valor de spec.desiredState para<block ref="072f9734fceb02f516b50d4174ac0f18" prefix=" " category="inline-code"></block>.</block>
  <block id="cd7eea117bba074d0250983f81bb10e4" category="list-text">No cluster de destino original, exclua o AppMirrorRelationship CR. Isso faz com que o destino se torne a fonte. Se houver planos de proteção restantes no novo cluster de destino, remova-os.</block>
  <block id="5ca8234bb17898bdaa8421e9bab83a0b" category="list-text">Certifique-se de que o novo destino (cluster de origem original) esteja configurado com o AppVault CRS.</block>
  <block id="e319bd320145e358af8fd5dbada2d800" category="list-text">No cluster de origem, crie um instantâneo de encerramento:</block>
  <block id="47d8460d4aa2253d733ecb9b355e4319" category="list-text">No cluster de origem, após a conclusão do instantâneo de encerramento, obtenha o status do instantâneo de encerramento:</block>
  <block id="00e7f88da8b7690738f8546262d2fe54" category="list-text">No cluster de origem, encontre o valor de *shutdownsnapshot.status.appArchivePath* usando o seguinte comando, e Registre a última parte do caminho do arquivo (também chamado de basename; isso será tudo após a última barra):</block>
  <block id="579f2feb3d9edaa336d3ccb69c3fb855" category="list-text">Faça um failover do novo cluster de destino para o novo cluster de origem, com a seguinte alteração:</block>
  <block id="23b4dec181e41ab3962cf73b28ffe58c" category="list-text">No cluster de dessinização atual, exclua o AppMirrorRelationship CR:</block>
  <block id="90abe2b6c39f51adea4c5aabff2df094" category="list-text">Siga o esquema de configuração *Add-on* e defina o parâmetro Configuration Values na seção *Configuration Values* para o Role-arn criado na etapa anterior(Etapa 1). O valor deve estar no seguinte formato:</block>
  <block id="6935ea1d99a0c26f0e4cddb80f444849" category="summary">Se você usar o Red Hat OpenShift, você pode instalar o Trident usando um operador.</block>
  <block id="c282cc9924716a0ecdcc1864c8821950" category="doc">Mude do operador comunitário Trident para o operador certificado OpenShift</block>
  <block id="92da9bfce4b6635fcf5d3f3725accbbc" category="paragraph">Para mudar do Operador de Trident da Comunidade NetApp para o Operador de Trident certificado OpenShift da Red Hat, você precisará desinstalar o operador da comunidade e, em seguida, instalar o operador certificado usando o Operator Hub.</block>
  <block id="cec1c482e499b4748371d5e19359dacd" category="inline-link-macro">Prepare seu ambiente para a instalação do Trident</block>
  <block id="82c3da1e712e572f424c3b7bf7dafcaf" category="section-title">Desinstale o operador da comunidade NetApp Trident</block>
  <block id="ae76609b28371ddbc9f46be837040994" category="list-text">Use o console OpenShift para navegar até o OperatorHub.</block>
  <block id="349838fb1d851d3e2014b9fe39203275" category="image-alt">Instale</block>
  <block id="2d8d10c295f87a1f17d2f37a4df9688d" category="list-text">Encontre o operador da comunidade NetApp Trident.</block>
  <block id="e1b3a07c6ba67335c1564ff539f1f885" category="admonition">Não selecione *Excluir todas as instâncias operand deste operador*.</block>
  <block id="615da270425b5ecb4fe6ddeed9358880" category="list-text">Clique em *Desinstalar*.</block>
  <block id="c7afcce8432c7e249a80e803d2a81180" category="section-title">Instale o Operador certificado OpenShift</block>
  <block id="6eaf33f9c2387a07f89fc20e19acffaa" category="list-text">Navegue até o Red Hat OperatorHub.</block>
  <block id="cccebca328e4674a8888d5dc22f61e0d" category="list-text">Procure e selecione o Operador NetApp Trident.</block>
  <block id="9872de8cf3e5ac67cae81e5c17eaa5cc" category="list-text">Siga as instruções apresentadas no ecrã para instalar o operador.</block>
  <block id="52b8ffce119fe77b28034f2fdd35eb5f" category="section-title">Verificação</block>
  <block id="ba8b537f098a607b7119fc78961300eb" category="list-text">Verifique o OperatorHub na consola para garantir que o novo operador certificado foi instalado com sucesso.</block>
  <block id="838483eae18a7bca44c25a90dc7f55c3" category="doc">Instale o Trident usando o OpenShift OperatorHub</block>
  <block id="d569da5fb14cad502f71e232cdfcb4e4" category="paragraph">Se você usar o Red Hat OpenShift, você pode instalar o NetApp Trident usando o operador certificado Red Hat. Use este procedimento para instalar o Trident a partir da Plataforma de contêiner do Red Hat OpenShift.</block>
  <block id="516a493e6df274ac5512ffaab7234ebf" category="section-title">Localize e instale o operador Trident</block>
  <block id="7a200e69eab0d67b215ea6e3c6081797" category="list-text">Navegue até o OpenShift OperatorHub e procure por NetApp Trident.</block>
  <block id="9838ab5306db947832d94d1cd49a486a" category="list-text">Selecione o operador Trident na lista de operador instalado.</block>
  <block id="b5a7424a278ddd01fa4e381b58d1e00d" category="list-text">Selecione se pretende eliminar toda a instância do operador.</block>
  <block id="28ed84868f638999e59e306d6b87b07c" category="admonition">Se você não selecionar a caixa de seleção *Excluir todas as instâncias operand deste operador*, o Trident não será desinstalado.</block>
  <block id="0e9e7400617f4a815b5ec92f2030b580" category="sidebar">Instale usando o operador certificado OpenShift</block>
  <block id="93e4eff1c01241084bfc9427074bacea" category="sidebar">Instale o Trident usando o OpenShift OperatorHub</block>
  <block id="c9e3d6c8fc80db4773cf69e205f2b571" category="sidebar">Mude do operador comunitário Trident para o operador certificado OpenShift</block>
  <block id="88f2acec92adfdf94ffec73a8fda60a6" category="paragraph">Você pode configurar a clonagem de volume em apenas algumas etapas.</block>
  <block id="e44a637a848aa60ef27cfc477d692412" category="paragraph">O Trident cria o PV e seu volume de armazenamento de back-end.</block>
  <block id="9f965f02f635b760a84c43d43aba854f" category="paragraph">Antes de iniciar a instalação, <block ref="a24ee29cd883cbf52de58a68b0fed1a7" category="inline-link-macro-rx"></block>.</block>
  <block id="d72c3d84865c2955b89cbf6e0ec00ada" category="inline-link-macro">Problema nº 983</block>
  <block id="ac76c3fcac41a10bd5f709108875e6c6" category="list-text">Corrigido um problema no operador Trident em que nomes e versões de imagens sidecar eram incorretamente preenchidos ao usar um Registro de imagem não padrão (<block ref="524f95fe3800e5d3ef82e615d679c539" category="inline-link-macro-rx"></block>).</block>
  <block id="7bc2d7846b2e95d3f64a4d4f4b53cc3c" category="list-text">Corrigido o problema em que as sessões multipath não recuperavam durante um failover do ONTAP (<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block>).</block>
  <block id="212dff1a74c955a52357c5a67478720d" category="section-title">Mudanças em 25,02</block>
  <block id="ef5363598e9b6f09c42a4f11b7798e31" category="section-title">Mudanças em 24.10.1</block>
  <block id="fe28e2a5f749261aca15de7b9e5841d0" category="list-text">*Kubernetes*: Adicionado suporte ao Kubernetes 1,32.</block>
  <block id="3da21bcb163e7e142caada3e22ac014f" category="list-text">Dependências do Trident e do Trident-ASUP atualizadas para endereçar CVE-2024-45337 e CVE-2024-45310.</block>
  <block id="eeda04a5133a10ebd4956c7d83dfd389" category="list-text">Logouts removidos para portais não CHAP não-CHAP intermitentemente insalubres durante a auto-recuperação iSCSI (<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block>).</block>
  <block id="78937357687a7b0292ed689d4e420485" category="inline-link">Documentação da Red Hat</block>
  <block id="89e30b0f2c0e48835ff872a994fc749c" category="list-text">Ao usar nós de trabalho que executam RHEL/Red Hat Enterprise Linux CoreOS (RHCOS) com FC PVs, especifique a<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block> mountOption no StorageClass para executar a recuperação de espaço em linha. Consulte a<block ref="65c95aeda8cb0b26307f9839dd3fefbf" category="inline-link-rx"></block>.</block>
  <block id="e80b6a304e29d5dfcb9150f47d69db94" category="section-title">Suporte ao Trident para virtualização KubeVirt e OpenShift</block>
  <block id="cffd29fb8e17cb30625130ee24cd667d" category="paragraph">O Trident suporta os seguintes drivers ONTAP para virtualização KubeVirt e OpenShift:</block>
  <block id="0ae326ef84f2a6bc4be48951f88c0162" category="list-text">Atualize a classe de armazenamento para ter o<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> parâmetro (por exemplo:<block ref="6db865adcb81b7cf881ff9839476f850" prefix=" " category="inline-code"></block>) No ambiente de virtualização OpenShift. Se necessário, defina o modo de volume para bloquear explicitamente usando o<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block> parâmetro no<block ref="c6dda2fd1e6d70d582099348cfe6c847" prefix=" " category="inline-code"></block> para notificar CDI para criar volumes de dados de bloco.</block>
  <block id="daa6a182f8035711e9635994f572c7bc" category="list-text">Versões do Red Hat Enterprise Linux CoreOS (RHCOS) suportadas pela OpenShift Container Platform (AMD64 e ARM64)</block>
  <block id="2bf380408feee0a9443f217c907f0681" category="inline-link-macro">Documentação de Registro do Red Hat OpenShift</block>
  <block id="796814ebd3d324fe438f0c699c37c89e" category="admonition">As tabelas abaixo contêm apenas as variáveis relevantes para a configuração de armazenamento, uma vez que se refere ao serviço de registo. Você pode encontrar outras opções nas <block ref="202ad309c67a74272d432350a2d0cf76" category="inline-link-macro-rx"></block> quais devem ser revisadas, configuradas e usadas de acordo com sua implantação.</block>
  <block id="3a298688c4d78e1b7532d3859cd16a57" category="inline-link-macro">Documentação do Red Hat OpenShift Container Platform 3,11</block>
  <block id="620fb6046d1af07a3df48b291902887c" category="paragraph">No entanto, se você estiver implantando após a instalação inicial, o manual de estratégia de componentes precisará ser usado pelo Ansible. Este processo pode mudar ligeiramente com versões diferentes do OpenShift, portanto, certifique-se de ler e seguir <block ref="87091f5bcd27af3d8592e461d451be85" category="inline-link-macro-rx"></block> para a sua versão.</block>
  <block id="95c7854cff26589ad1555baa8672c001" category="inline-link-macro">Guia de implantação do OpenShift da Red Hat</block>
  <block id="757eaf1f1a551aabeb24f57705261f85" category="paragraph">As variáveis acima, e o processo de implantação, podem mudar com cada versão do OpenShift. Certifique-se de rever e seguir <block ref="1b29818189b1aff318eccaee960b09cb" category="inline-link-macro-rx"></block> a sua versão para que ela seja configurada para o seu ambiente.</block>
  <block id="4e602d306baa843baf9ed9bd9ce452b1" category="list-text">Adicionado suporte para virtualização OpenShift para drivers ONTAP.</block>
  <block id="814077b936b9bc9d2731d0f5fd50fde3" category="list-text">Para executar a recuperação de espaço on-line para PVS iSCSI, o SO subjacente no nó de trabalho pode exigir que as opções de montagem sejam passadas para o volume. Isso é verdade para instâncias RHEL/Red Hat Enterprise Linux CoreOS (RHCOS), que exigem o<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block><block ref="2ee633fb26bfccf07d490458d29f92a2" category="inline-link-rx"></block>; Certifique-se de que a opção Descartar mountOption está incluída em sua<block ref="15699dd651c6fec3ed329f2bf55d54b4" category="inline-link-rx"></block><block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix="[" category="inline-code"></block>lista] para suportar descarte de blocos on-line.</block>
  <block id="de6d7aa94730ba882f7284ac8e07a0d1" category="paragraph">Se você estiver usando uma combinação de drivers, você deve instalar todas as ferramentas necessárias para seus drivers. Versões recentes do Red Hat Enterprise Linux CoreOS (RHCOS) têm as ferramentas instaladas por padrão.</block>
  <block id="ce557c2f93da665463decf7b19e61b7b" category="list-text">Ao usar nós de trabalho que executam RHEL/Red Hat Enterprise Linux CoreOS (RHCOS) com iSCSI PVs, especifique a<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block> mountOption no StorageClass para executar a recuperação de espaço em linha. Consulte a<block ref="65c95aeda8cb0b26307f9839dd3fefbf" category="inline-link-rx"></block>.</block>
  <block id="3992b498f2510c20f4dc0df9804e6038" category="list-text">Ao usar o Red Hat Enterprise Linux CoreOS (RHCOS), certifique-se de que<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block> está habilitado nos nós de trabalho e iniciado por padrão. Isso pode ser feito usando OpenShift MachineConfigs ou modificando os modelos de ignição.</block>
  <block id="aaa0c40b2c8011bdffe750a1ba36c398" category="paragraph">Usando<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>,<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block> e <block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>, você pode especificar um volume SMB e fornecer as credenciais necessárias do ative Directory. Qualquer usuário/senha do ative Directory com nenhuma ou nenhuma permissão pode ser usada para o segredo da etapa do nó.</block>
  <block id="1e0e0f35966b4297310419e9023a837b" category="admonition">Se o Trident provisionou volumes e snapshots desse back-end que ainda existem, excluir o back-end impede que novos volumes sejam provisionados por ele. O backend continuará a existir em um estado de "exclusão".</block>
  <block id="e441c0f153e5f2e8328aa8c2e9badf45" category="list-text">Integre o kube-State-metrics com Prometheus. Edite o arquivo de configuração Prometheus <block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix="(" category="inline-code"></block>) e adicione as informações do serviço kube-State-metrics. Por exemplo:</block>
  <block id="ce813b4c1248ec7e0f14b08f1a037497" category="listing-title">prometheus.yaml: integração do serviço kube-state-metrics com o Prometheus</block>
  <block id="934a401d15e7226d8cb60e2a12f28611" category="list-text">Configure Prometheus para rotear alertas para Alertmanager. Edite o arquivo de configuração Prometheus <block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix="(" category="inline-code"></block>) e adicione a seguinte seção:</block>
  <block id="2a88bf2582239d12cc0700d3c6857519" category="listing-title">prometheus.yaml: Enviar alertas para o Alertmanager</block>
  <block id="ae9aa1ddb34419c7b7b7f49feba7fb45" category="paragraph">O exemplo a seguir define um alerta crítico que é acionado quando o status do recurso personalizado de backup é definido como<block ref="902b0d55fddef6f8d651fe1035b7d4bd" prefix=" " category="inline-code"></block> por 5 segundos ou mais. Você pode personalizar este exemplo para corresponder ao seu ambiente e incluir esse snippet YAML em seu<block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix=" " category="inline-code"></block> arquivo de configuração:</block>
  <block id="62c242d2e7dfd83a58d8ccf60227d68f" category="listing-title">rules.yaml: Defina um alerta do Prometheus para backups com falha</block>
  <block id="70694773feb2b23c45e7ff7a6a3c3c8b" category="paragraph">Você pode configurar o Alertmanager para enviar notificações para outros canais, como e-mail, PagerDuty, Microsoft Teams ou outros serviços de notificação especificando a respetiva configuração no<block ref="9001eaececb0884cbeb80659e81340ad" prefix=" " category="inline-code"></block> arquivo.</block>
  <block id="965357e3c90ccf3fba01174c6508d562" category="listing-title">alertmanager.yaml: Enviar alertas para um canal do Slack</block>
  <block id="fb72ca78c839cefc52d39ebcecaf6827" category="paragraph">O instantâneo de volume é suportado por <block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> , <block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> , <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> , <block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> , <block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> , <block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> , <block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> , e <block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block> motoristas.</block>
  <block id="02c19b7bc038d2af238bbd729bc3d9c4" category="list-text">Ao criar manualmente CRs do AppVault, use o campo *spec.dataMoverPasswordSecretRef* para especificar o segredo.</block>
  <block id="0a636ed0406fe1d7ddf9db59b32011b3" category="list-text">Ao criar objetos AppVault usando o Trident Protect CLI, use o <block ref="66f22eb4f5e5b0147ea7521212b07044" prefix=" " category="inline-code"></block> argumento para especificar o segredo.</block>
  <block id="d2a7dc5804ec844f3f7bfb903e97693f" category="section-title">Permissões de IAM de armazenamento compatível com S3</block>
  <block id="48f73146a4944adc8ee8fb44ba954d59" category="paragraph">Ao acessar o armazenamento compatível com S3, como Amazon S3, S3 genérico, <block ref="3d0b4c23d9ed62ec7d7cd16273ca2521" category="inline-link-rx"></block> , ou <block ref="3a31dfad8c316380b9a5542d694c5833" category="inline-link-rx"></block> Ao usar o Trident Protect, você precisa garantir que as credenciais de usuário fornecidas tenham as permissões necessárias para acessar o bucket. Veja a seguir um exemplo de política que concede as permissões mínimas necessárias para acesso com o Trident Protect. Você pode aplicar essa política ao usuário que gerencia políticas de bucket compatíveis com o S3.</block>
  <block id="d9b7f314625fb7dcf35c741afe65b676" category="inline-link">Documentação do Amazon S3</block>
  <block id="46d663191f16f782a681e5f6702a09d4" category="list-text">Para todos os backends ONTAP, o Trident exige que pelo menos um agregado seja atribuído ao SVM.</block>
  <block id="782b4a6bf31d7d564f002ed80e56a970" category="doc">Anotação de tempo limite do movimentador de dados</block>
  <block id="2cf4114566459ea3b3a5ac507cb86fd9" category="paragraph">Durante as operações de backup e restauração, você pode usar a anotação <block ref="f49fa3f76b2a4fcdf04dff369d417d84" prefix=" " category="inline-code"></block> para configurar o tempo limite para operações de movimentação de dados. Esta anotação especifica o tempo máximo, em segundos, que um movimentador de dados deve aguardar a conclusão de uma operação específica antes de atingir o tempo limite. É particularmente útil em situações em que problemas de rede ou outros fatores podem causar a paralisação das operações de movimentação de dados. Ela ajuda a detectar e lidar com operações paralisadas, em vez de definir um tempo limite geral para todo o processo. Por exemplo, se não houver progresso na restauração dos dados do volume devido a problemas de rede, a operação atingirá o tempo limite com base na duração especificada.</block>
  <block id="c2b7f24f4ddbaedb4e3d9e19f77eebac" category="paragraph">Você pode usar esta anotação no seu arquivo YAML, conforme mostrado abaixo:</block>
  <block id="14a0e26cbe187a4754f8b523ffba6073" category="paragraph">Neste exemplo, a anotação falha <block ref="ec2a2895b09b6030ec8cc1b3c43ddc4d" prefix=" " category="inline-code"></block> operação se não houver progresso dentro de 2 segundos na operação de restauração.</block>
  <block id="c49aaf233c16f1193a8d683c17866eea" category="admonition">Se o valor da anotação for menor ou igual a 0, a operação falhará imediatamente.</block>
  <block id="5ac5b84505fffb8149e9d0cb84ddedbe" category="admonition">Durante as operações de restauração, qualquer <block ref="890b633d48ac6398f14ae722463da08b" prefix=" " category="inline-code"></block> criados para uma máquina virtual (VM) não são restaurados.</block>
  <block id="4d1a32c0e466ff9011c60655b98dbf71" category="inline-link-macro">Configuração automática do backend Trident para FSx para ONTAP com o complemento Amazon EKS</block>
  <block id="607ed18429282657fb3f6b377df32f8c" category="inline-link-macro">NetApp Trident com Google Cloud NetApp Volumes para protocolo SMB</block>
  <block id="ee031d295c711ed3119e4ca1bf2829b1" category="inline-link-macro">Desbloqueando o poder dos sistemas NetApp ASA r2 para armazenamento em bloco do Kubernetes</block>
  <block id="a3148578e6ffde89485954832ff9be37" category="paragraph">Se você não estiver executando o Trident 25,06, a documentação das versões anteriores estará disponível com base <block ref="6d47e9235a19453f00cf246917b9e162" category="inline-link-macro-rx"></block>no .</block>
  <block id="a1862e00d8111386cdf238bd23bb97db" category="inline-link">Trident 25,02</block>
  <block id="25bdd2f6eb0ca7663bf4152396a74a09" category="list-text"><block ref="25bdd2f6eb0ca7663bf4152396a74a09" category="inline-link-rx"></block></block>
  <block id="e26bc895e5bb00237e35bd08e101a228" category="inline-link-macro">25,06</block>
  <block id="512754259e832a6faaee7e55aa2a0641" category="paragraph"><block ref="512754259e832a6faaee7e55aa2a0641" category="inline-link-macro-rx"></block></block>
  <block id="e388180fa8946253a28286d92fcbc393" category="cell">Junho de 2028</block>
  <block id="61a3094d46fa14bffb9067eeb8d3405a" category="paragraph"><block ref="61a3094d46fa14bffb9067eeb8d3405a" category="inline-link-macro-rx"></block></block>
  <block id="dfd4fd2ff3f0bcabea8bfd811d0db9b4" category="summary">O Trident é um provisionador e orquestrador de storage de código aberto mantido pela NetApp. Com ele, você cria volumes de storage para aplicações em contêiner gerenciadas pelo Docker e Kubernetes. **Leia as notas de versão para obter informações críticas sobre a atualização para o Trident 25,06.**</block>
  <block id="1c14876f05b759f9c9be73a49c84ddd4" category="doc">Documentação do Trident 25,06</block>
  <block id="7b64f90c10ba527f2f6b6f1e6fb0c9fe" category="list-text">O Kubernetes 1,33 agora é compatível com o Trident. Atualize o Trident antes de atualizar o Kubernetes.</block>
  <block id="f39d8c359b3284c30097b65ae4e0dccf" category="list-text">Kubernetes 1,27 - 1,33</block>
  <block id="d84962dc87f0a0b8de6c8bcc166c1868" category="list-text">Versões de cluster FAS, AFF ou ASA r2 (iSCSI e NVMe/TCP) locais com suporte limitado da NetApp. <block ref="50931d770a2149cdd08c9f8b08c33f00" category="inline-link-macro-rx"></block>Consulte .</block>
  <block id="9f7ace1a0a4d64a8dfa14012ff8f7e8c" category="paragraph">1,27 - 1,33</block>
  <block id="006871bfbb54929c1e2b37d3ce36b37f" category="cell">v1.27.0, v1.28.0, v1.29.0, v1.30.0, v1.31.0, v1.32.0, v1.33.0</block>
  <block id="3e711dbc16f3de48b46eca5b86572321" category="list-text">docker.io/NetApp/Trident:25.06.0</block>
  <block id="d010f8bd4e6cede4d3e51de4419c09aa" category="list-text">docker.io/NetApp/Trident-AutoSupport:25,06</block>
  <block id="3b72fba0c67a9cb87151e878d3ba37f9" category="list-text">registry.k8s.io/sig-storage/csi-attacher:v4.8.1</block>
  <block id="06489d7f99c3b214c8b9a539006a642c" category="list-text">registry.k8s.io/sig-storage/csi-resizer:v1.13.2</block>
  <block id="5b892dce2351df7e1f21d1004bc2cb19" category="list-text">registry.k8s.io/sig-storage/csi-snapshotter:v8.2.1</block>
  <block id="5647d06b79232a09c66557bdfc379908" category="list-text">docker.io/NetApp/Trident-operador:25.06.0 (opcional)</block>
  <block id="d59cb19805caf164811cd6ff7d71da51" category="cell"><block ref="2a096ce9ce9c58c91575ae3f40daa915" prefix="" category="inline-code"></block></block>
  <block id="fcd7f4cc8a01becf1cfddb538266578c" category="cell"><block ref="f6ac10a5549303d8f00a11f375963f9b" prefix="" category="inline-code"></block></block>
  <block id="b59305925bb6ffc962ea48351db964e8" category="section-title">Informações críticas sobre o Trident 25,06</block>
  <block id="d7ccfdca42aadc41314f5df3ed2e4cbf" category="list-text">Use<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> e especifique um nome para a localização do Registro de imagens e implantação. O <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> pode estar localizado em um Registro ou Registros diferentes, mas todas as imagens CSI devem estar localizadas no mesmo Registro. Nos exemplos,<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block> é a versão do Trident que você está instalando.</block>
  <block id="9632d6ad86670e70a32c6b93e85ad9f4" category="paragraph">Por exemplo, para alterar o valor padrão<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block> do , execute o seguinte comando onde<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block> está a versão do Trident que está a instalar:</block>
  <block id="b34ad03c5088f36033c20b21d9aae4c2" category="list-text">Use<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> e especifique um nome para sua implantação, como no exemplo a seguir, onde<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block> está a versão do Trident que você está instalando.</block>
  <block id="287d9354cd0e889ca3c170f1a20060ce" category="paragraph">No<block ref="02f3115b006f7541a477d52ea8c0f861" prefix=" " category="inline-code"></block>, atualize<block ref="ff1ea91c85a440ad216d6d8dafdb2b4a" prefix=" " category="inline-code"></block> para refletir a localização do registo de imagens. O <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> pode estar localizado em um Registro ou Registros diferentes, mas todas as imagens CSI devem estar localizadas no mesmo Registro. Por exemplo:</block>
  <block id="3ce13997cacbb7668e6636ffb21ba04a" category="list-text"><block ref="a5ad704b64900183c3e85fea9edad0f0" prefix="" category="inline-code"></block> se todas as suas imagens estiverem localizadas em um registro.</block>
  <block id="b6e3b64ea99d65462c313d10936507a1" category="list-text"><block ref="f5f5dab4b39c35c32ac8846470b513ad" prefix="" category="inline-code"></block> Se a sua imagem Trident estiver localizada num registo diferente das suas imagens CSI.</block>
  <block id="3821e533e08e97c63527fb3e1ab72017" category="list-text">Instale o Trident usando o pacote correto do arquivo YAML para o seu ambiente, onde _&lt;bundle.yaml&gt;_ é<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block> ou<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block> baseado na sua versão do Kubernetes. Por exemplo, se você estiver instalando o Trident 25,06, execute o seguinte comando:</block>
  <block id="d180bc23594b2a81a598da69af7136af" category="list-text">Se <block ref="538f4beb16c8502421a8389e199d34ce" category="inline-link-macro-rx"></block>você , você pode usar<block ref="9ba27131bd1269499334744b89769fac" prefix=" " category="inline-code"></block> o para atualizar em uma etapa. Se você não adicionou o repositório Helm ou não pode usá-lo para atualizar:</block>
  <block id="19edaf19feadf74a38c5b3da24fd64bd" category="list-text">Use o<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> comando onde<block ref="c49c0910ea156a14c49e617b509b605a" prefix=" " category="inline-code"></block> reflete a versão para a qual você deseja atualizar.</block>
  <block id="843e8c92f2887fa83e4564f86e6a7ca0" category="list-text">Você pode fazer uma atualização direta para qualquer versão de destino que esteja dentro de uma janela de quatro versões da versão instalada. Por exemplo, você pode atualizar diretamente de 24,06 (ou qualquer lançamento de 24,06 pontos) para 25,06.</block>
  <block id="d4ea8129c0158e8c6ac0b3bb00a333e5" category="list-text">Se você estiver atualizando de uma versão fora da janela de quatro versões, execute uma atualização em várias etapas. Use as instruções de atualização do <block ref="a799aa6eaf3a5192b34ea19f24bb716f" category="inline-link-macro-rx"></block>para atualizar para a versão mais recente que se encaixa na janela de quatro versões. Por exemplo, se você estiver executando o 23,07 e quiser atualizar para o 25,06:</block>
  <block id="96643a0b653f3484db440bd905d8e591" category="list-text">Primeiro upgrade de 23,07 para 24,06.</block>
  <block id="0d5f6bd4062e1e564fa83bfc5eb6a64c" category="list-text">Em seguida, atualize de 24,06 para 25,06.</block>
  <block id="bc08c4a5eed12311fe8187fb000dd58a" category="paragraph">Para obter mais informações sobre as políticas do Amazon S3, consulte os exemplos no <block ref="61017e44ea21b481e69f04f8ac510768" category="inline-link-rx"></block> .</block>
  <block id="2508b93e69f47b3a094284dbdc9a09de" category="list-text">(_Opcional_) Adicione filtragem que inclua ou exclua recursos marcados com rótulos específicos:</block>
  <block id="b4d332d25d8164d8387707934254781d" category="admonition">Quando ambos <block ref="a25777d0a6883efb33950a7cd7a8f9b9" prefix=" " category="inline-code"></block> e <block ref="2021b5ec814a388ca04af6c6d6c2d16f" prefix=" " category="inline-code"></block> são usados, <block ref="a25777d0a6883efb33950a7cd7a8f9b9" prefix=" " category="inline-code"></block> corre primeiro e depois <block ref="2021b5ec814a388ca04af6c6d6c2d16f" prefix=" " category="inline-code"></block> é aplicado aos recursos resultantes.</block>
  <block id="6b556cca1436ef5909ccaa59f5aae989" category="paragraph">Você pode usar <block ref="e80c5db95c437e3b5acee80112bd1f1a" prefix=" " category="inline-code"></block> e <block ref="484f02b530e920abf065e3f27b7a6d80" prefix=" " category="inline-code"></block> sinalizadores para incluir ou excluir recursos com base em <block ref="303a9ae359153efd5b4c1067cd875175" prefix=" " category="inline-code"></block> como grupo, tipo, versão, rótulos, nomes e namespaces, conforme mostrado no exemplo a seguir:</block>
  <block id="13001655f60b86601d45076ffb7e8cb4" category="list-text">*spec.snapshotRef*: (_Opcional_): Nome do snapshot a ser usado como origem do backup. Se não for fornecido, um instantâneo temporário será criado e feito backup.</block>
  <block id="ba2af206b00fb98d583a5fe7908af2cc" category="list-text">*metadata.annotations.protect.trident.netapp.io/full-backup* : (_Opcional_) Esta anotação é usada para especificar se um backup deve ser não incremental. Por padrão, todos os backups são incrementais. No entanto, se esta anotação estiver definida como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, a cópia de segurança torna-se não incremental. Se não for especificado, o backup segue a configuração padrão de backup incremental. É prática recomendada executar um backup completo periodicamente e, em seguida, executar backups incrementais entre backups completos para minimizar o risco associado às restaurações.</block>
  <block id="93b1107cde6ba041513cd9ccf7b4bae0" category="paragraph">Opcionalmente, você pode usar o<block ref="53f5240b338c91a0568f15e2562a35de" prefix=" " category="inline-code"></block> sinalizador para especificar se um backup deve ser não incremental. Por padrão, todos os backups são incrementais. Quando esse sinalizador é usado, o backup se torna não incremental. É prática recomendada executar um backup completo periodicamente e, em seguida, executar backups incrementais entre backups completos para minimizar o risco associado às restaurações.</block>
  <block id="99cd57e28c97c0577c8e6d701de91b88" category="section-title">Crie um agendamento de backup</block>
  <block id="46773fe21c0cf6451e8de9f6a18da51f" category="paragraph">Você pode agendar um backup completo não incremental. Por padrão, todos os backups são incrementais. Executar um backup completo periodicamente, juntamente com backups incrementais no meio, ajuda a reduzir o risco associado às restaurações.</block>
  <block id="2c26e9a03dd91b6eafe57094f8245ad8" category="list-text">Crie o arquivo de recurso personalizado (CR) e nomeie-o<block ref="cb18a3ae8903eb525dd256cfa3d4576e" prefix=" " category="inline-code"></block>.</block>
  <block id="1770a13eba6600496a86d2f1cf357813" category="list-text">*metadata.annotations.protect.trident.netapp.io/full-backup-rule*: (_Optional_) esta anotação é usada para especificar a regra para agendar o backup completo. Você pode configurá-lo para<block ref="f9f90eeaf400d228facde6bc48da5cfb" prefix=" " category="inline-code"></block> backup completo constante ou personalizá-lo com base em suas necessidades. Por exemplo, se você escolher a granularidade diária, poderá especificar os dias da semana em que o backup completo deve ocorrer.</block>
  <block id="9355f48a9876fcaefe0351294df4e05c" category="list-text">Depois de preencher o<block ref="cb18a3ae8903eb525dd256cfa3d4576e" prefix=" " category="inline-code"></block> ficheiro com os valores corretos, aplique o CR:</block>
  <block id="1bd9850ddb901f0e741293ec737c5de6" category="list-text">Crie o agendamento de backup, substituindo valores entre parênteses por informações do seu ambiente. Por exemplo:</block>
  <block id="ab5807fb06fd654f730a4ed5a02bb950" category="paragraph">Você pode definir o<block ref="61df7cc86eb24ab1300f0e74e74bb50c" prefix=" " category="inline-code"></block> sinalizador para<block ref="f9f90eeaf400d228facde6bc48da5cfb" prefix=" " category="inline-code"></block> backup completo constante ou personalizá-lo com base em suas necessidades. Por exemplo, se você escolher a granularidade diária, poderá especificar os dias da semana em que o backup completo deve ocorrer. Por exemplo, use<block ref="d416cce9d6bcb838c8958b9fbb84dffa" prefix=" " category="inline-code"></block> para agendar o backup completo às segundas e quintas-feiras.</block>
  <block id="396e0c641a3eb6083fa0ba7badcff8ac" category="admonition">Certifique-se de que a política de recuperação esteja definida como <block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> para remover todos os dados de backup do armazenamento de objetos. A configuração padrão da política é <block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block> para evitar perda acidental de dados. Se a política não for alterada para <block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> , os dados de backup permanecerão no armazenamento de objetos e exigirão exclusão manual.</block>
  <block id="28b0a2e1fa7af6d4a2a83bc61c130c0f" category="list-text">Certifique-se de que o armazenamento NetApp conectado ao cluster esteja usando o Trident 24.02 ou mais recente (Trident 24.10 é recomendado).</block>
  <block id="089456655f37605dd109f3d8c7ece010" category="list-text">*NetApp Trident*: O NetApp Trident deve existir nos clusters Kubernetes de origem e destino que utilizam o ONTAP como backend. O Trident Protect oferece suporte à replicação com a tecnologia NetApp SnapMirror usando classes de armazenamento com os seguintes drivers:</block>
  <block id="070b998f5495f2da2fb3ac5053772d1e" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block> : NFS</block>
  <block id="48af35aa41f6c14dcd31a429e161cd45" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> : iSCSI</block>
  <block id="af09466318992e13530265625ea96e63" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> :FC</block>
  <block id="53b96f55224c3a6f51becdf09ad8ffe6" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> : NVMe/TCP (requer no mínimo a versão ONTAP 9.15.1)</block>
  <block id="a167444fdea2847400372052380975f2" category="inline-link-macro">Licenças incluídas no ONTAP One</block>
  <block id="e25ea621e214708b88885c09ed9b5b9b" category="paragraph">A partir do ONTAP 9.10,1, todas as licenças são entregues como um arquivo de licença NetApp (NLF), que é um único arquivo que permite vários recursos. <block ref="99e347051ec17074ee747e0bde509d7d" category="inline-link-macro-rx"></block>Consulte para obter mais informações.</block>
  <block id="afafd0e230868b7ce6a0a4fcf57ee6d2" category="admonition">Somente a proteção assíncrona SnapMirror é suportada.</block>
  <block id="39741179a069c04c2421056e0f2b56fa" category="list-text">*NetApp Trident e SVM*: Os SVMs remotos pareados devem estar disponíveis para o NetApp Trident no cluster de destino.</block>
  <block id="961ce5b35a999d2dc3f7e386f74eb614" category="list-text">A restauração de um backup para um namespace diferente ou para o namespace original é suportada para volumes qtree. No entanto, a restauração de um snapshot para um namespace diferente ou para o namespace original não é suportada para volumes qtree.</block>
  <block id="ffbfa7c1456b1cb991affd8a76d54fd1" category="section-title">Anotações suportadas</block>
  <block id="738d4e5947ef1239f584cd47619cf356" category="paragraph">Esta seção lista as anotações suportadas para configurar diversos comportamentos no sistema. Se uma anotação não for definida explicitamente pelo usuário, o sistema usará o valor padrão.</block>
  <block id="f49fa3f76b2a4fcdf04dff369d417d84" category="cell">protect.trident.netapp.io/data-mover-timeout-sec</block>
  <block id="a666ad37acca2b6a0ee400d7b2acf088" category="cell">O tempo máximo (em segundos) permitido para a operação do movimentador de dados ser interrompida.</block>
  <block id="94f6d7e04a4d452035300f18b984988c" category="cell">300</block>
  <block id="3b2f6f0bb673ee02e8aafe624e2e971f" category="cell">protect.trident.netapp.io/kopia-content-cache-size-limit-mb</block>
  <block id="157db7df530023575515d366c9b672e8" category="cell">número inteiro</block>
  <block id="f044e4dc5e5fdde631180451c25a973c" category="cell">O limite máximo de tamanho (em megabytes) para o cache de conteúdo do Kopia.</block>
  <block id="a9b7ba70783b617e9998dc4dd82eb3c5" category="cell">1000</block>
  <block id="0ae48837f8ebc5da6e90828852d02027" category="admonition">Esta etapa não é necessária para a versão 25.06 e posteriores.</block>
  <block id="ed98e5c2a168d1606df0370fe371df28" category="paragraph">Ao atualizar a partir da versão 24.10, os snapshots executados durante a atualização podem falhar. Essa falha não impede a criação de snapshots futuros, sejam eles manuais ou agendados. Se um snapshot falhar durante a atualização, você pode criar um novo snapshot manualmente para garantir a proteção do seu aplicativo.</block>
  <block id="756accba0f305693c47126f932bd7ac6" category="paragraph">Para evitar possíveis falhas, você pode desabilitar todos os agendamentos de snapshots antes da atualização e reabilitá-los posteriormente. No entanto, isso resultará na perda de snapshots agendados durante o período de atualização.</block>
  <block id="8e903b2b577c535f6f70248f34e61228" category="list-text">Execute este comando para mudar o gerenciamento de CRDs de <block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block> para <block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block> :</block>
  <block id="da4df818678014568aed9623276fd9f5" category="list-text">Execute este comando para excluir o segredo do Helm para o <block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block> gráfico:</block>
  <block id="aeea10a9d4e3d29e20b749a201f0ae46" category="admonition">Não desinstale o <block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block> gráfico usando o Helm, pois isso pode remover seus CRDs e quaisquer dados relacionados.</block>
  <block id="685db7ca1bcc71c55d1592c71e464158" category="section-title">Ganchos de execução durante operações de failover e reverso</block>
  <block id="bfc5a6b94bc23ccc51c85a2aa1cb71b4" category="paragraph">Ao usar o relacionamento do AppMirror para proteger seu aplicativo, há comportamentos específicos relacionados aos ganchos de execução dos quais você deve estar ciente durante operações de failover e reverso.</block>
  <block id="3d11bc959173dddd2997400e7bdf4d67" category="list-text">Durante o failover, os ganchos de execução são copiados automaticamente do cluster de origem para o cluster de destino. Não é necessário recriá-los manualmente. Após o failover, os ganchos de execução permanecem presentes no aplicativo e serão executados durante quaisquer ações relevantes.</block>
  <block id="ba9dd6212c2e02686051fbf28e548584" category="list-text">Durante a sincronização reversa ou ressincronização reversa, quaisquer ganchos de execução existentes no aplicativo são removidos. Quando o aplicativo de origem se torna o aplicativo de destino, esses ganchos de execução não são válidos e são excluídos para impedir sua execução.</block>
  <block id="98b9f287abe5860abcc3ab5364313188" category="paragraph">Para saber mais sobre ganchos de execução, consulte <block ref="d0f7adc5528355d3ba6ac91271095c29" category="inline-link-macro-rx"></block> .</block>
  <block id="f815c45e5a618fe75ef3a716b30b711d" category="list-text">Opcionalmente, no cluster de origem, faça um snapshot do aplicativo de origem. Este instantâneo é utilizado como base para a aplicação no cluster de destino. Se você pular esta etapa, precisará esperar que o próximo snapshot agendado seja executado para que você tenha um snapshot recente.</block>
  <block id="9399bd959f53d5a7d8671b597df92df2" category="paragraph">Além do cronograma fornecido abaixo, recomenda-se criar um cronograma de snapshots diários separado, com um período de retenção de 7 dias, para manter um snapshot comum entre clusters ONTAP pareados. Isso garante que os snapshots fiquem disponíveis por até 7 dias, mas o período de retenção pode ser personalizado de acordo com as necessidades do usuário.</block>
  <block id="bd8250ba3a5ac73f1ca0ba8c92937c5a" category="paragraph">Em caso de failover, o sistema pode usar esses snapshots por até 7 dias para operações reversas. Essa abordagem torna o processo de reversão mais rápido e eficiente, pois apenas as alterações feitas desde o último snapshot serão transferidas, e não todos os dados.</block>
  <block id="af22b57fbc1d302d6a0b83cb06ce9e6a" category="paragraph">Se um cronograma existente para o aplicativo já atender aos requisitos de retenção desejados, nenhum cronograma adicional será necessário.</block>
  <block id="84caf200e79d5962bc7f3516e9ad328c" category="open-title">Tire um instantâneo usando um CR</block>
  <block id="3feb4a62c8b59cd52ae22845d363c901" category="open-title">Tire um instantâneo usando a CLI</block>
  <block id="e995d56efd9e31d97825dd79be4d1383" category="inline-link-macro">Saiba mais sobre os sistemas de armazenamento ASA R2</block>
  <block id="19bf8687ff63071d6f6661c290cba7c2" category="admonition">A criptografia LUKS não é compatível com sistemas ASA r2. Para obter informações sobre sistemas ASA r2, consulte <block ref="40f055dd42976ff294174231df35e37e" category="inline-link-macro-rx"></block> .</block>
  <block id="8e1b080c70f6bd5a6a7f2755f82fb95b" category="paragraph">O NetApp Trident oferece suporte à clonagem de volumes ao usar o <block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> , <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> , <block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> , e <block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> drivers de armazenamento. Ao usar os<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> drivers ou<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>, a clonagem não é suportada. Criar um novo volume a partir de um volume existente resultará na criação de um novo instantâneo.</block>
  <block id="9470f4768dd90ef0be0fb76cb2f6e04b" category="admonition">Evite clonar um PVC associado a uma StorageClass diferente. Execute operações de clonagem dentro da mesma StorageClass para garantir a compatibilidade e evitar comportamentos inesperados.</block>
  <block id="0f3fb6e27b9de1539a220130039ade03" category="admonition">O ciclo de vida de um VolumeSnapshot é independente do PVC de origem: um snapshot persiste mesmo após o PVC de origem ser excluído. Ao excluir um PVC que tenha instantâneos associados, o Trident marca o volume de apoio para este PVC em um estado *Deletando*, mas não o remove completamente. O volume é removido quando todos os instantâneos associados são excluídos.</block>
  <block id="24cf288d698c32f6be78d78ed4ae2da4" category="section-title">Objetos do Kubernetes<block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block></block>
  <block id="03925a5c554c5613d08fccbd8b32b9f8" category="paragraph">Os objetos do Kubernetes<block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block> são análogos ao<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>. Eles ajudam a definir várias classes de armazenamento e são referenciados por snapshots de grupos de volumes para associar o snapshot à classe de snapshot necessária. Cada snapshot de grupo de volumes é associado a uma única classe de snapshot de grupo de volumes.</block>
  <block id="fff4777b7ca5b9c8c8cf5e2bcba4f07c" category="paragraph">UM <block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block> deve ser definido por um administrador para criar um grupo de snapshots. Uma classe de snapshot de grupo de volumes é criada com a seguinte definição:</block>
  <block id="8245adeb076e6d9db9f6ac77dfb4c7e3" category="paragraph">O <block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block> especifica ao Kubernetes que as solicitações de instantâneos do grupo de volumes do <block ref="122a52194c4daa3ace072fcb995c4dca" prefix=" " category="inline-code"></block> classe são gerenciados pelo Trident. O <block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> especifica a ação a ser tomada quando um instantâneo de grupo deve ser excluído. Quando <block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> está definido para <block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> , os objetos de instantâneo do grupo de volumes, bem como o instantâneo subjacente no cluster de armazenamento, são removidos quando um instantâneo é excluído. Alternativamente, configurá-lo para<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block> significa que<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block> e o instantâneo físico são retidos.</block>
  <block id="0eb0a72ef062acee4c89d5b3ff32da7f" category="section-title">Objetos do Kubernetes<block ref="7afb2b9a0abcf6292858fe2f3450e700" prefix=" " category="inline-code"></block></block>
  <block id="94d3b435d2b11531835e041026e7588f" category="paragraph">Um Kubernetes <block ref="7afb2b9a0abcf6292858fe2f3450e700" prefix=" " category="inline-code"></block> objeto é uma solicitação para criar um snapshot de vários volumes. Assim como um PVC representa uma solicitação feita por um usuário para um volume, um snapshot de grupo de volumes é uma solicitação feita por um usuário para criar um snapshot de um PVC existente.</block>
  <block id="317c0b5a54de9fa8dd62802a550228c3" category="paragraph">Quando uma solicitação de instantâneo de grupo de volume chega, o Trident gerencia automaticamente a criação do instantâneo de grupo para os volumes no backend e expõe o instantâneo criando um único <block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block> objeto. Você pode criar snapshots a partir de PVCs existentes e usar os snapshots como DataSource ao criar novos PVCs.</block>
  <block id="3edcdec1ed853ba69f1224c7c43702c5" category="admonition">O ciclo de vida de um VolumeGroupSnapshot é independente do PVC de origem: um snapshot persiste mesmo após a exclusão do PVC de origem. Ao excluir um PVC que tenha instantâneos associados, o Trident marca o volume de apoio para este PVC em um estado *Deletando*, mas não o remove completamente. O snapshot do grupo de volumes é removido quando todos os snapshots associados são excluídos.</block>
  <block id="8ea50d112474393280399a928479890a" category="section-title">Objetos do Kubernetes<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block></block>
  <block id="bf0839da8b1efda893b043a219a1630e" category="paragraph">Um Kubernetes <block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block> objeto representa um instantâneo de grupo obtido de um volume já provisionado. Ele é análogo a<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> e significa um snapshot provisionado no cluster de storage. Semelhante aos<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> objetos e<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>, quando um snapshot é criado, o<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto mantém um mapeamento um-para-um para o<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> objeto, que havia solicitado a criação do snapshot.</block>
  <block id="85cb66a45776909e333f8847ee91255d" category="paragraph">O <block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block> objeto contém detalhes que identificam o grupo de instantâneos, como <block ref="e8dbdd2405d28658285ebd383044be1a" prefix=" " category="inline-code"></block> e volumeSnapshotHandles individuais existentes no sistema de armazenamento.</block>
  <block id="a4314d759b2ba28d3d385366f2595052" category="paragraph">Quando uma solicitação de snapshot é recebida, o Trident cria o snapshot do grupo de volumes no backend. Após a criação do snapshot do grupo de volumes, o Trident configura um <block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block> objeto e, assim, expõe o instantâneo à API do Kubernetes.</block>
  <block id="fc679dfce4052095eac6de2f7f86cd16" category="paragraph">As notas de versão fornecem informações sobre novos recursos, aprimoramentos e correções de bugs na versão mais recente do NetApp Trident.</block>
  <block id="08f1535b065719df5968364b00b95026" category="paragraph">O resumo de novidades fornece detalhes sobre melhorias, correções e descontinuações para as versões do Trident e do Trident Protect.</block>
  <block id="b73e3aa94514d51e32ca4c9fa306ce1e" category="inline-link-macro">Trabalhar com instantâneos de grupos de volumes</block>
  <block id="d5bb517310bc551b239857e32401ac1f" category="inline-link-macro">Habilitar SMB seguro</block>
  <block id="6bcdf917188bd0a976b410952a796d4b" category="list-text">Simultaneidade de nós Trident aprimorada para maior escalabilidade em operações de nós para volumes iSCSI.</block>
  <block id="03384ffa27aceef186890eaae584f3c4" category="list-text">Adicionado <block ref="b5073479eb6368548b299ea4d08aa8b7" prefix=" " category="inline-code"></block> ao abrir volumes LUKS para permitir comandos discard/TRIM para recuperação de espaço.</block>
  <block id="f216940dceac21552e55089b0f450059" category="list-text">Desempenho aprimorado ao formatar volumes criptografados com LUKS.</block>
  <block id="aca9eafb022610d731f3f94197f227fd" category="list-text">Limpeza LUKS aprimorada para dispositivos LUKS com falha, mas parcialmente formatados.</block>
  <block id="fdba6fb56d2b6fb4d3d2af782f7f8e33" category="list-text">Idempotência de nó Trident aprimorada para conexão e desanexação de volume NVMe.</block>
  <block id="ab129514c6ec5bf9326f9283a0c4b73d" category="list-text">Adicionado <block ref="93e2011fcb40991e51f3f8427fdcfb82" prefix=" " category="inline-code"></block> campo para a configuração do volume Trident para o driver ONTAP-SAN-Economy.</block>
  <block id="78eb403f568b0e64b07699199ebc4992" category="admonition">Não deve ser usado em ambientes de produção.</block>
  <block id="3dd4403c2b5ea69ecfbe030e29eee853" category="list-text">[Visualização técnica] Habilitou operações simultâneas do controlador Trident por meio do <block ref="663f61c1cf47f8a531c8d769e8bf59f4" prefix=" " category="inline-code"></block> sinalizador de recurso. Isso permite que as operações do controlador sejam executadas em paralelo, melhorando o desempenho em ambientes grandes ou movimentados.</block>
  <block id="8a54b5275af086a6a2bb3983856d3f56" category="admonition">Este recurso é experimental e atualmente suporta fluxos de trabalho paralelos limitados com o driver ONTAP-SAN (protocolos iSCSI e FCP).</block>
  <block id="969ab4db9d9d63b4573cc75a0b550b21" category="list-text">[Visualização técnica] Adicionado suporte manual de QOS com o driver ANF.</block>
  <block id="fa420d9ecbb50720fc93ab14f7943b42" category="list-text">Corrigido um problema com CSI NodeExpandVolume em que dispositivos multipath podiam ficar com tamanhos incongruentes quando discos SCSI subjacentes não estavam disponíveis.</block>
  <block id="69e0fec3be54a3b91103c8c7b788339f" category="list-text">Falha corrigida na limpeza de políticas de exportação duplicadas para drivers ONTAP-NAS e ONTAP-NAS-Economy.</block>
  <block id="6e02211c85412fa0d990bce8af9e671f" category="list-text">Volumes GCNV corrigidos com padrão NFSv3 quando <block ref="e477739f39dbd2f1e1c5268912135e92" prefix=" " category="inline-code"></block> não está definido; agora os protocolos NFSv3 e NFSv4 são suportados. Se <block ref="e477739f39dbd2f1e1c5268912135e92" prefix=" " category="inline-code"></block> não for fornecido, a versão NFS padrão do host (NFSv3 ou NFSv4) será usada.</block>
  <block id="aaa014969ef27003313b67f83fe7091d" category="inline-link-macro">Problema nº 831</block>
  <block id="cd620e798a4bbf9171d504843ebb70d0" category="list-text">Problema de implantação corrigido ao instalar o Trident usando o Kustomize ( <block ref="ae3bb668f87d2aa74a2bfe43dedc0001" category="inline-link-macro-rx"></block> ).</block>
  <block id="81a9708305846c55b26ba31f647ab071" category="inline-link-macro">Problema nº 1016</block>
  <block id="11cdedcfa10c010ee258407d4a2535c9" category="list-text">Políticas de exportação ausentes corrigidas para PVCs criados a partir de instantâneos ( <block ref="dfbabc79dc25039e80d49a5ce74702bc" category="inline-link-macro-rx"></block> ).</block>
  <block id="1e655d3e31833883db169632edf4c07d" category="list-text">Problema corrigido em que os tamanhos de volume ANF não eram alinhados automaticamente em incrementos de 1 GiB.</block>
  <block id="c2c862a452feb157ea36fc61c62cb6d5" category="list-text">Problema corrigido ao usar NFSv3 com Bottlerocket.</block>
  <block id="d3c869af5d0f4ee5e35def393587ffea" category="inline-link-macro">Problema nº 1008</block>
  <block id="21a4addc7283b0fef748a52987809884" category="list-text">Tempo limite corrigido ao clonar um volume usando backends SolidFire ( <block ref="ff387119bc332768d9a3831513d005d5" category="inline-link-macro-rx"></block> ).</block>
  <block id="1d85be817e7793c5b5423dbe7a618b9b" category="list-text">Problema corrigido com volumes ONTAP-NAS-Economy expandindo até 300 TB apesar de falhas de redimensionamento.</block>
  <block id="9bfdfc993711fd8c92649ae6040af106" category="list-text">Problema corrigido em que as operações de divisão de clones estavam sendo feitas de forma síncrona ao usar a API REST do ONTAP.</block>
  <block id="d7061136425214e6ed7ba38910be5772" category="section-title">Depreciações:</block>
  <block id="eb0a31990fe8d3afbb4177136e0a9c3b" category="list-text">*Kubernetes*: Kubernetes mínimo suportado atualizado para v1.27.</block>
  <block id="df6370ee6ad8bc05b4c28dc223a119ea" category="list-text">Tempos de restauração melhorados, oferecendo a opção de fazer backups completos mais frequentes.</block>
  <block id="6d133839389fad9d044a57e7cd98852e" category="list-text">Granularidade aprimorada da definição do aplicativo e restauração seletiva com filtragem Grupo-Versão-Tipo (GVK).</block>
  <block id="d22659d02ebeb222423ac210fcf66e17" category="list-text">Ressincronização eficiente e replicação reversa ao usar o AppMirrorRelationship (AMR) com o NetApp SnapMirror, para evitar a replicação completa de PVC.</block>
  <block id="9f36be3db329921235443aaf292d3420" category="list-text">Adicionada a capacidade de usar o EKS Pod Identity para criar buckets do AppVault, eliminando a necessidade de especificar um segredo com as credenciais do bucket para clusters EKS.</block>
  <block id="608712f29e31abc332f5d43892969412" category="list-text">Adicionada a capacidade de pular a restauração de rótulos e anotações no namespace de restauração, se necessário.</block>
  <block id="6d520f4b800d8a65184cb0662edd01eb" category="list-text">O AppMirrorRelationship (AMR) agora verificará a expansão do PVC de origem e executará a expansão apropriada no PVC de destino, conforme necessário.</block>
  <block id="68782d548164f602a09d8cf18a70a1a6" category="list-text">Corrigido o bug em que os valores de anotação de snapshots anteriores estavam sendo aplicados a snapshots mais recentes. Todas as anotações de snapshots agora são aplicadas corretamente.</block>
  <block id="dec377bcea0a22bcf50bcfa52f5bd102" category="list-text">Definiu um segredo para criptografia do movimentador de dados (Kopia / Restic) por padrão, se não definido.</block>
  <block id="2b587d6f0a98259d243f20158ba733b9" category="list-text">Adicionadas mensagens de validação e erro aprimoradas para a criação do S3 AppVault.</block>
  <block id="38ada36ef84c3af0ce6c4562c412938e" category="list-text">O AppMirrorRelationship (AMR) agora replica apenas PVs no estado Bound, para evitar tentativas malsucedidas.</block>
  <block id="e06ab528ad98b563963e366c18280c8d" category="list-text">Problema corrigido em que erros eram exibidos ao obter AppVaultContent em um AppVault com grande número de backups.</block>
  <block id="8009158785ac016dca3550bd3aadcf47" category="list-text">Os KubeVirt VMSnapshots são excluídos das operações de restauração e failover para evitar falhas.</block>
  <block id="96c54179d89a7223d86e09ea0181939b" category="list-text">Problema corrigido com o Kopia em que os snapshots estavam sendo removidos prematuramente devido ao cronograma de retenção padrão do Kopia substituir o que foi definido pelo usuário no cronograma.</block>
  <block id="ccc6e323e1b274244c3180ae807ca261" category="section-title">Mudanças em 25.02.1</block>
  <block id="09d5dcc1026143b7c8b97aead4ec1396" category="cell">Falha no provisionamento se o uso estiver acima dessa porcentagem. *Não se aplica ao Amazon FSx para ONTAP*.</block>
  <block id="6830d19c259617eba954cda2aa1d541d" category="cell"><block ref="c860a3f92e27bd5d0798ef97b9454101" prefix="" category="inline-code"></block></block>
  <block id="3c26595dc5f4e2d90bc81b000429b6a7" category="cell">Usuário ou grupo de usuários administrador do Active Directory com acesso total aos compartilhamentos SMB. Use este parâmetro para conceder direitos de administrador ao compartilhamento SMB com controle total.</block>
  <block id="007eb2831357fc17158f683f6dcff454" category="section-title">Exemplos de SMB seguros</block>
  <block id="d31bd17463bbf5861b916a74d031385b" category="section-title">Configuração de backend com driver ontap-nas</block>
  <block id="0f4ec0551cca9ca01494fc00becd7670" category="section-title">Configuração de backend com driver ontap-nas-economy</block>
  <block id="423fe93aaec50040bb6be02e84f7efdf" category="section-title">Configuração de backend com pool de armazenamento</block>
  <block id="932c29a089501176987cc43435fb9490" category="section-title">Exemplo de classe de armazenamento com driver ontap-nas</block>
  <block id="6710620e6b99c9d38a3eae8738824721" category="admonition">Certifique-se de adicionar <block ref="4ab6864fc58ecd8b598ee10dfe2ac311" prefix=" " category="inline-code"></block> para habilitar o SMB seguro. O SMB seguro não funciona sem as anotações, independentemente das configurações definidas no Backend ou no PVC.</block>
  <block id="df600c813a46f3b822f7e5f064845591" category="section-title">Exemplo de classe de armazenamento com driver ontap-nas-economy</block>
  <block id="14026c1ce10412c2adbe88758af8fecd" category="section-title">Exemplo de PVC com um único usuário do AD</block>
  <block id="6588dbd33e470b3f0858ad0b7d2075c2" category="section-title">Exemplo de PVC com vários usuários do AD</block>
  <block id="353061699a2e052736b77ea68a2871e3" category="paragraph">A partir da versão 25.06, o NetApp Trident oferece suporte ao provisionamento seguro de volumes SMB criados usando <block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> e <block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> backends. Quando o SMB seguro está habilitado, você pode fornecer acesso controlado aos compartilhamentos SMB para usuários e grupos de usuários do Active Directory (AD) usando Listas de Controle de Acesso (ACLs).</block>
  <block id="fad725216d945a6443f15949ae73b316" category="list-title">Pontos a lembrar</block>
  <block id="fc531b442f38e267ff561d8bd20a3d71" category="list-text">Importando <block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> volumes não são suportados.</block>
  <block id="ae588b4a9791f58d2c577c52692f45d9" category="list-text">Somente clones somente leitura são suportados para <block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> volumes.</block>
  <block id="250a0cf82016b0cf28e3072852df48ed" category="list-text">Se o Secure SMB estiver habilitado, o Trident ignorará o compartilhamento SMB mencionado no backend.</block>
  <block id="87275c5e346f7178346f0399a6ceb9de" category="list-text">Atualizar a anotação de PVC, a anotação de classe de armazenamento e o campo de backend não atualiza a ACL de compartilhamento SMB.</block>
  <block id="972efd467b8594821be7b5680a32c911" category="list-text">A ACL de compartilhamento SMB especificada na anotação do PVC clone terá precedência sobre aquelas no PVC de origem.</block>
  <block id="a3a338c1a9eb99aaf1ddaad940b0c906" category="list-text">Certifique-se de fornecer usuários válidos do AD ao habilitar o SMB seguro. Usuários inválidos não serão adicionados à ACL.</block>
  <block id="4dcf9ab5a157e5be3f0891588273273e" category="list-text">Se você fornecer ao mesmo usuário do AD no backend, classe de armazenamento e PVC permissões diferentes, a prioridade de permissão será: PVC, classe de armazenamento e, em seguida, backend.</block>
  <block id="e56268d5a3bb9869b9e76613edc53128" category="list-text">O Secure SMB é suportado para <block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> importações de volume gerenciado e não aplicável a importações de volume não gerenciado.</block>
  <block id="315910c69a0b41f8011b0ed2cbf00430" category="list-text">Especifique adAdminUser em TridentBackendConfig, conforme mostrado no exemplo a seguir:</block>
  <block id="73f6ef8943a1983b789b024c7bfecf20" category="list-text">Adicione a anotação na classe de armazenamento.</block>
  <block id="f89369f9c30ff9c8236b833fb1b96aef" category="paragraph">Adicione o <block ref="b85be3102972ffc22dfe9101b510b6f3" prefix=" " category="inline-code"></block> anotação para a classe de armazenamento para habilitar o SMB seguro sem falhas. O valor do usuário especificado para a anotação <block ref="b85be3102972ffc22dfe9101b510b6f3" prefix=" " category="inline-code"></block> deve ser o mesmo que o nome de usuário especificado no <block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block> segredo. é <block ref="f28185d762af16471070289c69f72331" prefix=" " category="inline-code"></block> .</block>
  <block id="79731e026bd64a3983c4d0a2b46c0516" category="list-text">Crie um PVC.</block>
  <block id="151c5a9798f5c6d94a52ac5bce7f9436" category="paragraph">O exemplo a seguir cria um PVC:</block>
  <block id="fde1abb5537b55c34521d414267b3f70" category="inline-link-macro">Sistemas ASA r2</block>
  <block id="3cc22aeaf9742834647a32871fcf9142" category="inline-link-macro">Saiba mais sobre as diferenças entre os sistemas ASA r2 e outros sistemas ONTAP</block>
  <block id="1fb5039067c7374148ef72425e995a96" category="paragraph"><block ref="9f40590ca1185cea7261c2a60fc922ea" category="inline-link-macro-rx"></block> variam de outros sistemas ONTAP (ASA, AFF e FAS) na implementação de sua camada de armazenamento. Essas variações impactam o uso de certos parâmetros, conforme notado. <block ref="54401c26bff345016bccb2761388f645" category="inline-link-macro-rx"></block>.</block>
  <block id="e6a4a47ba933fc66b26212913912ce7d" category="admonition">Somente o <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver (com protocolos iSCSI e NVMe/TCP) é suportado para sistemas ASA r2.</block>
  <block id="c8863c7edb3430d82345fb2d429904cc" category="paragraph">Na configuração do backend Trident, você não precisa especificar que seu sistema é ASA r2. Ao selecionar <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> como o <block ref="d45aebe724c55b101f2ae8924ba3d486" prefix=" " category="inline-code"></block> O Trident detecta automaticamente o ASA r2 ou o sistema ONTAP tradicional. Alguns parâmetros de configuração de backend não são aplicáveis aos sistemas ASA r2, conforme indicado na tabela abaixo.</block>
  <block id="ad622c65f52f8bde8780fec7bcab74a6" category="cell">Use CHAP para autenticar iSCSI para drivers SAN ONTAP [Boolean]. Defina como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> para Trident para configurar e usar CHAP bidirecional como a autenticação padrão para o SVM dado no back-end. <block ref="866e591dc2a03ecc454dad25a664ca86" category="inline-link-macro-rx"></block>Consulte para obter detalhes. *Não compatível com FCP ou NVMe/TCP.*</block>
  <block id="8ecd39a3ee998e2e8b3b033dc8756c23" category="paragraph">*Não especifique para sistemas ASA r2*.</block>
  <block id="e35a87c3115267331b4387f1e07a5e0a" category="cell">Falha no provisionamento se o uso estiver acima dessa porcentagem. Se você estiver usando um back-end do Amazon FSX for NetApp ONTAP, não <block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>especifique . O fornecido<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> e<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> não contém as permissões necessárias para recuperar o uso agregado e limitá-lo usando o Trident. *Não especifique para sistemas ASA r2*.</block>
  <block id="fa4a1e6f7dd5c3ffb5522180ccb46f82" category="cell">Parâmetro booleano para usar APIs REST do ONTAP. <block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> Quando definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o Trident usa APIs REST do ONTAP para se comunicar com o back-end; quando definido como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>, o Trident usa chamadas ONTAPI (ZAPI) para se comunicar com o back-end. Esse recurso requer o ONTAP 9.11,1 e posterior. Além disso, a função de login do ONTAP usada deve ter acesso ao<block ref="045ed0306c61104cb0777ccd31ce648b" prefix=" " category="inline-code"></block> aplicativo. Isso é satisfeito com as funções e<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> predefinidas<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>. Começando com a versão Trident 24,06 e ONTAP 9.15.1 ou posterior,<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> é definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> por padrão; altere<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> para<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> usar chamadas ONTAPI (ZAPI). <block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> É totalmente qualificado para NVMe/TCP. *Se especificado, sempre definido como <block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> para sistemas ASA r2*.</block>
  <block id="3964653e783e46fb3a1ae3dc4aaa54ad" category="paragraph">*Suportado para <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e <block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> drivers com protocolo iSCSI.* *Além disso, com suporte para sistemas ASA r2 ao usar protocolos iSCSI e NVMe/TCP.*</block>
  <block id="bf1a2c4f1b2b258c38cce886d156e3c6" category="cell">"true" *Se especificado, defina como <block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> para sistemas ASA r2*.</block>
  <block id="4ff68efad333313447b8808c20a63224" category="cell">Modo de reserva de espaço; "nenhum" (fino) ou "volume" (grosso). *Definido para <block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> para sistemas ASA r2*.</block>
  <block id="d5ff78b8f84bf2feac9559d3c4a5d31c" category="cell">Política de instantâneos a utilizar. *Definido para <block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> para sistemas ASA r2*.</block>
  <block id="a75bcbe76d1f50305372e9c85d59b73c" category="cell">Porcentagem de volume reservado para snapshots. *Não especifique para sistemas ASA r2*.</block>
  <block id="c2ae626eaa4dcf2be1d158758d5f789a" category="cell">"falso" *Se especificado, defina como <block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> para sistemas ASA r2*.</block>
  <block id="317afded0cc22ff8de16ceec60d3e0ed" category="cell">"" *Definido para <block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> para sistemas ASA r2*.</block>
  <block id="d716a23a6e731bf750989a45cf32a804" category="cell">Política de hierarquização para usar "nenhum" *Não especifique para sistemas ASA r2*.</block>
  <block id="9e925e9341b490bfd3b4c4ca3b0c1ef2" category="inline-link-macro">isto</block>
  <block id="5a401de4946c2175a17ad6fda3a04781" category="admonition"><block ref="9f40590ca1185cea7261c2a60fc922ea" category="inline-link-macro-rx"></block> variam de outros sistemas ONTAP (ASA, AFF e FAS) na implementação de sua camada de armazenamento. Em sistemas ASA r2, zonas de disponibilidade de armazenamento são usadas em vez de agregados. Consulte <block ref="261295ed43e7c9d663fb0a84ba5b2157" category="inline-link-macro-rx"></block> Artigo da Base de conhecimento sobre como atribuir agregados a SVMs em sistemas ASA r2.</block>
  <block id="d3a94db6693be8414be239f55df31b37" category="paragraph">== Autenticar o backend ONTAP</block>
  <block id="f16fbd9bb3dcbec83ca559e0320bc245" category="paragraph">=== Habilitar autenticação baseada em credenciais</block>
  <block id="222449e5312c55d5a234569ae308041a" category="paragraph">=== Habilitar autenticação baseada em certificado</block>
  <block id="9a86918a1cd754d4c3e7a1745efe18dc" category="paragraph">=== Atualizar métodos de autenticação ou rotacionar credenciais</block>
  <block id="f33ff792ccf735be92ad60ca85333619" category="paragraph">=== Criar função ONTAP personalizada para Trident</block>
  <block id="1e86eeb01cf8def6f697ea2c64e7df45" category="paragraph">== Autenticar conexões com CHAP bidirecional</block>
  <block id="1c47399fc1153044c4efc19db3115ddf" category="paragraph">=== Como funciona</block>
  <block id="0cc88844e21c5adec6036d2a3e35f523" category="paragraph">=== Girar credenciais e atualizar backends</block>
  <block id="6fddcf0bbb95fe4fb7de4f5f2e53ee74" category="paragraph">Snapshots de grupos de volumes do Kubernetes de Volumes Persistentes (PVs) O NetApp Trident oferece a capacidade de criar snapshots de vários volumes (um grupo de snapshots de volumes). Este snapshot de grupo de volumes representa cópias de vários volumes feitas no mesmo momento.</block>
  <block id="9c3e7c7a7d7349669946d43b4988c3ed" category="admonition">VolumeGroupSnapshot é um recurso beta do Kubernetes com APIs beta. O Kubernetes 1.32 é a versão mínima necessária para o VolumeGroupSnapshot.</block>
  <block id="54100cbc57b96027d8dd74891c09bf53" category="section-title">Criar instantâneos de grupos de volumes</block>
  <block id="e5c9406711c4a7cf7784d95bdf1a2d03" category="paragraph">O instantâneo do grupo de volume é suportado com o <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver, apenas para protocolo iSCSI, ainda não suportado com Fibre Channel (FCP) nem NVMe/TCP. .Antes de começar</block>
  <block id="5b01a9092d1abd7706608bb162c6b8b5" category="list-text">Certifique-se de que sua versão do Kubernetes seja K8s 1.32 ou superior.</block>
  <block id="16a63a09f76aeddeabaee67b10b15b73" category="paragraph">Se a sua distribuição do Kubernetes não incluir o controlador de snapshot externo e os CRDs, consulte <block ref="048c22f74eff12037af96b48becdf135" category="inline-xref-macro-rx"></block> .</block>
  <block id="1f8b4b5fe121a8bf806f02d7e43e97b5" category="admonition">Não crie um controlador de snapshot se estiver criando snapshots de grupo de volumes sob demanda em um ambiente GKE. O GKE usa um controlador instantâneo oculto integrado.</block>
  <block id="651dc2c39783e984f4c34a8de9e5bdf1" category="list-text">No controlador de snapshot YAML, defina o <block ref="ba99addb5e4a87e02dbb279026aee6f0" prefix=" " category="inline-code"></block> defina o feature gate como 'true' para garantir que o instantâneo do grupo de volumes esteja habilitado.</block>
  <block id="8a30cbf1912a9801e2b44d7e46629b37" category="list-text">Crie as classes de instantâneos do grupo de volumes necessárias antes de criar um instantâneo do grupo de volumes.</block>
  <block id="044fa4af347bac1f72b867321db43dc5" category="list-text">Certifique-se de que todos os PVCs/volumes estejam no mesmo SVM para poder criar o VolumeGroupSnapshot.</block>
  <block id="b05416d74805ad470e82fbd185a80f60" category="inline-link-macro">Classe de instantâneo de grupo de volume</block>
  <block id="4142b8b09dc7a34d6ec584224ea12401" category="list-text">Crie uma VolumeGroupSnapshotClass antes de criar um VolumeGroupSnapshot. Para obter mais informações, <block ref="4379abd46d192befbb8bdad98f8a5d59" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="62db7d93a1dcd7da96e447092fe6fc94" category="list-text">Crie PVCs com rótulos necessários usando classes de armazenamento existentes ou adicione esses rótulos aos PVCs existentes.</block>
  <block id="e7593a56264dced725b58e1dcee9feba" category="paragraph">O exemplo a seguir cria o PVC usando <block ref="75b2ada4942bd6bef7c0a52dd98f7481" prefix=" " category="inline-code"></block> como fonte de dados e rótulo <block ref="976d0352c3b3c8881b2f195b2b26322b" prefix=" " category="inline-code"></block> . Defina a chave e o valor do rótulo com base em suas necessidades.</block>
  <block id="88ee2eefee7a24d49764bba2f82da06c" category="list-text">Crie um VolumeGroupSnapshot com o mesmo rótulo <block ref="976d0352c3b3c8881b2f195b2b26322b" prefix="(" category="inline-code"></block> ) especificado no PVC.</block>
  <block id="9d802b9a265ada16030457d797e599c4" category="paragraph">Este exemplo cria um instantâneo de grupo de volumes:</block>
  <block id="52d80f524a1f3e7aa3025bacef197f8a" category="section-title">Recuperar dados de volume usando um snapshot de grupo</block>
  <block id="ee9a128a343c337cf14116c1aecbb76c" category="paragraph">Você pode restaurar Volumes Persistentes individuais usando os snapshots individuais criados como parte do Snapshot do Grupo de Volumes. Não é possível recuperar o Snapshot do Grupo de Volumes como uma unidade.</block>
  <block id="76716637a3c3927e6595526c04493e52" category="paragraph">Para obter mais informações, <block ref="614ee046be6d137fe1c3eadbaba6d9fe" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="8b278511419cd00303a31bff3e658d7b" category="section-title">Excluir um PV com snapshots de grupo associados</block>
  <block id="3f0f9a5202405094b6d608bca6feef12" category="paragraph">Ao excluir um instantâneo de volume de grupo:</block>
  <block id="24c108ca3f67c96a3a0fc4a98ab3f465" category="list-text">Você pode excluir VolumeGroupSnapshots como um todo, não snapshots individuais no grupo.</block>
  <block id="f3a07fd55b2a15dd2fe4a64f0a2e01e1" category="list-text">Se PersistentVolumes forem excluídos enquanto houver um snapshot para esse PersistentVolume, o Trident moverá esse volume para um estado de "exclusão" porque o snapshot deve ser removido antes que o volume possa ser removido com segurança.</block>
  <block id="982deda5497c5c5a268ba1212d419648" category="list-text">Se um clone tiver sido criado usando um instantâneo agrupado e o grupo precisar ser excluído, uma operação de divisão no clone será iniciada e o grupo não poderá ser excluído até que a divisão seja concluída.</block>
  <block id="4379abd46d192befbb8bdad98f8a5d59" category="list-text"><block ref="4379abd46d192befbb8bdad98f8a5d59" category="inline-link-macro-rx"></block></block>
  <block id="d075b47d76ffc95cce31e3ff1a3bf887" category="paragraph">O Trident oferece suporte a relacionamentos espelhados entre um volume de origem em um cluster e o volume de destino no cluster com peering para replicação de dados para recuperação de desastres.  Você pode usar uma Definição de Recurso Personalizada (CRD) com namespace, chamada Trident Mirror Relationship (TMR), para executar as seguintes operações:</block>
  <block id="2d78d4f2531b53f3a4980133900540f7" category="paragraph">O NetApp Trident oferece suporte à replicação de volume com a tecnologia NetApp SnapMirror usando classes de armazenamento apoiadas pelos seguintes drivers: ** <block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> : NFS ** <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> : iSCSI ** <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> :FC ** <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> : NVMe/TCP (requer no mínimo a versão ONTAP 9.15.1)</block>
  <block id="a6d2a1b8501003e74309a1ac77e249d4" category="admonition">A replicação de volume usando SnapMirror não é compatível com sistemas ASA r2. Para obter informações sobre sistemas ASA r2, consulte <block ref="40f055dd42976ff294174231df35e37e" category="inline-link-macro-rx"></block> .</block>
  <block id="5bc634e5febd2967f50c152731ebe0e0" category="admonition">Pule esta etapa se estiver usando a associação de identidade do Pod.</block>
  <block id="26b17225b626fb9238849fd60eabdf60" category="paragraph">E</block>
  <block id="b2b0186a010875b0d453752a8aa06a4c" category="section-title">Criar identidade de pod ou função IAM para associação de conta de serviço (IRSA)</block>
  <block id="152bceec6d4e34c053208d61763334bc" category="paragraph">Você pode configurar uma conta de serviço do Kubernetes para assumir uma função de Gerenciamento de Identidade e Acesso (IAM) da AWS com a função de Identidade do Pod do EKS ou a função de IAM para Associação de Conta de Serviço (IRSA). Quaisquer Pods configurados para usar a conta de serviço podem acessar qualquer serviço da AWS para o qual a função tenha permissão de acesso.</block>
  <block id="0522426ad683048758e710700760f5a9" category="open-title">Identidade do Pod</block>
  <block id="acbe8cfddfd64fba35512f543affb372" category="paragraph">As associações de identidade do Amazon EKS Pod fornecem a capacidade de gerenciar credenciais para seus aplicativos, de forma semelhante à maneira como os perfis de instância do Amazon EC2 fornecem credenciais para instâncias do Amazon EC2.</block>
  <block id="870d5f69e46397da39e4d5bc6a55edc4" category="paragraph">*Instale o Pod Identity no seu cluster EKS*:</block>
  <block id="3a735289083f3ebf5b12bf1252f47e70" category="paragraph">Você pode criar uma identidade de Pod por meio do console da AWS ou usando o seguinte comando da AWS CLI:</block>
  <block id="6b12dab36e102678866ee1a9295bf251" category="inline-link-macro">Configurar o agente de identidade do pod do Amazon EKS</block>
  <block id="f0e49b3188e2241a1fd992e7697df37f" category="paragraph">Para mais informações consulte <block ref="223f02a97a1894440d2727b156e834b6" category="inline-link-macro-rx"></block> .</block>
  <block id="4fcddd38c3384849e906ff198dca9a35" category="paragraph">*Crie trust-relationship.json*:</block>
  <block id="9eaa0d9301ed8e0e6ec8d359da513e09" category="paragraph">Crie trust-relationship.json para permitir que o EKS Service Principal assuma essa função para a Identidade do Pod. Em seguida, crie uma função com esta política de confiança:</block>
  <block id="c256d9b106d5b83ccc940e1c11d40213" category="paragraph">*arquivo trust-relationship.json*:</block>
  <block id="d5bcbf5d17aa3658058051153a3abb49" category="paragraph">*Anexe a política de função à função do IAM*:</block>
  <block id="5855de3e8f302cffda094dad3434d14d" category="paragraph">Anexe a política de função da etapa anterior à função do IAM que foi criada:</block>
  <block id="ae33daeae7be898405819838f197197f" category="paragraph">*Crie uma associação de identidade de pod*:</block>
  <block id="bfb2fc1510ac240a94b2b84a57023dfd" category="paragraph">Crie uma associação de identidade de pod entre a função do IAM e a conta de serviço do Trident (trident-controller)</block>
  <block id="37d9be75a57d7c290f4624befaf41cba" category="open-title">Função do IAM para associação de conta de serviço (IRSA)</block>
  <block id="58b24f910cf7a97cc3ea8486155b2ee3" category="paragraph">*Usando a AWS CLI*:</block>
  <block id="4411692a55eac3faa65c355f682424c8" category="paragraph">*Se você estiver usando eksctl*, use o exemplo a seguir para criar uma função do IAM para uma conta de serviço no EKS:</block>
  <block id="de756da101866f0bf66d3cfdb32b337b" category="list-text">Instale o Trident usando o seguinte exemplo:</block>
  <block id="3840ce271260ab4b489b1664491a7ae0" category="open-title">Associação de contas de serviço (IRSA)</block>
  <block id="682fae06c762bb51c348b65f07930993" category="list-text">Defina os valores para *provedor de nuvem* e *identidade da nuvem*:</block>
  <block id="eff2bb231132a96a28f9d538ef100a34" category="paragraph">Se você planeja usar iSCSI, certifique-se de que o iSCSI esteja habilitado na sua máquina cliente. Se estiver usando o sistema operacional AL2023 Worker node, você pode automatizar a instalação do cliente iSCSI adicionando o parâmetro node prep na instalação do helm:</block>
  <block id="586ac0fdd530431245eb98eb3aa882f4" category="list-text">Siga estas etapas para selecionar o complemento:</block>
  <block id="b2bd1d3671dec54e9318ab4475e27324" category="list-text">Role para baixo até a seção *Complementos do AWS Marketplace* e digite *"Trident”* na caixa de pesquisa.</block>
  <block id="93883402b9e962f4416b72849cb667c9" category="list-text">Marque a caixa de seleção no canto superior direito da caixa Trident by NetApp.</block>
  <block id="77b0a7753de002b03ddc52594a9208ee" category="list-text">Se você estiver usando a autenticação IRSA, certifique-se de definir os valores de configuração disponíveis nas Configurações opcionais:</block>
  <block id="4881bf2869ec064993ab03177d502022" category="list-text">Siga o *Esquema de configuração do complemento* e defina o parâmetro *configurationValues* na seção *Valores de configuração* para o role-arn que você criou na etapa anterior (o valor deve estar no seguinte formato):</block>
  <block id="7347242fe06ebf43402a11cc7e289da8" category="paragraph">*1. Crie o <block ref="feef18acfb11dc53b7100577c6d640c4" prefix=" " category="inline-code"></block> arquivo*:</block>
  <block id="ac85dba04837be45d97d83025fa9bef9" category="paragraph">*Para Identidade do Pod, use o seguinte formato*:</block>
  <block id="08ec33a477c6b216472cd10065483760" category="paragraph">*Para autenticação IRSA, use o seguinte formato*:</block>
  <block id="895c408250687425783cbd96dd25276d" category="paragraph">*2. Instale o complemento Trident EKS.*</block>
  <block id="3cec1ada82beb8b8e724d5114558490c" category="paragraph">O cluster do EKS é compatível com vários sistemas operacionais, mas a AWS otimizou determinadas AMIS (Amazon Machine Images) para contêineres e EKS. As seguintes AMIs foram testadas com o NetApp Trident 25.02.</block>
  <block id="e5d0cb04635aeb2a6f06f54da8303683" category="admonition">Se o seu IAM desejado não está listado aqui, isso não significa que ele não é suportado; simplesmente significa que ele não foi testado. Esta lista serve como um guia para AMIs que são conhecidas por funcionar.</block>
  <block id="324844cd8fa64fd82920fe6f11dc588d" category="list-text">09 de maio de 2025: <block ref="86b6d8d044348a051fe7477baf34debb" category="inline-link-macro-rx"></block></block>
  <block id="cbe74dc7c890979d924675df2fa27a35" category="list-text">Adicionado suporte para instantâneos de grupo de volume CSI com <block ref="ee21100dace47d83bcefcb7dea09cdd3" prefix=" " category="inline-code"></block> Snapshot do grupo de volumes das APIs do Kubernetes para o driver ONTAP-SAN iSCSI. <block ref="b136941d5c2c98d5e9ff86fd07e97048" category="inline-link-macro-rx"></block>Consulte .</block>
  <block id="5e93028f6e11493fcce0c15271413cc3" category="list-text">Adicionado suporte para ONTAP ASA r2 para NVMe/TCP além de iSCSI. <block ref="0ffed2115293f61a0df2b3c8f01851e1" category="inline-link-macro-rx"></block>Consulte .</block>
  <block id="674d1c5daba14e57bb12199e316a830d" category="list-text">Adicionado suporte SMB seguro para volumes ONTAP-NAS e ONTAP-NAS-Economy. Usuários e grupos do Active Directory agora podem ser usados com volumes SMB para maior segurança. <block ref="4f989a35378d98430cb4c4899de0cc08" category="inline-link-macro-rx"></block>Consulte .</block>
  <block id="68e904dfe8bbc558c556cc39aaca54b6" category="list-text">Adicionado suporte para replicação de volume com SnapMirror para backends NVMe. <block ref="0837d9a30d067376d83aa60bb79334f8" category="inline-link-macro-rx"></block>Consulte .</block>
  <block id="afce633f05d99c109d2b0429ee891495" category="admonition">Esta etapa é necessária se você estiver atualizando de uma versão anterior à 25.06, pois os CRDs agora estão incluídos no gráfico do Trident Protect Helm.</block>
  <block id="b71ccf1062cee8c376a7eb37e3c42603" category="cell">Ativar encriptação LUKS. <block ref="569f9f91cdcc19909b8acbf6f423daf7" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="af4e755c6284fa61e563c93320e97aaa" category="paragraph">O Trident usa as seguintes portas para comunicação dentro do Kubernetes:</block>
  <block id="ef46cb32ba76d79fbc7bfb7586fff578" category="list-text">Certifique-se de ter atualizado para a versão mais recente do <block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block> .</block>
  <block id="aa56a1d260c6089f006323437ab5613f" category="list-text">O tamanho mínimo recomendado do membro/volume do FlexGroup é 100 GiB.</block>
  <block id="006ae665d682a3f9a5488cf901070b36" category="list-text">Crie um volume de 10 GiB:</block>
  <block id="865cd97dd9f832e1d9213d79b236a1ab" category="list-text">Crie um volume de 100 GiB com snapshots:</block>
  <block id="6c374189e15747b9b59cf004c2d1d7f2" category="paragraph">O tamanho mínimo do volume é 20 MiB.</block>
  <block id="32ba3ea0fdfbd643c0ee55450e506969" category="paragraph">O tamanho do volume, por padrão, é 1 GiB ou entrada de configuração ... "defaults": {"size": "5G"}.</block>
  <block id="fb489bd0bae5618bdc73d177f2d64e38" category="list-text">Crie um volume Gold de 10 GiB:</block>
  <block id="81271f59b907de8227da8c807392b336" category="list-text">Crie um volume Bronze de 100 GiB:</block>
  <block id="e19486e0f435d5132bb0d59bf69d3994" category="list-text">Substituir o tamanho padrão do volume. Veja o exemplo a seguir para criar um volume de 20 GiB com um driver:</block>
  <block id="47d9ed5ad2795e2453dc7725d8fdeadc" category="paragraph">Ao criar um backend, geralmente é possível especificar um conjunto de parâmetros. Era impossível para o administrador criar outro backend com as mesmas credenciais de armazenamento e um conjunto diferente de parâmetros. Com a introdução de pools virtuais, esse problema foi amenizado. Um pool virtual é uma abstração de nível introduzida entre o backend e a Classe de Armazenamento do Kubernetes para que o administrador possa definir parâmetros junto com rótulos que podem ser referenciados por meio das Classes de Armazenamento do Kubernetes como um seletor, de forma independente do backend. Pools virtuais podem ser definidos para todos os backends NetApp suportados com o Trident. Essa lista inclui SolidFire/ NetApp HCI, ONTAP, Cloud Volumes Service no GCP, bem como Azure NetApp Files.</block>
  <block id="193dc4f3e19f36ad5c6f2ad43ea53a42" category="list-text">Adicionou 18 MiB de sobrecarga aos LUNs LUKS para garantir que o tamanho de PVC relatado seja utilizável.</block>
  <block id="85034b8ca1df8fbc112b8206cf773406" category="list-text">Os drivers ONTAP agora aceitam tamanhos de volume abaixo de 20 MiB ( <block ref="91ddf20e925712134071a4cc83fc66a3" category="inline-link-macro-rx"></block> ).</block>
  <block id="fcc2bb4278d843dbf9fdbcf83a214131" category="admonition">* A partir da versão NetApp Trident 25.06, pools de capacidade de QoS manuais são suportados como uma prévia técnica.*</block>
  <block id="b4d452ddff320a381a09f71d2351e4c6" category="cell"><block ref="d6f0e0bdb2f24a4f559dd8f512235cb3" prefix="" category="inline-code"></block></block>
  <block id="669b3bc77d6c32aa7e2c1bfe7cc9b452" category="cell">Representa o tipo de QoS: Automático ou Manual. *Prévia técnica do Trident 25.06*</block>
  <block id="06b9281e396db002010bde1de57262eb" category="cell">Auto</block>
  <block id="ae4d8eab27ac4c80edb95b30fc583854" category="cell"><block ref="08566efed9fdb13392ea1b11d6b533a4" prefix="" category="inline-code"></block></block>
  <block id="dd71c14df42fdb8389de90b03536c45f" category="cell">Define a taxa de transferência máxima permitida. Suportado apenas para pools de capacidade de QoS manual. *Prévia técnica para Trident 25.06*</block>
  <block id="3eef9a5398f4b353f217625ca5768cc0" category="cell"><block ref="60f649f49ce41c3f0123ddceb5c9f688" prefix="" category="inline-code"></block></block>
  <block id="b70d8bcceb91e3665bafe307a5b97682" category="example-title">Exemplo de backend com pools de capacidade de QoS manuais</block>
  <block id="3ffc8f9f72c24f82c0703e3b5a78db96" category="paragraph">Esta configuração de backend coloca volumes no Azure <block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block> localização com pools de capacidade de QoS manuais. *Prévia técnica no NetApp Trident 25.06*.</block>
  <block id="8c63942428249eaa15437c7e07b3dd1e" category="paragraph">Para <block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> e <block ref="10be922aa0fd75bc53ab71eda9229763" prefix=" " category="inline-code"></block> O Trident agora usa um novo cálculo para garantir que o FlexVol seja dimensionado corretamente com a porcentagem de snapshotReserve e o PVC. Quando o usuário solicita um PVC, o Trident cria o FlexVol original com mais espaço usando o novo cálculo. Esse cálculo garante que o usuário receba o espaço gravável solicitado no PVC, e não menos espaço do que o solicitado. Antes da versão 21.07, quando o usuário solicita um PVC (por exemplo, 5 GiB), com o snapshotReserve em 50%, ele obtém apenas 2,5 GiB de espaço gravável. Isso ocorre porque o que o usuário solicitou é o volume inteiro e <block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> é uma porcentagem disso. Com o Trident 21.07, o que o usuário solicita é o espaço gravável e o Trident define o <block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> número como a porcentagem do volume total. Isso não se aplica a <block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> . Veja o exemplo a seguir para ver como isso funciona:</block>
  <block id="a9d0225032890b6fff6306b9c33e2cc9" category="paragraph">Para snapshotReserve = 50% e solicitação de PVC = 5 GiB, o tamanho total do volume é 5/.5 = 10 GiB e o tamanho disponível é 5 GiB, que é o que o usuário solicitou na solicitação de PVC . <block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block> o comando deve mostrar resultados semelhantes a este exemplo:</block>
  <block id="b2badedae3a2fdd602b26112668ed612" category="paragraph">Os backends existentes de instalações anteriores provisionarão volumes conforme explicado acima ao atualizar o Trident. Para volumes criados antes da atualização, você deve redimensioná-los para que a alteração seja observada. Por exemplo, um PVC de 2 GiB com <block ref="01d8e11bde220373533705ed26796e25" prefix=" " category="inline-code"></block> anteriormente resultou em um volume que fornece 1 GiB de espaço gravável. Redimensionar o volume para 3 GiB, por exemplo, fornece ao aplicativo 3 GiB de espaço gravável em um volume de 6 GiB.</block>
  <block id="d3b60a0dd59d810307a1e694f1de96a1" category="paragraph">O 1.1 representa os 10% extras que a Trident adiciona ao FlexVol para acomodar os metadados do LUN . <block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> = 5% e solicitação de PVC = 5 GiB, o tamanho total do volume é 5,79 GiB e o tamanho disponível é 5,5 GiB . <block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block> o comando deve mostrar resultados semelhantes a este exemplo:</block>
  <block id="d16fccbbd08210b8ff7b8b31329268bb" category="paragraph">A Trident deve criar um PV NFS de 20 MiB para este PVC:</block>
  <block id="59dd268b21bd1a23faa29555b52ba22b" category="paragraph">Para redimensionar o PV de 20 MiB recém-criado para 1 GiB, edite o PVC e defina <block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> para 1 GiB:</block>
  <block id="55b94ed9b78fb336b981481557e7d219" category="list-text">15 de abril de 2025: <block ref="1d74efb61b1c97b9032a1222a24185b1" category="inline-link-macro-rx"></block></block>
  <block id="38873c8c72328929e064d07375c3bb64" category="inline-link-macro">Aproveitando o Protocolo Fibre Channel com o Trident 25.02 para Armazenamento Persistente no Kubernetes</block>
  <block id="c6fc47f295f8e48564562b41d6234e74" category="list-text">14 de abril de 2025: <block ref="519219109d85923b9dfc4c314bbb8b20" category="inline-link-macro-rx"></block></block>
  <block id="f752aa3cc1916f79a2806e72dfc8b4b5" category="list-text">14 de abril de 2025: <block ref="e28ddf0afaf73832b19731c7248b6de5" category="inline-link-macro-rx"></block></block>
  <block id="e828b47619f791883b7abff60a3529bc" category="inline-link-macro">Simplificando a instalação do Trident no Red Hat OpenShift com o novo operador certificado</block>
  <block id="02062222c04c114bc7fc20acf792eca9" category="list-text">31 de março de 2025: <block ref="20f7b4cad613435492a1b3cb3c26a028" category="inline-link-macro-rx"></block></block>
  <block id="7259adf488b8a65d6f49febc93ff44f1" category="inline-link-macro">Provisionamento do Trident para PMEs com o Google Cloud NetApp Volumes</block>
  <block id="1759bd5240df424d309ad71c96b867f8" category="list-text">27 de março de 2025: <block ref="90bc67f83290246dad8f0bc76fd49c2c" category="inline-link-macro-rx"></block></block>
  <block id="b6bbcc8be7319fca806d894645c63253" category="list-text">05 de março de 2025: <block ref="c5953f971a0752feeb8ffbf7d9258789" category="inline-link-macro-rx"></block></block>
  <block id="469a8897f90d7e07ede75ff9b199e586" category="inline-link-macro">Implantando identidade na nuvem com Trident, GKE e Google Cloud NetApp Volumes</block>
  <block id="cb2e2f8e2789874710f34e485efc824e" category="list-text">27 de fevereiro de 2025: <block ref="46c84c372fb557e16383c0494f1255f5" category="inline-link-macro-rx"></block></block>
  <block id="869493e7a782c2bac6bf8778d6bf749e" category="list-text">12 de dezembro de 2024: <block ref="5c3a9e150bc491524071eb191093dabe" category="inline-link-macro-rx"></block></block>
  <block id="afd55df73a814282b1a34c79040d709a" category="inline-link-macro">Trident 25.01: Aprimorando a experiência de armazenamento do Kubernetes com novos recursos e melhorias</block>
  <block id="13c401b1f27132099b945b95025ca748" category="list-text">26 de novembro de 2024: <block ref="4a1bf3162dde1793089483cf7682fb86" category="inline-link-macro-rx"></block></block>
  <block id="0d5eeacaefc73b7986c8f85945c72129" category="inline-link-macro">NetApp Trident com Google Cloud NetApp Volumes</block>
  <block id="76227bcfad23cc6957b8b7e9357c9269" category="list-text">11 de novembro de 2024: <block ref="8701d0c1e4315119a2dc9de106eb2681" category="inline-link-macro-rx"></block></block>
  <block id="02104a16ef3fcf06a78872f4f5aea5d2" category="inline-link-macro">Amazon FSx for NetApp ONTAP com Red Hat OpenShift Service na AWS (ROSA) usando Trident</block>
  <block id="e2218d0205cdf02ed15039a9eb215920" category="list-text">29 de outubro de 2024: <block ref="ecf88162cd631914aa447c7edeaa2e6e" category="inline-link-macro-rx"></block></block>
  <block id="e7eb7f68cb5a04d95a6152e9d6ab37ec" category="inline-link-macro">Migração ao vivo de VMs com OpenShift Virtualization no ROSA e Amazon FSx for NetApp ONTAP</block>
  <block id="96788723465bd45962aba2ba495bac79" category="list-text">29 de outubro de 2024: <block ref="231a583c773a423673d617a1071353b9" category="inline-link-macro-rx"></block></block>
  <block id="c5b6456f211505596899eb36c3ee09e4" category="inline-link-macro">Usando NVMe/TCP para consumir armazenamento ONTAP para seus aplicativos modernos em contêineres no Amazon EKS</block>
  <block id="3373d53eb859a1fef914c3f5ca7b306d" category="list-text">08 de julho de 2024: <block ref="0549a17fef857ef2806f9656f7495ac5" category="inline-link-macro-rx"></block></block>
  <block id="782250194e3b8d07e3c01ee076d7abd9" category="inline-link-macro">Armazenamento Kubernetes integrado com Google Cloud NetApp Volumes Flex e Astra Trident</block>
  <block id="1c3ec9ce23b462e81e392f144f8c6527" category="list-text">01 de julho de 2024: <block ref="48908e9b9a4cb59db7244b631bf66632" category="inline-link-macro-rx"></block></block>
  <block id="c0575ecf088b36655f7a582773399ba0" category="inline-link-macro">ONTAP como armazenamento de backend para o registro de imagem integrado no OpenShift</block>
  <block id="fa465e5731c44ee6dc77398eecb4493d" category="list-text">11 de junho de 2024: <block ref="99a2855a4f47b1b3fc2dd744ecb3c177" category="inline-link-macro-rx"></block></block>
  <block id="a35665637b8d8bcebbf303a7e9950cf2" category="inline-link-macro">Automatizando o failover do registro para recuperação de desastres com ganchos pós-restauração de proteção Trident</block>
  <block id="9eef003e4e8a5cd2654642dbf1806c35" category="list-text">16 de maio de 2025: <block ref="9c69f3b57e4c9e30a2d1dd0bbfc81eb9" category="inline-link-macro-rx"></block></block>
  <block id="351257ff03e16ff522106900a9f35e9e" category="inline-link-macro">Recuperação de desastres de virtualização OpenShift com NetApp Trident Protect</block>
  <block id="cc48e904c9802b69a8760ed8f894b251" category="list-text">16 de maio de 2025: <block ref="a57e639cf15650353686ed7219eb274b" category="inline-link-macro-rx"></block></block>
  <block id="a3bed2eca17a542318eff49566e65560" category="inline-link-macro">Migração de classe de armazenamento com Trident Protect Backup &amp; Restore</block>
  <block id="95d102ffaff20709e445a0302dc9209b" category="list-text">13 de maio de 2025: <block ref="9965527798b3d27a2b7fb71617212405" category="inline-link-macro-rx"></block></block>
  <block id="c00f8563a4e3023d2ff83b5b26a91edc" category="inline-link-macro">Redimensione aplicativos Kubernetes com ganchos de proteção pós-restauração do Trident</block>
  <block id="a3ca851cebfd3307178076015c1cb876" category="list-text">09 de maio de 2025: <block ref="ee88df603de21180a12f2f1bbd1e61b2" category="inline-link-macro-rx"></block></block>
  <block id="8f18e786e2a2dd5d70390afe4c75e024" category="inline-link-macro">Trident Protect Power Up: Replicação do Kubernetes para Proteção e Recuperação de Desastres</block>
  <block id="ae7986fef0bfa9c9a4f730ee6bb5e0ac" category="list-text">03 de abril de 2025: <block ref="4ca932fa6234c864106756a287da48ac" category="inline-link-macro-rx"></block></block>
  <block id="9c292a7d893942317e3d566cb6f6776c" category="paragraph">Você precisa criar uma CR do AppVault manualmente ou pela linha de comando ao executar operações de proteção de dados em um aplicativo. A CR do AppVault é específica para o seu ambiente, e você pode usar os exemplos nesta página como guia para criar CRs do AppVault.</block>
  <block id="e83cbbd4be53e68f06264e1522860ce6" category="admonition">Certifique-se de que o AppVault CR esteja no cluster onde o Trident Protect está instalado. Se o AppVault CR não existir ou você não conseguir acessá-lo, a linha de comando exibirá um erro.</block>
  <block id="05e673132e6ddc1f638835fcde244ff1" category="paragraph">Antes de criar um AppVault CR, certifique-se de que o AppVault e o movimentador de dados escolhido possam ser autenticados com o provedor e quaisquer recursos relacionados.</block>
  <block id="2c2d23c6647059f96e585a1174a5c975" category="paragraph">Ao criar objetos do AppVault usando CRs ou o plugin CLI do Trident Protect, você pode especificar um segredo do Kubernetes com senhas personalizadas para criptografia Restic e Kopia. Se você não especificar um segredo, o Trident Protect usará uma senha padrão.</block>
  <block id="1850a20880f300b00b10477bfcbd6087" category="list-text">Guarde a senha em um local seguro. Você precisará dela para restaurar dados no mesmo cluster ou em um diferente. Se o cluster ou o <block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block> namespace for excluído, você não poderá restaurar seus backups ou snapshots sem a senha.</block>
  <block id="1847ffdf7c6d0f8b1bbe8c2bb725a3ce" category="list-text">Rancher Kubernetes Engine 2 (RKE2) v1.27.x - 1.33.x</block>
  <block id="3e9612318eccb033e5737a43e626163d" category="admonition">_Embora o Trident seja compatível com as versões 1.27.x a 1.33.x do Rancher Kubernetes Engine 2 (RKE2), o Trident foi qualificado atualmente apenas no RKE2 v1.28.5+rke2r1._</block>
  <block id="9509f036573c9b78acc044938588f7c4" category="paragraph">O comando de exemplo a seguir instala o complemento Trident EKS:<block ref="f235325f054788c50b512241d68cb329" prefix=" " category="inline-code"></block> (com uma versão dedicada)</block>
  <block id="cedb5a7bb4fc5e3e014ce0b58a3d5095" category="cell">iSCSI-economia</block>
  <block id="27a75f24043645e5e4d2b91bad951706" category="list-text">* Não é possível excluir o PV sem reiniciar o nó</block>
  <block id="029fec6571d8c4d36438994c07941953" category="list-text">** Não funciona com NFSv3 com Trident versão 25.02.</block>
  <block id="87e881298a8d8cc2b3ffd068da55a0c1" category="list-text">Versão EKS: 1.32</block>
  <block id="38ec877f215b7bc2eb836f279c3374c5" category="list-text">Método de instalação: Helm 25.06 e como um complemento AWS 25.06</block>
  <block id="54cae3576f4c4ef43a60a75276a7afdb" category="paragraph">Usando o Trident<block ref="30e4ebd32bc870aef019efda0672389c" category="inline-link-macro-rx"></block> você pode implantar o operador Trident e instalar o Trident em uma única etapa.</block>
  <block id="5912b080dcb9b431aedfe3f22784a527" category="paragraph">Os rótulos do pool virtual podem ser definidos usando estes caracteres:</block>
  <block id="89ff245fa0048aa9d5eeb6153a82f880" category="list-text">letras maiúsculas<block ref="0c43922c2fd0b2886820ce8d59d0a425" prefix=" " category="inline-code"></block></block>
  <block id="568787cc8b0bed04e060c362d705b747" category="list-text">letras minúsculas<block ref="dcb844fadbceca7867ca91e26174469b" prefix=" " category="inline-code"></block></block>
  <block id="99be75de31964ff7afed59629c2827c9" category="list-text">números<block ref="415d01607bfb64fa0b7efaf0fe064e86" prefix=" " category="inline-code"></block></block>
  <block id="f0fbfac7ddb67830c39dcddb2e0101aa" category="list-text">sublinhados<block ref="b14a7b8059d9c055954c92674ce60032" prefix=" " category="inline-code"></block></block>
  <block id="c76231732eebaec2e2411ed7cfd30e2c" category="list-text">hífens<block ref="336d5ebc5436534e61d16e63ddfca327" prefix=" " category="inline-code"></block></block>
  <block id="e2cc5e54cd44b8315b1324dec48b3d79" category="paragraph">Você pode migrar seus aplicativos entre clusters ou para diferentes classes de armazenamento restaurando dados de backup.</block>
  <block id="259898c4a16b145b9fb12c18949c2e58" category="paragraph">Você pode migrar aplicativos de uma classe de armazenamento para uma classe de armazenamento diferente restaurando um backup para a classe de armazenamento de destino.</block>
  <block id="b34476802a6b2dff98e6f97e309970b2" category="inline-link-macro">Use as configurações avançadas de restauração do Trident Protect</block>
  <block id="22d9eb2f3982698c6f5c93edae216a51" category="list-text">Você pode usar configurações avançadas para personalizar as operações de restauração. Para saber mais, consulte<block ref="80b4b5e2c832cc4fcff1f69711f1c808" category="inline-link-macro-rx"></block> .</block>
  <block id="3efe6f70bb45e527ed991c55df7d621d" category="admonition">Ao restaurar backups usando o Kopia como o movimentador de dados, você pode, opcionalmente, especificar anotações no CR ou usar a CLI para controlar o comportamento do armazenamento temporário usado pelo Kopia.  Consulte o<block ref="08f67cdc0555f043586a8a4182d9187b" category="inline-link-rx"></block> para obter mais informações sobre as opções que você pode configurar.  Use o<block ref="26d4326deff4a9a34c8bff3eaf4ad7fc" prefix=" " category="inline-code"></block> comando para obter mais informações sobre como especificar anotações com o Trident Protect CLI.</block>
  <block id="15910dd29963e5df5f2b5879472bcc00" category="admonition">O SnapshotRestore oferece suporte ao<block ref="b57d666629acffb30cc697faadc136b5" prefix=" " category="inline-code"></block> atributo, mas somente quando as classes de armazenamento de origem e destino usam o mesmo backend de armazenamento.  Se você tentar restaurar para um<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que usa um backend de armazenamento diferente, a operação de restauração falhará.</block>
  <block id="4c2451a6dd1d1ce7a84476069f101573" category="summary">Você pode personalizar as operações de restauração do Trident Protect usando anotações, configurações de namespace e opções de armazenamento.</block>
  <block id="3fbccf21ba46fe754417d45e7396e0e4" category="paragraph">Você pode personalizar operações de restauração usando configurações avançadas, como anotações, configurações de namespace e opções de armazenamento para atender aos seus requisitos específicos.</block>
  <block id="52391deb129507aac52d6fb22aaf137c" category="section-title">Campos suportados</block>
  <block id="c87f7398b288400e3d2c984a3d997d7b" category="paragraph">Esta seção descreve campos adicionais disponíveis para operações de restauração.</block>
  <block id="11162de38772a3876602bb4d9d213f43" category="section-title">Mapeamento de classes de armazenamento</block>
  <block id="b48c8c7ca3eb5e63afdfe6bbd74a35c9" category="paragraph">O<block ref="b57d666629acffb30cc697faadc136b5" prefix=" " category="inline-code"></block> atributo define um mapeamento de uma classe de armazenamento presente no aplicativo de origem para uma nova classe de armazenamento no cluster de destino.  Você pode usar isso ao migrar aplicativos entre clusters com diferentes classes de armazenamento ou ao alterar o backend de armazenamento para operações de BackupRestore.</block>
  <block id="27f5153068cecd37b6fa4a136586658d" category="sidebar">Usar configurações avançadas</block>
  <block id="78b16a5d2427fb1cb647b8ff8e8936dd" category="section-title">Novidades em 25.06.1</block>
  <block id="56f0b7f1d902abcea5e9a924acc8cf68" category="list-text">Corrigido um problema em que os NQNs não eram verificados antes de serem desmapeados dos subsistemas.</block>
  <block id="74ede3b036d836536636c89ae6208dc1" category="list-text">Corrigido um problema em que várias tentativas de fechar um dispositivo LUKS levavam a falhas na desanexação de volumes.</block>
  <block id="e593abd973cbfe8b821587be547d75a8" category="list-text">Corrigido o problema de desempacotamento do volume iSCSI quando o caminho do dispositivo foi alterado desde sua criação.</block>
  <block id="ba928ee331d175497be64b1981e81596" category="list-text">Clonagem de blocos de volumes em classes de armazenamento.</block>
  <block id="4f8bdbf86c4afec9c1de4e403735e1df" category="list-text">*OpenShift*: Corrigido um problema em que a preparação do nó iSCSI falhava com o OCP 4.19.</block>
  <block id="4437218698cd37b58221a09f0b779bab" category="list-text">Aumentou o tempo limite ao clonar um volume usando backends SolidFire (<block ref="ff387119bc332768d9a3831513d005d5" category="inline-link-macro-rx"></block> ).</block>
  <block id="3dca4d7450a120a0a20749c485d209b2" category="section-title">Mudanças em 25.06</block>
  <block id="2c9ccd5e8999c2c36f29069165f327c3" category="admonition">Se você usa o Red Hat OpenShift, é importante observar o papel crítico das anotações de namespace em ambientes OpenShift.  As anotações de namespace garantem que os pods restaurados cumpram as permissões e configurações de segurança apropriadas definidas pelas restrições de contexto de segurança (SCCs) do OpenShift e possam acessar volumes sem problemas de permissão.  Para mais informações, consulte o<block ref="f3121e004cef0b92f500227025367589" category="inline-link-rx"></block> .</block>
  <block id="2a9150a706b628692ca94ac824abf6e8" category="list-text">OpenShift 4.14 - 4.19 (Se você planeja usar a preparação do nó iSCSI com o OpenShift 4.19, a versão mínima do Trident suportada é 25.06.1.)</block>
  <block id="dcc6257f6685a427757ede81b2086cb2" category="admonition">A partir do OpenShift 4.19, a versão mínima do Trident suportada para esse recurso é 25.06.1.</block>
  <block id="f08afbad2425a561da32571e97df6fa3" category="list-text"><block ref="88e6af50844241df09da1b4f0fed0dc1" prefix="" category="inline-code"></block>: A imagem do contêiner para o Autosupport Telemetry (padrão "netapp/trident autosupport:&lt;current-version&gt;").<block ref="21e377b6d1724ef73707d1b42de99ab3" prefix=" " category="inline-code"></block> : O endereço/porta de um proxy para envio de Telemetria Autosupport.<block ref="8ef3d4e948c6061ad15793e3bfd2660f" prefix=" " category="inline-code"></block> : Tentar instalar os pacotes necessários nos nós.<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block> : Gere arquivos YAML sem instalar nada.<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block> ,<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block> : Ajuda para instalação.<block ref="a6bd80a942dd6d1c4d4b8aa4bd064415" prefix=" " category="inline-code"></block> : Substituir o tempo limite de solicitação HTTP para a API REST do controlador Trident (padrão 1m30s).<block ref="22f97752ec243e2f8fb13a584ff48f0d" prefix=" " category="inline-code"></block> : O endereço/porta de um registro de imagem interno.<block ref="af58b91b0e366d67d75550c28c8b73bd" prefix=" " category="inline-code"></block> : O tempo limite para todas as operações do Kubernetes (padrão 3m0s).<block ref="931fef57514fa5bc71c5c9784dcb35b2" prefix=" " category="inline-code"></block> : O local do host do estado interno do kubelet (padrão "/var/lib/kubelet").<block ref="ad595b91ed4748510a60df1c00ce5bd6" prefix=" " category="inline-code"></block> : O formato de registro do Trident (texto, json) (padrão "texto").<block ref="1606f6268af560ddbfffdd3790afb4d2" prefix=" " category="inline-code"></block> : Permite que o Trident prepare os nós do cluster Kubernetes para gerenciar volumes usando o protocolo de armazenamento de dados especificado.  *Atualmente,<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block> é o único valor suportado.  A partir do OpenShift 4.19, a versão mínima do Trident suportada para esse recurso é 25.06.1.*<block ref="120a4fcacf73dd87df1de81c4d7a2526" prefix=" " category="inline-code"></block> : O nome do PV legado usado pelo Trident garante que isso não exista (padrão "trident").<block ref="12ea064968b15f51e1c1a7444fe9f227" prefix=" " category="inline-code"></block> : O nome do PVC legado usado pelo Trident garante que isso não exista (padrão "trident").<block ref="284e51f7c35ac8708577507873ff928e" prefix=" " category="inline-code"></block> : Não enviar pacotes de suporte automático para a NetApp automaticamente (padrão verdadeiro).<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block> : Desabilita a maioria das saídas durante a instalação.<block ref="356c2fa7142c3aee4cd6204d96ea0890" prefix=" " category="inline-code"></block> : A imagem do Trident para instalar.<block ref="8026926641b283123174e50f80da83de" prefix=" " category="inline-code"></block> : Use qualquer arquivo YAML existente no diretório de configuração.<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> : Use IPv6 para comunicação do Trident.</block>
  <block id="70fec01f1a76dbea74bd12ad8fb20151" category="list-text">Clique em * NetApp Trident* para abrir as configurações de instalação.</block>
  <block id="1ad8c45e73d79fb1d5606c962d0f3cda" category="list-text">Selecione as opções necessárias e clique em *Instalar* para abrir a configuração do Operador.</block>
  <block id="3bcd8afe0d2e66ac8ee08b64d8ab5aa9" category="admonition">Certifique-se de selecionar a versão mais recente do Operator.</block>
  <block id="e1834934410991eaa116cd9cffd2e554" category="list-text">Mantenha todos os parâmetros como estão e clique em *Instalar*.</block>
  <block id="a1e30a9991b9e8abb01ef39a2da53ae9" category="paragraph">Quando a instalação estiver concluída, o Operador ficará visível na lista de operadores instalados e estará pronto para uso.</block>
  <block id="8b29df4adf6fbbaec0828beed4564d1b" category="list-text">Clique em *Exibir Operador* para visualizar os detalhes do Operador.</block>
  <block id="7c7ed74fe0c2134a4029358fd7840eaa" category="list-text">Em * Trident Orchestrator*, clique em *Criar instância*.</block>
  <block id="7b61a3bcc8bbd41470bf0de7fcfd839e" category="list-text">Clique em *Visualização YAML* e cole o seguinte no formulário:</block>
  <block id="9152cfa618e086866a5af7caaed0d2bd" category="list-text">O Red Hat Enterprise Linux CoreOS (RHCOS) não tem o iSCSI habilitado e configurado.</block>
  <block id="5df2f935f2bc3df2c6378f665b3d6659" category="list-text">Você pode adicionar o<block ref="e9a7558decb5e432d8b7c4d536cc9876" prefix=" " category="inline-code"></block> parâmetro para configurar e habilitar os serviços iSCSI e Multipath em todos os nós de trabalho do OpenShift.</block>
  <block id="f61306bfa8c6de676059739358d4479f" category="list-text">Clique em *Criar*; o Trident Orchestrator será totalmente instalado.</block>
  <block id="7f95b6a9d45bd5ee11107a5abb5dd69c" category="section-title">Desinstalar operador Trident</block>
</blocks>